/*! core/third-party/jquery-3.5.1.js*/
/*!
 * jQuery JavaScript Library v3.5.1
 * https://jquery.com/
 *
 * Includes Sizzle.js
 * https://sizzlejs.com/
 *
 * Copyright JS Foundation and other contributors
 * Released under the MIT license
 * https://jquery.org/license
 *
 * Date: 2020-05-04T22:49Z
 */
!function () {
    var harvester = dio.getClientData('common.tracking.harvester');
    new OneStream.OneStreamDionysusExt(harvester);
    window.dispatchEvent(new CustomEvent('OneStreamLoaded'));
}();
!function () {
    var s = document.createElement('script');
    var loadedFlag = false;
    s.defer = true;
    function loadBS() {
        var x = document.getElementsByTagName('script')[0];
        x.parentNode.insertBefore(s, x);
    }

    var containerSrc = dio.getClientData('common.tracking.tagCommanderContainer');

    s.src = containerSrc;

    if (/hotel booking confirmation|Mob :: (?:iApp|aApp|iPad|aPad) :: Booking Enter Details/.test(dio.getObjectByName('commonDataBlock.page.pageName'))) {
        loadBS();
        loadedFlag = true;
    } else {
        // we will load TC regardless of user consent (consent constraints are set up in TC for every tag)
        $(window).on('load', function () {
            loadBS();
            loadedFlag = true;
        });
    }

    // need to reload TC once consent is given, so tags can fire
    dio.event.subscribe('cookiePolicyGiven', function () {
        if (loadedFlag) {
            tC && tC.script && tC.script.add && tC.script.add(containerSrc);
        }
    });
}();
!function(e,t){"use strict";"object"==typeof module&&"object"==typeof module.exports?module.exports=e.document?t(e,!0):function(e){if(!e.document)throw new Error("jQuery requires a window with a document");return t(e)}:t(e)}("undefined"!=typeof window?window:this,function(C,e){"use strict";function g(e,t,n){var r,i,o=(n=n||we).createElement("script");if(o.text=e,t)for(r in Te)(i=t[r]||t.getAttribute&&t.getAttribute(r))&&o.setAttribute(r,i);n.head.appendChild(o).parentNode.removeChild(o)}function v(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?de[he.call(e)]||"object":typeof e}function s(e){var t=!!e&&"length"in e&&e.length,n=v(e);return!xe(e)&&!be(e)&&("array"===n||0===t||"number"==typeof t&&0<t&&t-1 in e)}function l(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()}function t(e,n,r){return xe(n)?Ee.grep(e,function(e,t){return!!n.call(e,t,e)!==r}):n.nodeType?Ee.grep(e,function(e){return e===n!==r}):"string"!=typeof n?Ee.grep(e,function(e){return-1<pe.call(n,e)!==r}):Ee.filter(n,e,r)}function n(e,t){for(;(e=e[t])&&1!==e.nodeType;);return e}function c(e){var n={};return Ee.each(e.match(Pe)||[],function(e,t){n[t]=!0}),n}function f(e){return e}function p(e){throw e}function u(e,t,n,r){var i;try{e&&xe(i=e.promise)?i.call(e).done(t).fail(n):e&&xe(i=e.then)?i.call(e,t,n):t.apply(void 0,[e].slice(r))}catch(e){n.apply(void 0,[e])}}function r(){we.removeEventListener("DOMContentLoaded",r),C.removeEventListener("load",r),Ee.ready()}function i(e,t){return t.toUpperCase()}function d(e){return e.replace(We,"ms-").replace(Fe,i)}function o(){this.expando=Ee.expando+o.uid++}function a(e){return"true"===e||"false"!==e&&("null"===e?null:e===+e+""?+e:ze.test(e)?JSON.parse(e):e)}function h(e,t,n){var r;if(void 0===n&&1===e.nodeType)if(r="data-"+t.replace(Ue,"-$&").toLowerCase(),"string"==typeof(n=e.getAttribute(r))){try{n=a(n)}catch(e){}_e.set(e,t,n)}else n=void 0;return n}function y(e,t,n,r){var i,o,a=20,s=r?function(){return r.cur()}:function(){return Ee.css(e,t,"")},u=s(),l=n&&n[3]||(Ee.cssNumber[t]?"":"px"),c=e.nodeType&&(Ee.cssNumber[t]||"px"!==l&&+u)&&Ve.exec(Ee.css(e,t));if(c&&c[3]!==l){for(u/=2,l=l||c[3],c=+u||1;a--;)Ee.style(e,t,c+l),(1-o)*(1-(o=s()/u||.5))<=0&&(a=0),c/=o;c*=2,Ee.style(e,t,c+l),n=n||[]}return n&&(c=+c||+u||0,i=n[1]?c+(n[1]+1)*n[2]:+n[2],r&&(r.unit=l,r.start=c,r.end=i)),i}function m(e){var t,n=e.ownerDocument,r=e.nodeName,i=Ze[r];return i||(t=n.body.appendChild(n.createElement(r)),i=Ee.css(t,"display"),t.parentNode.removeChild(t),"none"===i&&(i="block"),Ze[r]=i)}function x(e,t){for(var n,r,i=[],o=0,a=e.length;o<a;o++)(r=e[o]).style&&(n=r.style.display,t?("none"===n&&(i[o]=Be.get(r,"display")||null,i[o]||(r.style.display="")),""===r.style.display&&Ke(r)&&(i[o]=m(r))):"none"!==n&&(i[o]="none",Be.set(r,"display",n)));for(o=0;o<a;o++)null!=i[o]&&(e[o].style.display=i[o]);return e}function b(e,t){var n;return n=void 0!==e.getElementsByTagName?e.getElementsByTagName(t||"*"):void 0!==e.querySelectorAll?e.querySelectorAll(t||"*"):[],void 0===t||t&&l(e,t)?Ee.merge([e],n):n}function w(e,t){for(var n=0,r=e.length;n<r;n++)Be.set(e[n],"globalEval",!t||Be.get(t[n],"globalEval"))}function T(e,t,n,r,i){for(var o,a,s,u,l,c,f=t.createDocumentFragment(),p=[],d=0,h=e.length;d<h;d++)if((o=e[d])||0===o)if("object"===v(o))Ee.merge(p,o.nodeType?[o]:o);else if(st.test(o)){for(a=a||f.appendChild(t.createElement("div")),s=(tt.exec(o)||["",""])[1].toLowerCase(),u=at[s]||at._default,a.innerHTML=u[1]+Ee.htmlPrefilter(o)+u[2],c=u[0];c--;)a=a.lastChild;Ee.merge(p,a.childNodes),(a=f.firstChild).textContent=""}else p.push(t.createTextNode(o));for(f.textContent="",d=0;o=p[d++];)if(r&&-1<Ee.inArray(o,r))i&&i.push(o);else if(l=Ye(o),a=b(f.appendChild(o),"script"),l&&w(a),n)for(c=0;o=a[c++];)nt.test(o.type||"")&&n.push(o);return f}function E(){return!0}function S(){return!1}function k(e,t){return e===A()==("focus"===t)}function A(){try{return we.activeElement}catch(e){}}function j(e,t,n,r,i,o){var a,s;if("object"==typeof t){for(s in"string"!=typeof n&&(r=r||n,n=void 0),t)j(e,s,n,r,t[s],o);return e}if(null==r&&null==i?(i=n,r=n=void 0):null==i&&("string"==typeof n?(i=r,r=void 0):(i=r,r=n,n=void 0)),!1===i)i=S;else if(!i)return e;return 1===o&&(a=i,(i=function(e){return Ee().off(e),a.apply(this,arguments)}).guid=a.guid||(a.guid=Ee.guid++)),e.each(function(){Ee.event.add(this,t,i,r,n)})}function N(e,i,o){if(!o)return void 0===Be.get(e,i)&&Ee.event.add(e,i,E),void 0;Be.set(e,i,!1),Ee.event.add(e,i,{namespace:!1,handler:function(e){var t,n,r=Be.get(this,i);if(1&e.isTrigger&&this[i]){if(r.length)(Ee.event.special[i]||{}).delegateType&&e.stopPropagation();else if(r=le.call(arguments),Be.set(this,i,r),t=o(this,i),this[i](),r!==(n=Be.get(this,i))||t?Be.set(this,i,!1):n={},r!==n)return e.stopImmediatePropagation(),e.preventDefault(),n.value}else r.length&&(Be.set(this,i,{value:Ee.event.trigger(Ee.extend(r[0],Ee.Event.prototype),r.slice(1),this)}),e.stopImmediatePropagation())}})}function D(e,t){return l(e,"table")&&l(11!==t.nodeType?t:t.firstChild,"tr")&&Ee(e).children("tbody")[0]||e}function q(e){return e.type=(null!==e.getAttribute("type"))+"/"+e.type,e}function L(e){return"true/"===(e.type||"").slice(0,5)?e.type=e.type.slice(5):e.removeAttribute("type"),e}function H(e,t){var n,r,i,o,a,s,u;if(1===t.nodeType){if(Be.hasData(e)&&(u=(o=Be.get(e)).events))for(i in Be.remove(t,"handle events"),u)for(n=0,r=u[i].length;n<r;n++)Ee.event.add(t,i,u[i][n]);_e.hasData(e)&&(a=_e.access(e),s=Ee.extend({},a),_e.set(t,s))}}function O(e,t){var n=t.nodeName.toLowerCase();"input"===n&&et.test(e.type)?t.checked=e.checked:"input"!==n&&"textarea"!==n||(t.defaultValue=e.defaultValue)}function P(n,r,i,o){r=ce(r);var e,t,a,s,u,l,c=0,f=n.length,p=f-1,d=r[0],h=xe(d);if(h||1<f&&"string"==typeof d&&!me.checkClone&&pt.test(d))return n.each(function(e){var t=n.eq(e);h&&(r[0]=d.call(this,e,t.html())),P(t,r,i,o)});if(f&&(t=(e=T(r,n[0].ownerDocument,!1,n,o)).firstChild,1===e.childNodes.length&&(e=t),t||o)){for(s=(a=Ee.map(b(e,"script"),q)).length;c<f;c++)u=e,c!==p&&(u=Ee.clone(u,!0,!0),s&&Ee.merge(a,b(u,"script"))),i.call(n[c],u,c);if(s)for(l=a[a.length-1].ownerDocument,Ee.map(a,L),c=0;c<s;c++)u=a[c],nt.test(u.type||"")&&!Be.access(u,"globalEval")&&Ee.contains(l,u)&&(u.src&&"module"!==(u.type||"").toLowerCase()?Ee._evalUrl&&!u.noModule&&Ee._evalUrl(u.src,{nonce:u.nonce||u.getAttribute("nonce")},l):g(u.textContent.replace(dt,""),u,l))}return n}function R(e,t,n){for(var r,i=t?Ee.filter(t,e):e,o=0;null!=(r=i[o]);o++)n||1!==r.nodeType||Ee.cleanData(b(r)),r.parentNode&&(n&&Ye(r)&&w(b(r,"script")),r.parentNode.removeChild(r));return e}function M(e,t,n){var r,i,o,a,s=e.style;return(n=n||gt(e))&&(""!==(a=n.getPropertyValue(t)||n[t])||Ye(e)||(a=Ee.style(e,t)),!me.pixelBoxStyles()&&ht.test(a)&&yt.test(t)&&(r=s.width,i=s.minWidth,o=s.maxWidth,s.minWidth=s.maxWidth=s.width=a,a=n.width,s.width=r,s.minWidth=i,s.maxWidth=o)),void 0!==a?a+"":a}function I(e,t){return{get:function(){return e()?(delete this.get,void 0):(this.get=t).apply(this,arguments)}}}function W(e){for(var t=e[0].toUpperCase()+e.slice(1),n=mt.length;n--;)if((e=mt[n]+t)in xt)return e}function F(e){var t=Ee.cssProps[e]||bt[e];return t||(e in xt?e:bt[e]=W(e)||e)}function $(e,t,n){var r=Ve.exec(t);return r?Math.max(0,r[2]-(n||0))+(r[3]||"px"):t}function B(e,t,n,r,i,o){var a="width"===t?1:0,s=0,u=0;if(n===(r?"border":"content"))return 0;for(;a<4;a+=2)"margin"===n&&(u+=Ee.css(e,n+Qe[a],!0,i)),r?("content"===n&&(u-=Ee.css(e,"padding"+Qe[a],!0,i)),"margin"!==n&&(u-=Ee.css(e,"border"+Qe[a]+"Width",!0,i))):(u+=Ee.css(e,"padding"+Qe[a],!0,i),"padding"!==n?u+=Ee.css(e,"border"+Qe[a]+"Width",!0,i):s+=Ee.css(e,"border"+Qe[a]+"Width",!0,i));return!r&&0<=o&&(u+=Math.max(0,Math.ceil(e["offset"+t[0].toUpperCase()+t.slice(1)]-o-u-s-.5))||0),u}function _(e,t,n){var r=gt(e),i,o=(!me.boxSizingReliable()||n)&&"border-box"===Ee.css(e,"boxSizing",!1,r),a=o,s=M(e,t,r),u="offset"+t[0].toUpperCase()+t.slice(1);if(ht.test(s)){if(!n)return s;s="auto"}return(!me.boxSizingReliable()&&o||!me.reliableTrDimensions()&&l(e,"tr")||"auto"===s||!parseFloat(s)&&"inline"===Ee.css(e,"display",!1,r))&&e.getClientRects().length&&(o="border-box"===Ee.css(e,"boxSizing",!1,r),(a=u in e)&&(s=e[u])),(s=parseFloat(s)||0)+B(e,t,n||(o?"border":"content"),a,r,s)+"px"}function z(e,t,n,r,i){return new z.prototype.init(e,t,n,r,i)}function U(){kt&&(!1===we.hidden&&C.requestAnimationFrame?C.requestAnimationFrame(U):C.setTimeout(U,Ee.fx.interval),Ee.fx.tick())}function X(){return C.setTimeout(function(){St=void 0}),St=Date.now()}function V(e,t){var n,r=0,i={height:e};for(t=t?1:0;r<4;r+=2-t)i["margin"+(n=Qe[r])]=i["padding"+n]=e;return t&&(i.opacity=i.width=e),i}function Q(e,t,n){for(var r,i=(J.tweeners[t]||[]).concat(J.tweeners["*"]),o=0,a=i.length;o<a;o++)if(r=i[o].call(n,t,e))return r}function G(e,t,n){var r,i,o,a,s,u,l,c,f="width"in t||"height"in t,p=this,d={},h=e.style,g=e.nodeType&&Ke(e),v=Be.get(e,"fxshow");for(r in n.queue||(null==(a=Ee._queueHooks(e,"fx")).unqueued&&(a.unqueued=0,s=a.empty.fire,a.empty.fire=function(){a.unqueued||s()}),a.unqueued++,p.always(function(){p.always(function(){a.unqueued--,Ee.queue(e,"fx").length||a.empty.fire()})})),t)if(i=t[r],At.test(i)){if(delete t[r],o=o||"toggle"===i,i===(g?"hide":"show")){if("show"!==i||!v||void 0===v[r])continue;g=!0}d[r]=v&&v[r]||Ee.style(e,r)}if((u=!Ee.isEmptyObject(t))||!Ee.isEmptyObject(d))for(r in f&&1===e.nodeType&&(n.overflow=[h.overflow,h.overflowX,h.overflowY],null==(l=v&&v.display)&&(l=Be.get(e,"display")),"none"===(c=Ee.css(e,"display"))&&(l?c=l:(x([e],!0),l=e.style.display||l,c=Ee.css(e,"display"),x([e]))),("inline"===c||"inline-block"===c&&null!=l)&&"none"===Ee.css(e,"float")&&(u||(p.done(function(){h.display=l}),null==l&&(c=h.display,l="none"===c?"":c)),h.display="inline-block")),n.overflow&&(h.overflow="hidden",p.always(function(){h.overflow=n.overflow[0],h.overflowX=n.overflow[1],h.overflowY=n.overflow[2]})),u=!1,d)u||(v?"hidden"in v&&(g=v.hidden):v=Be.access(e,"fxshow",{display:l}),o&&(v.hidden=!g),g&&x([e],!0),p.done(function(){for(r in g||x([e]),Be.remove(e,"fxshow"),d)Ee.style(e,r,d[r])})),u=Q(g?v[r]:0,r,p),r in v||(v[r]=u.start,g&&(u.end=u.start,u.start=0))}function Y(e,t){var n,r,i,o,a;for(n in e)if(i=t[r=d(n)],o=e[n],Array.isArray(o)&&(i=o[1],o=e[n]=o[0]),n!==r&&(e[r]=o,delete e[n]),(a=Ee.cssHooks[r])&&"expand"in a)for(n in o=a.expand(o),delete e[r],o)n in e||(e[n]=o[n],t[n]=i);else t[r]=i}function J(a,e,t){var n,s,r=0,i=J.prefilters.length,u=Ee.Deferred().always(function(){delete o.elem}),o=function(){if(s)return!1;for(var e=St||X(),t=Math.max(0,l.startTime+l.duration-e),n,r=1-(t/l.duration||0),i=0,o=l.tweens.length;i<o;i++)l.tweens[i].run(r);return u.notifyWith(a,[l,r,t]),r<1&&o?t:(o||u.notifyWith(a,[l,1,0]),u.resolveWith(a,[l]),!1)},l=u.promise({elem:a,props:Ee.extend({},e),opts:Ee.extend(!0,{specialEasing:{},easing:Ee.easing._default},t),originalProperties:e,originalOptions:t,startTime:St||X(),duration:t.duration,tweens:[],createTween:function(e,t){var n=Ee.Tween(a,l.opts,e,t,l.opts.specialEasing[e]||l.opts.easing);return l.tweens.push(n),n},stop:function(e){var t=0,n=e?l.tweens.length:0;if(s)return this;for(s=!0;t<n;t++)l.tweens[t].run(1);return e?(u.notifyWith(a,[l,1,0]),u.resolveWith(a,[l,e])):u.rejectWith(a,[l,e]),this}}),c=l.props;for(Y(c,l.opts.specialEasing);r<i;r++)if(n=J.prefilters[r].call(l,a,c,l.opts))return xe(n.stop)&&(Ee._queueHooks(l.elem,l.opts.queue).stop=n.stop.bind(n)),n;return Ee.map(c,Q,l),xe(l.opts.start)&&l.opts.start.call(a,l),l.progress(l.opts.progress).done(l.opts.done,l.opts.complete).fail(l.opts.fail).always(l.opts.always),Ee.fx.timer(Ee.extend(o,{elem:a,anim:l,queue:l.opts.queue})),l}function K(e){var t;return(e.match(Pe)||[]).join(" ")}function Z(e){return e.getAttribute&&e.getAttribute("class")||""}function ee(e){return Array.isArray(e)?e:"string"==typeof e&&e.match(Pe)||[]}function te(n,e,r,i){var t;if(Array.isArray(e))Ee.each(e,function(e,t){r||Bt.test(n)?i(n,t):te(n+"["+("object"==typeof t&&null!=t?e:"")+"]",t,r,i)});else if(r||"object"!==v(e))i(n,e);else for(t in e)te(n+"["+t+"]",e[t],r,i)}function ne(o){return function(e,t){"string"!=typeof e&&(t=e,e="*");var n,r=0,i=e.toLowerCase().match(Pe)||[];if(xe(t))for(;n=i[r++];)"+"===n[0]?(n=n.slice(1)||"*",(o[n]=o[n]||[]).unshift(t)):(o[n]=o[n]||[]).push(t)}}function re(t,i,o,a){function s(e){var r;return u[e]=!0,Ee.each(t[e]||[],function(e,t){var n=t(i,o,a);return"string"!=typeof n||l||u[n]?l?!(r=n):void 0:(i.dataTypes.unshift(n),s(n),!1)}),r}var u={},l=t===en;return s(i.dataTypes[0])||!u["*"]&&s("*")}function ie(e,t){var n,r,i=Ee.ajaxSettings.flatOptions||{};for(n in t)void 0!==t[n]&&((i[n]?e:r||(r={}))[n]=t[n]);return r&&Ee.extend(!0,e,r),e}function oe(e,t,n){for(var r,i,o,a,s=e.contents,u=e.dataTypes;"*"===u[0];)u.shift(),void 0===r&&(r=e.mimeType||t.getResponseHeader("Content-Type"));if(r)for(i in s)if(s[i]&&s[i].test(r)){u.unshift(i);break}if(u[0]in n)o=u[0];else{for(i in n){if(!u[0]||e.converters[i+" "+u[0]]){o=i;break}a||(a=i)}o=o||a}if(o)return o!==u[0]&&u.unshift(o),n[o]}function ae(e,t,n,r){var i,o,a,s,u,l={},c=e.dataTypes.slice();if(c[1])for(a in e.converters)l[a.toLowerCase()]=e.converters[a];for(o=c.shift();o;)if(e.responseFields[o]&&(n[e.responseFields[o]]=t),!u&&r&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),u=o,o=c.shift())if("*"===o)o=u;else if("*"!==u&&u!==o){if(!(a=l[u+" "+o]||l["* "+o]))for(i in l)if((s=i.split(" "))[1]===o&&(a=l[u+" "+s[0]]||l["* "+s[0]])){!0===a?a=l[i]:!0!==l[i]&&(o=s[0],c.unshift(s[1]));break}if(!0!==a)if(a&&e.throws)t=a(t);else try{t=a(t)}catch(e){return{state:"parsererror",error:a?e:"No conversion from "+u+" to "+o}}}return{state:"success",data:t}}var se=[],ue=Object.getPrototypeOf,le=se.slice,ce=se.flat?function(e){return se.flat.call(e)}:function(e){return se.concat.apply([],e)},fe=se.push,pe=se.indexOf,de={},he=de.toString,ge=de.hasOwnProperty,ve=ge.toString,ye=ve.call(Object),me={},xe=function e(t){return"function"==typeof t&&"number"!=typeof t.nodeType},be=function e(t){return null!=t&&t===t.window},we=C.document,Te={type:!0,src:!0,nonce:!0,noModule:!0},Ce="3.5.1",Ee=function(e,t){return new Ee.fn.init(e,t)};Ee.fn=Ee.prototype={jquery:Ce,constructor:Ee,length:0,toArray:function(){return le.call(this)},get:function(e){return null==e?le.call(this):e<0?this[e+this.length]:this[e]},pushStack:function(e){var t=Ee.merge(this.constructor(),e);return t.prevObject=this,t},each:function(e){return Ee.each(this,e)},map:function(n){return this.pushStack(Ee.map(this,function(e,t){return n.call(e,t,e)}))},slice:function(){return this.pushStack(le.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},even:function(){return this.pushStack(Ee.grep(this,function(e,t){return(t+1)%2}))},odd:function(){return this.pushStack(Ee.grep(this,function(e,t){return t%2}))},eq:function(e){var t=this.length,n=+e+(e<0?t:0);return this.pushStack(0<=n&&n<t?[this[n]]:[])},end:function(){return this.prevObject||this.constructor()},push:fe,sort:se.sort,splice:se.splice},Ee.extend=Ee.fn.extend=function(){var e,t,n,r,i,o,a=arguments[0]||{},s=1,u=arguments.length,l=!1;for("boolean"==typeof a&&(l=a,a=arguments[s]||{},s++),"object"==typeof a||xe(a)||(a={}),s===u&&(a=this,s--);s<u;s++)if(null!=(e=arguments[s]))for(t in e)r=e[t],"__proto__"!==t&&a!==r&&(l&&r&&(Ee.isPlainObject(r)||(i=Array.isArray(r)))?(n=a[t],o=i&&!Array.isArray(n)?[]:i||Ee.isPlainObject(n)?n:{},i=!1,a[t]=Ee.extend(l,o,r)):void 0!==r&&(a[t]=r));return a},Ee.extend({expando:"jQuery"+(Ce+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isPlainObject:function(e){var t,n;return!(!e||"[object Object]"!==he.call(e))&&(!(t=ue(e))||"function"==typeof(n=ge.call(t,"constructor")&&t.constructor)&&ve.call(n)===ye)},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},globalEval:function(e,t,n){g(e,{nonce:t&&t.nonce},n)},each:function(e,t){var n,r=0;if(s(e))for(n=e.length;r<n&&!1!==t.call(e[r],r,e[r]);r++);else for(r in e)if(!1===t.call(e[r],r,e[r]))break;return e},makeArray:function(e,t){var n=t||[];return null!=e&&(s(Object(e))?Ee.merge(n,"string"==typeof e?[e]:e):fe.call(n,e)),n},inArray:function(e,t,n){return null==t?-1:pe.call(t,e,n)},merge:function(e,t){for(var n=+t.length,r=0,i=e.length;r<n;r++)e[i++]=t[r];return e.length=i,e},grep:function(e,t,n){for(var r,i=[],o=0,a=e.length,s=!n;o<a;o++)(r=!t(e[o],o))!==s&&i.push(e[o]);return i},map:function(e,t,n){var r,i,o=0,a=[];if(s(e))for(r=e.length;o<r;o++)null!=(i=t(e[o],o,n))&&a.push(i);else for(o in e)null!=(i=t(e[o],o,n))&&a.push(i);return ce(a)},guid:1,support:me}),"function"==typeof Symbol&&(Ee.fn[Symbol.iterator]=se[Symbol.iterator]),Ee.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(e,t){de["[object "+t+"]"]=t.toLowerCase()});var Se=
/*!
 * Sizzle CSS Selector Engine v2.3.5
 * https://sizzlejs.com/
 *
 * Copyright JS Foundation and other contributors
 * Released under the MIT license
 * https://js.foundation/
 *
 * Date: 2020-03-14
 */
function(n){function b(t,e,n,r){var i,o,a,s,u,l,c,f=e&&e.ownerDocument,p=e?e.nodeType:9;if(n=n||[],"string"!=typeof t||!t||1!==p&&9!==p&&11!==p)return n;if(!r&&(L(e),e=e||H,P)){if(11!==p&&(u=xe.exec(t)))if(i=u[1]){if(9===p){if(!(a=e.getElementById(i)))return n;if(a.id===i)return n.push(a),n}else if(f&&(a=f.getElementById(i))&&W(e,a)&&a.id===i)return n.push(a),n}else{if(u[2])return Z.apply(n,e.getElementsByTagName(t)),n;if((i=u[3])&&T.getElementsByClassName&&e.getElementsByClassName)return Z.apply(n,e.getElementsByClassName(i)),n}if(T.qsa&&!V[t+" "]&&(!R||!R.test(t))&&(1!==p||"object"!==e.nodeName.toLowerCase())){if(c=t,f=e,1===p&&(fe.test(t)||ce.test(t))){for((f=be.test(t)&&d(e.parentNode)||e)===e&&T.scope||((s=e.getAttribute("id"))?s=s.replace(Ce,Ee):e.setAttribute("id",s=F)),o=(l=k(t)).length;o--;)l[o]=(s?"#"+s:":scope")+" "+h(l[o]);c=l.join(",")}try{return Z.apply(n,f.querySelectorAll(c)),n}catch(e){V(t,!0)}finally{s===F&&e.removeAttribute("id")}}}return j(t.replace(ue,"$1"),e,n,r)}function e(){function n(e,t){return r.push(e+" ")>C.cacheLength&&delete n[r.shift()],n[e+" "]=t}var r=[];return n}function u(e){return e[F]=!0,e}function i(e){var t=H.createElement("fieldset");try{return!!e(t)}catch(e){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function t(e,t){for(var n=e.split("|"),r=n.length;r--;)C.attrHandle[n[r]]=t}function l(e,t){var n=t&&e,r=n&&1===e.nodeType&&1===t.nodeType&&e.sourceIndex-t.sourceIndex;if(r)return r;if(n)for(;n=n.nextSibling;)if(n===t)return-1;return e?1:-1}function r(n){return function(e){var t;return"input"===e.nodeName.toLowerCase()&&e.type===n}}function o(n){return function(e){var t=e.nodeName.toLowerCase();return("input"===t||"button"===t)&&e.type===n}}function a(t){return function(e){return"form"in e?e.parentNode&&!1===e.disabled?"label"in e?"label"in e.parentNode?e.parentNode.disabled===t:e.disabled===t:e.isDisabled===t||e.isDisabled!==!t&&ke(e)===t:e.disabled===t:"label"in e&&e.disabled===t}}function s(a){return u(function(o){return o=+o,u(function(e,t){for(var n,r=a([],e.length,o),i=r.length;i--;)e[n=r[i]]&&(e[n]=!(t[n]=e[n]))})})}function d(e){return e&&void 0!==e.getElementsByTagName&&e}function c(){}function h(e){for(var t=0,n=e.length,r="";t<n;t++)r+=e[t].value;return r}function f(s,e,t){var u=e.dir,l=e.next,c=l||u,f=t&&"parentNode"===c,p=_++;return e.first?function(e,t,n){for(;e=e[u];)if(1===e.nodeType||f)return s(e,t,n);return!1}:function(e,t,n){var r,i,o,a=[B,p];if(n){for(;e=e[u];)if((1===e.nodeType||f)&&s(e,t,n))return!0}else for(;e=e[u];)if(1===e.nodeType||f)if(i=(o=e[F]||(e[F]={}))[e.uniqueID]||(o[e.uniqueID]={}),l&&l===e.nodeName.toLowerCase())e=e[u]||e;else{if((r=i[c])&&r[0]===B&&r[1]===p)return a[2]=r[2];if((i[c]=a)[2]=s(e,t,n))return!0}return!1}}function p(i){return 1<i.length?function(e,t,n){for(var r=i.length;r--;)if(!i[r](e,t,n))return!1;return!0}:i[0]}function m(e,t,n){for(var r=0,i=t.length;r<i;r++)b(e,t[r],n);return n}function w(e,t,n,r,i){for(var o,a=[],s=0,u=e.length,l=null!=t;s<u;s++)(o=e[s])&&(n&&!n(o,r,i)||(a.push(o),l&&t.push(s)));return a}function x(d,h,g,v,y,e){return v&&!v[F]&&(v=x(v)),y&&!y[F]&&(y=x(y,e)),u(function(e,t,n,r){var i,o,a,s=[],u=[],l=t.length,c=e||m(h||"*",n.nodeType?[n]:n,[]),f=!d||!e&&h?c:w(c,s,d,n,r),p=g?y||(e?d:l||v)?[]:t:f;if(g&&g(f,p,n,r),v)for(i=w(p,u),v(i,[],n,r),o=i.length;o--;)(a=i[o])&&(p[u[o]]=!(f[u[o]]=a));if(e){if(y||d){if(y){for(i=[],o=p.length;o--;)(a=p[o])&&i.push(f[o]=a);y(null,p=[],i,r)}for(o=p.length;o--;)(a=p[o])&&-1<(i=y?te(e,a):s[o])&&(e[i]=!(t[i]=a))}}else p=w(p===t?p.splice(l,p.length):p),y?y(null,t,p,r):Z.apply(t,p)})}function g(e){for(var i,t,n,r=e.length,o=C.relative[e[0].type],a=o||C.relative[" "],s=o?1:0,u=f(function(e){return e===i},a,!0),l=f(function(e){return-1<te(i,e)},a,!0),c=[function(e,t,n){var r=!o&&(n||t!==N)||((i=t).nodeType?u(e,t,n):l(e,t,n));return i=null,r}];s<r;s++)if(t=C.relative[e[s].type])c=[f(p(c),t)];else{if((t=C.filter[e[s].type].apply(null,e[s].matches))[F]){for(n=++s;n<r&&!C.relative[e[n].type];n++);return x(1<s&&p(c),1<s&&h(e.slice(0,s-1).concat({value:" "===e[s-2].type?"*":""})).replace(ue,"$1"),t,s<n&&g(e.slice(s,n)),n<r&&g(e=e.slice(n)),n<r&&h(e))}c.push(t)}return p(c)}function v(v,y){var m=0<y.length,x=0<v.length,e=function(e,t,n,r,i){var o,a,s,u=0,l="0",c=e&&[],f=[],p=N,d=e||x&&C.find.TAG("*",i),h=B+=null==p?1:Math.random()||.1,g=d.length;for(i&&(N=t==H||t||i);l!==g&&null!=(o=d[l]);l++){if(x&&o){for(a=0,t||o.ownerDocument==H||(L(o),n=!P);s=v[a++];)if(s(o,t||H,n)){r.push(o);break}i&&(B=h)}m&&((o=!s&&o)&&u--,e&&c.push(o))}if(u+=l,m&&l!==u){for(a=0;s=y[a++];)s(c,f,t,n);if(e){if(0<u)for(;l--;)c[l]||f[l]||(f[l]=J.call(r));f=w(f)}Z.apply(r,f),i&&!e&&0<f.length&&1<u+y.length&&b.uniqueSort(r)}return i&&(B=h,N=p),c};return m?u(e):e}var y,T,C,E,S,k,A,j,N,D,q,L,H,O,P,R,M,I,W,F="sizzle"+1*new Date,$=n.document,B=0,_=0,z=e(),U=e(),X=e(),V=e(),Q=function(e,t){return e===t&&(q=!0),0},G={}.hasOwnProperty,Y=[],J=Y.pop,K=Y.push,Z=Y.push,ee=Y.slice,te=function(e,t){for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1},ne="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",re="[\\x20\\t\\r\\n\\f]",ie="(?:\\\\[\\da-fA-F]{1,6}"+re+"?|\\\\[^\\r\\n\\f]|[\\w-]|[^\0-\\x7f])+",oe="\\["+re+"*("+ie+")(?:"+re+"*([*^$|!~]?=)"+re+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+ie+"))|)"+re+"*\\]",ae=":("+ie+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+oe+")*)|.*)\\)|)",se=new RegExp(re+"+","g"),ue=new RegExp("^"+re+"+|((?:^|[^\\\\])(?:\\\\.)*)"+re+"+$","g"),le=new RegExp("^"+re+"*,"+re+"*"),ce=new RegExp("^"+re+"*([>+~]|"+re+")"+re+"*"),fe=new RegExp(re+"|>"),pe=new RegExp(ae),de=new RegExp("^"+ie+"$"),he={ID:new RegExp("^#("+ie+")"),CLASS:new RegExp("^\\.("+ie+")"),TAG:new RegExp("^("+ie+"|[*])"),ATTR:new RegExp("^"+oe),PSEUDO:new RegExp("^"+ae),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+re+"*(even|odd|(([+-]|)(\\d*)n|)"+re+"*(?:([+-]|)"+re+"*(\\d+)|))"+re+"*\\)|)","i"),bool:new RegExp("^(?:"+ne+")$","i"),needsContext:new RegExp("^"+re+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+re+"*((?:-\\d)?\\d*)"+re+"*\\)|)(?=[^-]|$)","i")},ge=/HTML$/i,ve=/^(?:input|select|textarea|button)$/i,ye=/^h\d$/i,me=/^[^{]+\{\s*\[native \w/,xe=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,be=/[+~]/,we=new RegExp("\\\\[\\da-fA-F]{1,6}"+re+"?|\\\\([^\\r\\n\\f])","g"),Te=function(e,t){var n="0x"+e.slice(1)-65536;return t||(n<0?String.fromCharCode(n+65536):String.fromCharCode(n>>10|55296,1023&n|56320))},Ce=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,Ee=function(e,t){return t?"\0"===e?"�":e.slice(0,-1)+"\\"+e.charCodeAt(e.length-1).toString(16)+" ":"\\"+e},Se=function(){L()},ke=f(function(e){return!0===e.disabled&&"fieldset"===e.nodeName.toLowerCase()},{dir:"parentNode",next:"legend"});try{Z.apply(Y=ee.call($.childNodes),$.childNodes),Y[$.childNodes.length].nodeType}catch(e){Z={apply:Y.length?function(e,t){K.apply(e,ee.call(t))}:function(e,t){for(var n=e.length,r=0;e[n++]=t[r++];);e.length=n-1}}}for(y in T=b.support={},S=b.isXML=function(e){var t=e.namespaceURI,n=(e.ownerDocument||e).documentElement;return!ge.test(t||n&&n.nodeName||"HTML")},L=b.setDocument=function(e){var t,n,r=e?e.ownerDocument||e:$;return r!=H&&9===r.nodeType&&r.documentElement?(O=(H=r).documentElement,P=!S(H),$!=H&&(n=H.defaultView)&&n.top!==n&&(n.addEventListener?n.addEventListener("unload",Se,!1):n.attachEvent&&n.attachEvent("onunload",Se)),T.scope=i(function(e){return O.appendChild(e).appendChild(H.createElement("div")),void 0!==e.querySelectorAll&&!e.querySelectorAll(":scope fieldset div").length}),T.attributes=i(function(e){return e.className="i",!e.getAttribute("className")}),T.getElementsByTagName=i(function(e){return e.appendChild(H.createComment("")),!e.getElementsByTagName("*").length}),T.getElementsByClassName=me.test(H.getElementsByClassName),T.getById=i(function(e){return O.appendChild(e).id=F,!H.getElementsByName||!H.getElementsByName(F).length}),T.getById?(C.filter.ID=function(e){var t=e.replace(we,Te);return function(e){return e.getAttribute("id")===t}},C.find.ID=function(e,t){if(void 0!==t.getElementById&&P){var n=t.getElementById(e);return n?[n]:[]}}):(C.filter.ID=function(e){var n=e.replace(we,Te);return function(e){var t=void 0!==e.getAttributeNode&&e.getAttributeNode("id");return t&&t.value===n}},C.find.ID=function(e,t){if(void 0!==t.getElementById&&P){var n,r,i,o=t.getElementById(e);if(o){if((n=o.getAttributeNode("id"))&&n.value===e)return[o];for(i=t.getElementsByName(e),r=0;o=i[r++];)if((n=o.getAttributeNode("id"))&&n.value===e)return[o]}return[]}}),C.find.TAG=T.getElementsByTagName?function(e,t){return void 0!==t.getElementsByTagName?t.getElementsByTagName(e):T.qsa?t.querySelectorAll(e):void 0}:function(e,t){var n,r=[],i=0,o=t.getElementsByTagName(e);if("*"===e){for(;n=o[i++];)1===n.nodeType&&r.push(n);return r}return o},C.find.CLASS=T.getElementsByClassName&&function(e,t){if(void 0!==t.getElementsByClassName&&P)return t.getElementsByClassName(e)},M=[],R=[],(T.qsa=me.test(H.querySelectorAll))&&(i(function(e){var t;O.appendChild(e).innerHTML="<a id='"+F+"'></a><select id='"+F+"-\r\\' msallowcapture=''><option selected=''></option></select>",e.querySelectorAll("[msallowcapture^='']").length&&R.push("[*^$]="+re+"*(?:''|\"\")"),e.querySelectorAll("[selected]").length||R.push("\\["+re+"*(?:value|"+ne+")"),e.querySelectorAll("[id~="+F+"-]").length||R.push("~="),(t=H.createElement("input")).setAttribute("name",""),e.appendChild(t),e.querySelectorAll("[name='']").length||R.push("\\["+re+"*name"+re+"*="+re+"*(?:''|\"\")"),e.querySelectorAll(":checked").length||R.push(":checked"),e.querySelectorAll("a#"+F+"+*").length||R.push(".#.+[+~]"),e.querySelectorAll("\\\f"),R.push("[\\r\\n\\f]")}),i(function(e){e.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var t=H.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),e.querySelectorAll("[name=d]").length&&R.push("name"+re+"*[*^$|!~]?="),2!==e.querySelectorAll(":enabled").length&&R.push(":enabled",":disabled"),O.appendChild(e).disabled=!0,2!==e.querySelectorAll(":disabled").length&&R.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),R.push(",.*:")})),(T.matchesSelector=me.test(I=O.matches||O.webkitMatchesSelector||O.mozMatchesSelector||O.oMatchesSelector||O.msMatchesSelector))&&i(function(e){T.disconnectedMatch=I.call(e,"*"),I.call(e,"[s!='']:x"),M.push("!=",ae)}),R=R.length&&new RegExp(R.join("|")),M=M.length&&new RegExp(M.join("|")),t=me.test(O.compareDocumentPosition),W=t||me.test(O.contains)?function(e,t){var n=9===e.nodeType?e.documentElement:e,r=t&&t.parentNode;return e===r||!(!r||1!==r.nodeType||!(n.contains?n.contains(r):e.compareDocumentPosition&&16&e.compareDocumentPosition(r)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},Q=t?function(e,t){if(e===t)return q=!0,0;var n=!e.compareDocumentPosition-!t.compareDocumentPosition;return n||(1&(n=(e.ownerDocument||e)==(t.ownerDocument||t)?e.compareDocumentPosition(t):1)||!T.sortDetached&&t.compareDocumentPosition(e)===n?e==H||e.ownerDocument==$&&W($,e)?-1:t==H||t.ownerDocument==$&&W($,t)?1:D?te(D,e)-te(D,t):0:4&n?-1:1)}:function(e,t){if(e===t)return q=!0,0;var n,r=0,i=e.parentNode,o=t.parentNode,a=[e],s=[t];if(!i||!o)return e==H?-1:t==H?1:i?-1:o?1:D?te(D,e)-te(D,t):0;if(i===o)return l(e,t);for(n=e;n=n.parentNode;)a.unshift(n);for(n=t;n=n.parentNode;)s.unshift(n);for(;a[r]===s[r];)r++;return r?l(a[r],s[r]):a[r]==$?-1:s[r]==$?1:0}):0,H},b.matches=function(e,t){return b(e,null,null,t)},b.matchesSelector=function(e,t){if(L(e),T.matchesSelector&&P&&!V[t+" "]&&(!M||!M.test(t))&&(!R||!R.test(t)))try{var n=I.call(e,t);if(n||T.disconnectedMatch||e.document&&11!==e.document.nodeType)return n}catch(e){V(t,!0)}return 0<b(t,H,null,[e]).length},b.contains=function(e,t){return(e.ownerDocument||e)!=H&&L(e),W(e,t)},b.attr=function(e,t){(e.ownerDocument||e)!=H&&L(e);var n=C.attrHandle[t.toLowerCase()],r=n&&G.call(C.attrHandle,t.toLowerCase())?n(e,t,!P):void 0;return void 0!==r?r:T.attributes||!P?e.getAttribute(t):(r=e.getAttributeNode(t))&&r.specified?r.value:null},b.escape=function(e){return(e+"").replace(Ce,Ee)},b.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},b.uniqueSort=function(e){var t,n=[],r=0,i=0;if(q=!T.detectDuplicates,D=!T.sortStable&&e.slice(0),e.sort(Q),q){for(;t=e[i++];)t===e[i]&&(r=n.push(i));for(;r--;)e.splice(n[r],1)}return D=null,e},E=b.getText=function(e){var t,n="",r=0,i=e.nodeType;if(i){if(1===i||9===i||11===i){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=E(e)}else if(3===i||4===i)return e.nodeValue}else for(;t=e[r++];)n+=E(t);return n},(C=b.selectors={cacheLength:50,createPseudo:u,match:he,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(we,Te),e[3]=(e[3]||e[4]||e[5]||"").replace(we,Te),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||b.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&b.error(e[0]),e},PSEUDO:function(e){var t,n=!e[6]&&e[2];return he.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":n&&pe.test(n)&&(t=k(n,!0))&&(t=n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(we,Te).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=z[e+" "];return t||(t=new RegExp("(^|"+re+")"+e+"("+re+"|$)"))&&z(e,function(e){return t.test("string"==typeof e.className&&e.className||void 0!==e.getAttribute&&e.getAttribute("class")||"")})},ATTR:function(n,r,i){return function(e){var t=b.attr(e,n);return null==t?"!="===r:!r||(t+="","="===r?t===i:"!="===r?t!==i:"^="===r?i&&0===t.indexOf(i):"*="===r?i&&-1<t.indexOf(i):"$="===r?i&&t.slice(-i.length)===i:"~="===r?-1<(" "+t.replace(se," ")+" ").indexOf(i):"|="===r&&(t===i||t.slice(0,i.length+1)===i+"-"))}},CHILD:function(h,e,t,g,v){var y="nth"!==h.slice(0,3),m="last"!==h.slice(-4),x="of-type"===e;return 1===g&&0===v?function(e){return!!e.parentNode}:function(e,t,n){var r,i,o,a,s,u,l=y!==m?"nextSibling":"previousSibling",c=e.parentNode,f=x&&e.nodeName.toLowerCase(),p=!n&&!x,d=!1;if(c){if(y){for(;l;){for(a=e;a=a[l];)if(x?a.nodeName.toLowerCase()===f:1===a.nodeType)return!1;u=l="only"===h&&!u&&"nextSibling"}return!0}if(u=[m?c.firstChild:c.lastChild],m&&p){for(d=(s=(r=(i=(o=(a=c)[F]||(a[F]={}))[a.uniqueID]||(o[a.uniqueID]={}))[h]||[])[0]===B&&r[1])&&r[2],a=s&&c.childNodes[s];a=++s&&a&&a[l]||(d=s=0)||u.pop();)if(1===a.nodeType&&++d&&a===e){i[h]=[B,s,d];break}}else if(p&&(d=s=(r=(i=(o=(a=e)[F]||(a[F]={}))[a.uniqueID]||(o[a.uniqueID]={}))[h]||[])[0]===B&&r[1]),!1===d)for(;(a=++s&&a&&a[l]||(d=s=0)||u.pop())&&((x?a.nodeName.toLowerCase()!==f:1!==a.nodeType)||!++d||(p&&((i=(o=a[F]||(a[F]={}))[a.uniqueID]||(o[a.uniqueID]={}))[h]=[B,d]),a!==e)););return(d-=v)===g||d%g==0&&0<=d/g}}},PSEUDO:function(e,o){var t,a=C.pseudos[e]||C.setFilters[e.toLowerCase()]||b.error("unsupported pseudo: "+e);return a[F]?a(o):1<a.length?(t=[e,e,"",o],C.setFilters.hasOwnProperty(e.toLowerCase())?u(function(e,t){for(var n,r=a(e,o),i=r.length;i--;)e[n=te(e,r[i])]=!(t[n]=r[i])}):function(e){return a(e,0,t)}):a}},pseudos:{not:u(function(e){var r=[],i=[],s=A(e.replace(ue,"$1"));return s[F]?u(function(e,t,n,r){for(var i,o=s(e,null,r,[]),a=e.length;a--;)(i=o[a])&&(e[a]=!(t[a]=i))}):function(e,t,n){return r[0]=e,s(r,null,n,i),r[0]=null,!i.pop()}}),has:u(function(t){return function(e){return 0<b(t,e).length}}),contains:u(function(t){return t=t.replace(we,Te),function(e){return-1<(e.textContent||E(e)).indexOf(t)}}),lang:u(function(n){return de.test(n||"")||b.error("unsupported lang: "+n),n=n.replace(we,Te).toLowerCase(),function(e){var t;do{if(t=P?e.lang:e.getAttribute("xml:lang")||e.getAttribute("lang"))return(t=t.toLowerCase())===n||0===t.indexOf(n+"-")}while((e=e.parentNode)&&1===e.nodeType);return!1}}),target:function(e){var t=n.location&&n.location.hash;return t&&t.slice(1)===e.id},root:function(e){return e===O},focus:function(e){return e===H.activeElement&&(!H.hasFocus||H.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:a(!1),disabled:a(!0),checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,!0===e.selected},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!C.pseudos.empty(e)},header:function(e){return ye.test(e.nodeName)},input:function(e){return ve.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:s(function(){return[0]}),last:s(function(e,t){return[t-1]}),eq:s(function(e,t,n){return[n<0?n+t:n]}),even:s(function(e,t){for(var n=0;n<t;n+=2)e.push(n);return e}),odd:s(function(e,t){for(var n=1;n<t;n+=2)e.push(n);return e}),lt:s(function(e,t,n){for(var r=n<0?n+t:t<n?t:n;0<=--r;)e.push(r);return e}),gt:s(function(e,t,n){for(var r=n<0?n+t:n;++r<t;)e.push(r);return e})}}).pseudos.nth=C.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})C.pseudos[y]=r(y);for(y in{submit:!0,reset:!0})C.pseudos[y]=o(y);return c.prototype=C.filters=C.pseudos,C.setFilters=new c,k=b.tokenize=function(e,t){var n,r,i,o,a,s,u,l=U[e+" "];if(l)return t?0:l.slice(0);for(a=e,s=[],u=C.preFilter;a;){for(o in n&&!(r=le.exec(a))||(r&&(a=a.slice(r[0].length)||a),s.push(i=[])),n=!1,(r=ce.exec(a))&&(n=r.shift(),i.push({value:n,type:r[0].replace(ue," ")}),a=a.slice(n.length)),C.filter)!(r=he[o].exec(a))||u[o]&&!(r=u[o](r))||(n=r.shift(),i.push({value:n,type:o,matches:r}),a=a.slice(n.length));if(!n)break}return t?a.length:a?b.error(e):U(e,s).slice(0)},A=b.compile=function(e,t){var n,r=[],i=[],o=X[e+" "];if(!o){for(t||(t=k(e)),n=t.length;n--;)(o=g(t[n]))[F]?r.push(o):i.push(o);(o=X(e,v(i,r))).selector=e}return o},j=b.select=function(e,t,n,r){var i,o,a,s,u,l="function"==typeof e&&e,c=!r&&k(e=l.selector||e);if(n=n||[],1===c.length){if(2<(o=c[0]=c[0].slice(0)).length&&"ID"===(a=o[0]).type&&9===t.nodeType&&P&&C.relative[o[1].type]){if(!(t=(C.find.ID(a.matches[0].replace(we,Te),t)||[])[0]))return n;l&&(t=t.parentNode),e=e.slice(o.shift().value.length)}for(i=he.needsContext.test(e)?0:o.length;i--&&(a=o[i],!C.relative[s=a.type]);)if((u=C.find[s])&&(r=u(a.matches[0].replace(we,Te),be.test(o[0].type)&&d(t.parentNode)||t))){if(o.splice(i,1),!(e=r.length&&h(o)))return Z.apply(n,r),n;break}}return(l||A(e,c))(r,t,!P,n,!t||be.test(e)&&d(t.parentNode)||t),n},T.sortStable=F.split("").sort(Q).join("")===F,T.detectDuplicates=!!q,L(),T.sortDetached=i(function(e){return 1&e.compareDocumentPosition(H.createElement("fieldset"))}),i(function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")})||t("type|href|height|width",function(e,t,n){if(!n)return e.getAttribute(t,"type"===t.toLowerCase()?1:2)}),T.attributes&&i(function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")})||t("value",function(e,t,n){if(!n&&"input"===e.nodeName.toLowerCase())return e.defaultValue}),i(function(e){return null==e.getAttribute("disabled")})||t(ne,function(e,t,n){var r;if(!n)return!0===e[t]?t.toLowerCase():(r=e.getAttributeNode(t))&&r.specified?r.value:null}),b}(C);Ee.find=Se,Ee.expr=Se.selectors,Ee.expr[":"]=Ee.expr.pseudos,Ee.uniqueSort=Ee.unique=Se.uniqueSort,Ee.text=Se.getText,Ee.isXMLDoc=Se.isXML,Ee.contains=Se.contains,Ee.escapeSelector=Se.escape;var ke=function(e,t,n){for(var r=[],i=void 0!==n;(e=e[t])&&9!==e.nodeType;)if(1===e.nodeType){if(i&&Ee(e).is(n))break;r.push(e)}return r},Ae=function(e,t){for(var n=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n},je=Ee.expr.match.needsContext,Ne=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;Ee.filter=function(e,t,n){var r=t[0];return n&&(e=":not("+e+")"),1===t.length&&1===r.nodeType?Ee.find.matchesSelector(r,e)?[r]:[]:Ee.find.matches(e,Ee.grep(t,function(e){return 1===e.nodeType}))},Ee.fn.extend({find:function(e){var t,n,r=this.length,i=this;if("string"!=typeof e)return this.pushStack(Ee(e).filter(function(){for(t=0;t<r;t++)if(Ee.contains(i[t],this))return!0}));for(n=this.pushStack([]),t=0;t<r;t++)Ee.find(e,i[t],n);return 1<r?Ee.uniqueSort(n):n},filter:function(e){return this.pushStack(t(this,e||[],!1))},not:function(e){return this.pushStack(t(this,e||[],!0))},is:function(e){return!!t(this,"string"==typeof e&&je.test(e)?Ee(e):e||[],!1).length}});var De,qe=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/,Le;(Ee.fn.init=function(e,t,n){var r,i;if(!e)return this;if(n=n||De,"string"==typeof e){if(!(r="<"===e[0]&&">"===e[e.length-1]&&3<=e.length?[null,e,null]:qe.exec(e))||!r[1]&&t)return!t||t.jquery?(t||n).find(e):this.constructor(t).find(e);if(r[1]){if(t=t instanceof Ee?t[0]:t,Ee.merge(this,Ee.parseHTML(r[1],t&&t.nodeType?t.ownerDocument||t:we,!0)),Ne.test(r[1])&&Ee.isPlainObject(t))for(r in t)xe(this[r])?this[r](t[r]):this.attr(r,t[r]);return this}return(i=we.getElementById(r[2]))&&(this[0]=i,this.length=1),this}return e.nodeType?(this[0]=e,this.length=1,this):xe(e)?void 0!==n.ready?n.ready(e):e(Ee):Ee.makeArray(e,this)}).prototype=Ee.fn,De=Ee(we);var He=/^(?:parents|prev(?:Until|All))/,Oe={children:!0,contents:!0,next:!0,prev:!0};Ee.fn.extend({has:function(e){var t=Ee(e,this),n=t.length;return this.filter(function(){for(var e=0;e<n;e++)if(Ee.contains(this,t[e]))return!0})},closest:function(e,t){var n,r=0,i=this.length,o=[],a="string"!=typeof e&&Ee(e);if(!je.test(e))for(;r<i;r++)for(n=this[r];n&&n!==t;n=n.parentNode)if(n.nodeType<11&&(a?-1<a.index(n):1===n.nodeType&&Ee.find.matchesSelector(n,e))){o.push(n);break}return this.pushStack(1<o.length?Ee.uniqueSort(o):o)},index:function(e){return e?"string"==typeof e?pe.call(Ee(e),this[0]):pe.call(this,e.jquery?e[0]:e):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(Ee.uniqueSort(Ee.merge(this.get(),Ee(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),Ee.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return ke(e,"parentNode")},parentsUntil:function(e,t,n){return ke(e,"parentNode",n)},next:function(e){return n(e,"nextSibling")},prev:function(e){return n(e,"previousSibling")},nextAll:function(e){return ke(e,"nextSibling")},prevAll:function(e){return ke(e,"previousSibling")},nextUntil:function(e,t,n){return ke(e,"nextSibling",n)},prevUntil:function(e,t,n){return ke(e,"previousSibling",n)},siblings:function(e){return Ae((e.parentNode||{}).firstChild,e)},children:function(e){return Ae(e.firstChild)},contents:function(e){return null!=e.contentDocument&&ue(e.contentDocument)?e.contentDocument:(l(e,"template")&&(e=e.content||e),Ee.merge([],e.childNodes))}},function(r,i){Ee.fn[r]=function(e,t){var n=Ee.map(this,i,e);return"Until"!==r.slice(-5)&&(t=e),t&&"string"==typeof t&&(n=Ee.filter(t,n)),1<this.length&&(Oe[r]||Ee.uniqueSort(n),He.test(r)&&n.reverse()),this.pushStack(n)}});var Pe=/[^\x20\t\r\n\f]+/g;Ee.Callbacks=function(r){r="string"==typeof r?c(r):Ee.extend({},r);var n,e,t,i,o=[],a=[],s=-1,u=function(){for(i=i||r.once,t=n=!0;a.length;s=-1)for(e=a.shift();++s<o.length;)!1===o[s].apply(e[0],e[1])&&r.stopOnFalse&&(s=o.length,e=!1);r.memory||(e=!1),n=!1,i&&(o=e?[]:"")},l={add:function(){return o&&(e&&!n&&(s=o.length-1,a.push(e)),function n(e){Ee.each(e,function(e,t){xe(t)?r.unique&&l.has(t)||o.push(t):t&&t.length&&"string"!==v(t)&&n(t)})}(arguments),e&&!n&&u()),this},remove:function(){return Ee.each(arguments,function(e,t){for(var n;-1<(n=Ee.inArray(t,o,n));)o.splice(n,1),n<=s&&s--}),this},has:function(e){return e?-1<Ee.inArray(e,o):0<o.length},empty:function(){return o&&(o=[]),this},disable:function(){return i=a=[],o=e="",this},disabled:function(){return!o},lock:function(){return i=a=[],e||n||(o=e=""),this},locked:function(){return!!i},fireWith:function(e,t){return i||(t=[e,(t=t||[]).slice?t.slice():t],a.push(t),n||u()),this},fire:function(){return l.fireWith(this,arguments),this},fired:function(){return!!t}};return l},Ee.extend({Deferred:function(e){var o=[["notify","progress",Ee.Callbacks("memory"),Ee.Callbacks("memory"),2],["resolve","done",Ee.Callbacks("once memory"),Ee.Callbacks("once memory"),0,"resolved"],["reject","fail",Ee.Callbacks("once memory"),Ee.Callbacks("once memory"),1,"rejected"]],i="pending",a={state:function(){return i},always:function(){return s.done(arguments).fail(arguments),this},catch:function(e){return a.then(null,e)},pipe:function(){var i=arguments;return Ee.Deferred(function(r){Ee.each(o,function(e,t){var n=xe(i[t[4]])&&i[t[4]];s[t[1]](function(){var e=n&&n.apply(this,arguments);e&&xe(e.promise)?e.promise().progress(r.notify).done(r.resolve).fail(r.reject):r[t[0]+"With"](this,n?[e]:arguments)})}),i=null}).promise()},then:function(t,n,r){function u(i,o,a,s){return function(){var n=this,r=arguments,e=function(){var e,t;if(!(i<l)){if((e=a.apply(n,r))===o.promise())throw new TypeError("Thenable self-resolution");t=e&&("object"==typeof e||"function"==typeof e)&&e.then,xe(t)?s?t.call(e,u(l,o,f,s),u(l,o,p,s)):(l++,t.call(e,u(l,o,f,s),u(l,o,p,s),u(l,o,f,o.notifyWith))):(a!==f&&(n=void 0,r=[e]),(s||o.resolveWith)(n,r))}},t=s?e:function(){try{e()}catch(e){Ee.Deferred.exceptionHook&&Ee.Deferred.exceptionHook(e,t.stackTrace),l<=i+1&&(a!==p&&(n=void 0,r=[e]),o.rejectWith(n,r))}};i?t():(Ee.Deferred.getStackHook&&(t.stackTrace=Ee.Deferred.getStackHook()),C.setTimeout(t))}}var l=0;return Ee.Deferred(function(e){o[0][3].add(u(0,e,xe(r)?r:f,e.notifyWith)),o[1][3].add(u(0,e,xe(t)?t:f)),o[2][3].add(u(0,e,xe(n)?n:p))}).promise()},promise:function(e){return null!=e?Ee.extend(e,a):a}},s={};return Ee.each(o,function(e,t){var n=t[2],r=t[5];a[t[1]]=n.add,r&&n.add(function(){i=r},o[3-e][2].disable,o[3-e][3].disable,o[0][2].lock,o[0][3].lock),n.add(t[3].fire),s[t[0]]=function(){return s[t[0]+"With"](this===s?void 0:this,arguments),this},s[t[0]+"With"]=n.fireWith}),a.promise(s),e&&e.call(s,s),s},when:function(e){var n=arguments.length,t=n,r=Array(t),i=le.call(arguments),o=Ee.Deferred(),a=function(t){return function(e){r[t]=this,i[t]=1<arguments.length?le.call(arguments):e,--n||o.resolveWith(r,i)}};if(n<=1&&(u(e,o.done(a(t)).resolve,o.reject,!n),"pending"===o.state()||xe(i[t]&&i[t].then)))return o.then();for(;t--;)u(i[t],a(t),o.reject);return o.promise()}});var Re=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;Ee.Deferred.exceptionHook=function(e,t){C.console&&C.console.warn&&e&&Re.test(e.name)&&C.console.warn("jQuery.Deferred exception: "+e.message,e.stack,t)},Ee.readyException=function(e){C.setTimeout(function(){throw e})};var Me=Ee.Deferred();Ee.fn.ready=function(e){return Me.then(e).catch(function(e){Ee.readyException(e)}),this},Ee.extend({isReady:!1,readyWait:1,ready:function(e){(!0===e?--Ee.readyWait:Ee.isReady)||(Ee.isReady=!0)!==e&&0<--Ee.readyWait||Me.resolveWith(we,[Ee])}}),Ee.ready.then=Me.then,"complete"===we.readyState||"loading"!==we.readyState&&!we.documentElement.doScroll?C.setTimeout(Ee.ready):(we.addEventListener("DOMContentLoaded",r),C.addEventListener("load",r));var Ie=function(e,t,n,r,i,o,a){var s=0,u=e.length,l=null==n;if("object"===v(n))for(s in i=!0,n)Ie(e,t,s,n[s],!0,o,a);else if(void 0!==r&&(i=!0,xe(r)||(a=!0),l&&(a?(t.call(e,r),t=null):(l=t,t=function(e,t,n){return l.call(Ee(e),n)})),t))for(;s<u;s++)t(e[s],n,a?r:r.call(e[s],s,t(e[s],n)));return i?e:l?t.call(e):u?t(e[0],n):o},We=/^-ms-/,Fe=/-([a-z])/g,$e=function(e){return 1===e.nodeType||9===e.nodeType||!+e.nodeType};o.uid=1,o.prototype={cache:function(e){var t=e[this.expando];return t||(t={},$e(e)&&(e.nodeType?e[this.expando]=t:Object.defineProperty(e,this.expando,{value:t,configurable:!0}))),t},set:function(e,t,n){var r,i=this.cache(e);if("string"==typeof t)i[d(t)]=n;else for(r in t)i[d(r)]=t[r];return i},get:function(e,t){return void 0===t?this.cache(e):e[this.expando]&&e[this.expando][d(t)]},access:function(e,t,n){return void 0===t||t&&"string"==typeof t&&void 0===n?this.get(e,t):(this.set(e,t,n),void 0!==n?n:t)},remove:function(e,t){var n,r=e[this.expando];if(void 0!==r){if(void 0!==t){n=(t=Array.isArray(t)?t.map(d):(t=d(t))in r?[t]:t.match(Pe)||[]).length;for(;n--;)delete r[t[n]]}(void 0===t||Ee.isEmptyObject(r))&&(e.nodeType?e[this.expando]=void 0:delete e[this.expando])}},hasData:function(e){var t=e[this.expando];return void 0!==t&&!Ee.isEmptyObject(t)}};var Be=new o,_e=new o,ze=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,Ue=/[A-Z]/g;Ee.extend({hasData:function(e){return _e.hasData(e)||Be.hasData(e)},data:function(e,t,n){return _e.access(e,t,n)},removeData:function(e,t){_e.remove(e,t)},_data:function(e,t,n){return Be.access(e,t,n)},_removeData:function(e,t){Be.remove(e,t)}}),Ee.fn.extend({data:function(n,e){var t,r,i,o=this[0],a=o&&o.attributes;if(void 0===n){if(this.length&&(i=_e.get(o),1===o.nodeType&&!Be.get(o,"hasDataAttrs"))){for(t=a.length;t--;)a[t]&&0===(r=a[t].name).indexOf("data-")&&(r=d(r.slice(5)),h(o,r,i[r]));Be.set(o,"hasDataAttrs",!0)}return i}return"object"==typeof n?this.each(function(){_e.set(this,n)}):Ie(this,function(e){var t;if(o&&void 0===e)return void 0!==(t=_e.get(o,n))?t:void 0!==(t=h(o,n))?t:void 0;this.each(function(){_e.set(this,n,e)})},null,e,1<arguments.length,null,!0)},removeData:function(e){return this.each(function(){_e.remove(this,e)})}}),Ee.extend({queue:function(e,t,n){var r;if(e)return t=(t||"fx")+"queue",r=Be.get(e,t),n&&(!r||Array.isArray(n)?r=Be.access(e,t,Ee.makeArray(n)):r.push(n)),r||[]},dequeue:function(e,t){t=t||"fx";var n=Ee.queue(e,t),r=n.length,i=n.shift(),o=Ee._queueHooks(e,t),a=function(){Ee.dequeue(e,t)};"inprogress"===i&&(i=n.shift(),r--),i&&("fx"===t&&n.unshift("inprogress"),delete o.stop,i.call(e,a,o)),!r&&o&&o.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return Be.get(e,n)||Be.access(e,n,{empty:Ee.Callbacks("once memory").add(function(){Be.remove(e,[t+"queue",n])})})}}),Ee.fn.extend({queue:function(t,n){var e=2;return"string"!=typeof t&&(n=t,t="fx",e--),arguments.length<e?Ee.queue(this[0],t):void 0===n?this:this.each(function(){var e=Ee.queue(this,t,n);Ee._queueHooks(this,t),"fx"===t&&"inprogress"!==e[0]&&Ee.dequeue(this,t)})},dequeue:function(e){return this.each(function(){Ee.dequeue(this,e)})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var n,r=1,i=Ee.Deferred(),o=this,a=this.length,s=function(){--r||i.resolveWith(o,[o])};for("string"!=typeof e&&(t=e,e=void 0),e=e||"fx";a--;)(n=Be.get(o[a],e+"queueHooks"))&&n.empty&&(r++,n.empty.add(s));return s(),i.promise(t)}});var Xe=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,Ve=new RegExp("^(?:([+-])=|)("+Xe+")([a-z%]*)$","i"),Qe=["Top","Right","Bottom","Left"],Ge=we.documentElement,Ye=function(e){return Ee.contains(e.ownerDocument,e)},Je={composed:!0};Ge.getRootNode&&(Ye=function(e){return Ee.contains(e.ownerDocument,e)||e.getRootNode(Je)===e.ownerDocument});var Ke=function(e,t){return"none"===(e=t||e).style.display||""===e.style.display&&Ye(e)&&"none"===Ee.css(e,"display")},Ze={};Ee.fn.extend({show:function(){return x(this,!0)},hide:function(){return x(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each(function(){Ke(this)?Ee(this).show():Ee(this).hide()})}});var et=/^(?:checkbox|radio)$/i,tt=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i,nt=/^$|^module$|\/(?:java|ecma)script/i,rt,it,ot;it=we.createDocumentFragment().appendChild(we.createElement("div")),(ot=we.createElement("input")).setAttribute("type","radio"),ot.setAttribute("checked","checked"),ot.setAttribute("name","t"),it.appendChild(ot),me.checkClone=it.cloneNode(!0).cloneNode(!0).lastChild.checked,it.innerHTML="<textarea>x</textarea>",me.noCloneChecked=!!it.cloneNode(!0).lastChild.defaultValue,it.innerHTML="<option></option>",void(me.option=!!it.lastChild);var at={thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};at.tbody=at.tfoot=at.colgroup=at.caption=at.thead,at.th=at.td,me.option||(at.optgroup=at.option=[1,"<select multiple='multiple'>","</select>"]);var st=/<|&#?\w+;/,ut=/^key/,lt=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,ct=/^([^.]*)(?:\.(.+)|)/;Ee.event={global:{},add:function(t,e,n,r,i){var o,a,s,u,l,c,f,p,d,h,g,v=Be.get(t);if($e(t))for(n.handler&&(n=(o=n).handler,i=o.selector),i&&Ee.find.matchesSelector(Ge,i),n.guid||(n.guid=Ee.guid++),(u=v.events)||(u=v.events=Object.create(null)),(a=v.handle)||(a=v.handle=function(e){return void 0!==Ee&&Ee.event.triggered!==e.type?Ee.event.dispatch.apply(t,arguments):void 0}),l=(e=(e||"").match(Pe)||[""]).length;l--;)d=g=(s=ct.exec(e[l])||[])[1],h=(s[2]||"").split(".").sort(),d&&(f=Ee.event.special[d]||{},d=(i?f.delegateType:f.bindType)||d,f=Ee.event.special[d]||{},c=Ee.extend({type:d,origType:g,data:r,handler:n,guid:n.guid,selector:i,needsContext:i&&Ee.expr.match.needsContext.test(i),namespace:h.join(".")},o),(p=u[d])||((p=u[d]=[]).delegateCount=0,f.setup&&!1!==f.setup.call(t,r,h,a)||t.addEventListener&&t.addEventListener(d,a)),f.add&&(f.add.call(t,c),c.handler.guid||(c.handler.guid=n.guid)),i?p.splice(p.delegateCount++,0,c):p.push(c),Ee.event.global[d]=!0)},remove:function(e,t,n,r,i){var o,a,s,u,l,c,f,p,d,h,g,v=Be.hasData(e)&&Be.get(e);if(v&&(u=v.events)){for(l=(t=(t||"").match(Pe)||[""]).length;l--;)if(d=g=(s=ct.exec(t[l])||[])[1],h=(s[2]||"").split(".").sort(),d){for(f=Ee.event.special[d]||{},p=u[d=(r?f.delegateType:f.bindType)||d]||[],s=s[2]&&new RegExp("(^|\\.)"+h.join("\\.(?:.*\\.|)")+"(\\.|$)"),a=o=p.length;o--;)c=p[o],!i&&g!==c.origType||n&&n.guid!==c.guid||s&&!s.test(c.namespace)||r&&r!==c.selector&&("**"!==r||!c.selector)||(p.splice(o,1),c.selector&&p.delegateCount--,f.remove&&f.remove.call(e,c));a&&!p.length&&(f.teardown&&!1!==f.teardown.call(e,h,v.handle)||Ee.removeEvent(e,d,v.handle),delete u[d])}else for(d in u)Ee.event.remove(e,d+t[l],n,r,!0);Ee.isEmptyObject(u)&&Be.remove(e,"handle events")}},dispatch:function(e){var t,n,r,i,o,a,s=new Array(arguments.length),u=Ee.event.fix(e),l=(Be.get(this,"events")||Object.create(null))[u.type]||[],c=Ee.event.special[u.type]||{};for(s[0]=u,t=1;t<arguments.length;t++)s[t]=arguments[t];if(u.delegateTarget=this,!c.preDispatch||!1!==c.preDispatch.call(this,u)){for(a=Ee.event.handlers.call(this,u,l),t=0;(i=a[t++])&&!u.isPropagationStopped();)for(u.currentTarget=i.elem,n=0;(o=i.handlers[n++])&&!u.isImmediatePropagationStopped();)u.rnamespace&&!1!==o.namespace&&!u.rnamespace.test(o.namespace)||(u.handleObj=o,u.data=o.data,void 0!==(r=((Ee.event.special[o.origType]||{}).handle||o.handler).apply(i.elem,s))&&!1===(u.result=r)&&(u.preventDefault(),u.stopPropagation()));return c.postDispatch&&c.postDispatch.call(this,u),u.result}},handlers:function(e,t){var n,r,i,o,a,s=[],u=t.delegateCount,l=e.target;if(u&&l.nodeType&&!("click"===e.type&&1<=e.button))for(;l!==this;l=l.parentNode||this)if(1===l.nodeType&&("click"!==e.type||!0!==l.disabled)){for(o=[],a={},n=0;n<u;n++)void 0===a[i=(r=t[n]).selector+" "]&&(a[i]=r.needsContext?-1<Ee(i,this).index(l):Ee.find(i,this,null,[l]).length),a[i]&&o.push(r);o.length&&s.push({elem:l,handlers:o})}return l=this,u<t.length&&s.push({elem:l,handlers:t.slice(u)}),s},addProp:function(t,e){Object.defineProperty(Ee.Event.prototype,t,{enumerable:!0,configurable:!0,get:xe(e)?function(){if(this.originalEvent)return e(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[t]},set:function(e){Object.defineProperty(this,t,{enumerable:!0,configurable:!0,writable:!0,value:e})}})},fix:function(e){return e[Ee.expando]?e:new Ee.Event(e)},special:{load:{noBubble:!0},click:{setup:function(e){var t=this||e;return et.test(t.type)&&t.click&&l(t,"input")&&N(t,"click",E),!1},trigger:function(e){var t=this||e;return et.test(t.type)&&t.click&&l(t,"input")&&N(t,"click"),!0},_default:function(e){var t=e.target;return et.test(t.type)&&t.click&&l(t,"input")&&Be.get(t,"click")||l(t,"a")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}}},Ee.removeEvent=function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n)},Ee.Event=function(e,t){if(!(this instanceof Ee.Event))return new Ee.Event(e,t);e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&!1===e.returnValue?E:S,this.target=e.target&&3===e.target.nodeType?e.target.parentNode:e.target,this.currentTarget=e.currentTarget,this.relatedTarget=e.relatedTarget):this.type=e,t&&Ee.extend(this,t),this.timeStamp=e&&e.timeStamp||Date.now(),this[Ee.expando]=!0},Ee.Event.prototype={constructor:Ee.Event,isDefaultPrevented:S,isPropagationStopped:S,isImmediatePropagationStopped:S,isSimulated:!1,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=E,e&&!this.isSimulated&&e.preventDefault()},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=E,e&&!this.isSimulated&&e.stopPropagation()},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=E,e&&!this.isSimulated&&e.stopImmediatePropagation(),this.stopPropagation()}},Ee.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,code:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:function(e){var t=e.button;return null==e.which&&ut.test(e.type)?null!=e.charCode?e.charCode:e.keyCode:!e.which&&void 0!==t&&lt.test(e.type)?1&t?1:2&t?3:4&t?2:0:e.which}},Ee.event.addProp),Ee.each({focus:"focusin",blur:"focusout"},function(e,t){Ee.event.special[e]={setup:function(){return N(this,e,k),!1},trigger:function(){return N(this,e),!0},delegateType:t}}),Ee.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(e,o){Ee.event.special[e]={delegateType:o,bindType:o,handle:function(e){var t,n=this,r=e.relatedTarget,i=e.handleObj;return r&&(r===n||Ee.contains(n,r))||(e.type=i.origType,t=i.handler.apply(this,arguments),e.type=o),t}}}),Ee.fn.extend({on:function(e,t,n,r){return j(this,e,t,n,r)},one:function(e,t,n,r){return j(this,e,t,n,r,1)},off:function(e,t,n){var r,i;if(e&&e.preventDefault&&e.handleObj)return r=e.handleObj,Ee(e.delegateTarget).off(r.namespace?r.origType+"."+r.namespace:r.origType,r.selector,r.handler),this;if("object"==typeof e){for(i in e)this.off(i,t,e[i]);return this}return!1!==t&&"function"!=typeof t||(n=t,t=void 0),!1===n&&(n=S),this.each(function(){Ee.event.remove(this,e,n,t)})}});var ft=/<script|<style|<link/i,pt=/checked\s*(?:[^=]|=\s*.checked.)/i,dt=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;Ee.extend({htmlPrefilter:function(e){return e},clone:function(e,t,n){var r,i,o,a,s=e.cloneNode(!0),u=Ye(e);if(!(me.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||Ee.isXMLDoc(e)))for(a=b(s),r=0,i=(o=b(e)).length;r<i;r++)O(o[r],a[r]);if(t)if(n)for(o=o||b(e),a=a||b(s),r=0,i=o.length;r<i;r++)H(o[r],a[r]);else H(e,s);return 0<(a=b(s,"script")).length&&w(a,!u&&b(e,"script")),s},cleanData:function(e){for(var t,n,r,i=Ee.event.special,o=0;void 0!==(n=e[o]);o++)if($e(n)){if(t=n[Be.expando]){if(t.events)for(r in t.events)i[r]?Ee.event.remove(n,r):Ee.removeEvent(n,r,t.handle);n[Be.expando]=void 0}n[_e.expando]&&(n[_e.expando]=void 0)}}}),Ee.fn.extend({detach:function(e){return R(this,e,!0)},remove:function(e){return R(this,e)},text:function(e){return Ie(this,function(e){return void 0===e?Ee.text(this):this.empty().each(function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=e)})},null,e,arguments.length)},append:function(){return P(this,arguments,function(e){var t;1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||D(this,e).appendChild(e)})},prepend:function(){return P(this,arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=D(this,e);t.insertBefore(e,t.firstChild)}})},before:function(){return P(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return P(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},empty:function(){for(var e,t=0;null!=(e=this[t]);t++)1===e.nodeType&&(Ee.cleanData(b(e,!1)),e.textContent="");return this},clone:function(e,t){return e=null!=e&&e,t=null==t?e:t,this.map(function(){return Ee.clone(this,e,t)})},html:function(e){return Ie(this,function(e){var t=this[0]||{},n=0,r=this.length;if(void 0===e&&1===t.nodeType)return t.innerHTML;if("string"==typeof e&&!ft.test(e)&&!at[(tt.exec(e)||["",""])[1].toLowerCase()]){e=Ee.htmlPrefilter(e);try{for(;n<r;n++)1===(t=this[n]||{}).nodeType&&(Ee.cleanData(b(t,!1)),t.innerHTML=e);t=0}catch(e){}}t&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(){var n=[];return P(this,arguments,function(e){var t=this.parentNode;Ee.inArray(this,n)<0&&(Ee.cleanData(b(this)),t&&t.replaceChild(e,this))},n)}}),Ee.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,a){Ee.fn[e]=function(e){for(var t,n=[],r=Ee(e),i=r.length-1,o=0;o<=i;o++)t=o===i?this:this.clone(!0),Ee(r[o])[a](t),fe.apply(n,t.get());return this.pushStack(n)}});var ht=new RegExp("^("+Xe+")(?!px)[a-z%]+$","i"),gt=function(e){var t=e.ownerDocument.defaultView;return t&&t.opener||(t=C),t.getComputedStyle(e)},vt=function(e,t,n){var r,i,o={};for(i in t)o[i]=e.style[i],e.style[i]=t[i];for(i in r=n.call(e),t)e.style[i]=o[i];return r},yt=new RegExp(Qe.join("|"),"i");!function(){function e(){if(l){u.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",l.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",Ge.appendChild(u).appendChild(l);var e=C.getComputedStyle(l);n="1%"!==e.top,s=12===t(e.marginLeft),l.style.right="60%",o=36===t(e.right),r=36===t(e.width),l.style.position="absolute",i=12===t(l.offsetWidth/3),Ge.removeChild(u),l=null}}function t(e){return Math.round(parseFloat(e))}var n,r,i,o,a,s,u=we.createElement("div"),l=we.createElement("div");l.style&&(l.style.backgroundClip="content-box",l.cloneNode(!0).style.backgroundClip="",me.clearCloneStyle="content-box"===l.style.backgroundClip,Ee.extend(me,{boxSizingReliable:function(){return e(),r},pixelBoxStyles:function(){return e(),o},pixelPosition:function(){return e(),n},reliableMarginLeft:function(){return e(),s},scrollboxSize:function(){return e(),i},reliableTrDimensions:function(){var e,t,n,r;return null==a&&(e=we.createElement("table"),t=we.createElement("tr"),n=we.createElement("div"),e.style.cssText="position:absolute;left:-11111px",t.style.height="1px",n.style.height="9px",Ge.appendChild(e).appendChild(t).appendChild(n),r=C.getComputedStyle(t),a=3<parseInt(r.height),Ge.removeChild(e)),a}}))}();var mt=["Webkit","Moz","ms"],xt=we.createElement("div").style,bt={},wt=/^(none|table(?!-c[ea]).+)/,Tt=/^--/,Ct={position:"absolute",visibility:"hidden",display:"block"},Et={letterSpacing:"0",fontWeight:"400"};Ee.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=M(e,"opacity");return""===n?"1":n}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{},style:function(e,t,n,r){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var i,o,a,s=d(t),u=Tt.test(t),l=e.style;if(u||(t=F(s)),a=Ee.cssHooks[t]||Ee.cssHooks[s],void 0===n)return a&&"get"in a&&void 0!==(i=a.get(e,!1,r))?i:l[t];"string"===(o=typeof n)&&(i=Ve.exec(n))&&i[1]&&(n=y(e,t,i),o="number"),null!=n&&n==n&&("number"!==o||u||(n+=i&&i[3]||(Ee.cssNumber[s]?"":"px")),me.clearCloneStyle||""!==n||0!==t.indexOf("background")||(l[t]="inherit"),a&&"set"in a&&void 0===(n=a.set(e,n,r))||(u?l.setProperty(t,n):l[t]=n))}},css:function(e,t,n,r){var i,o,a,s=d(t),u;return Tt.test(t)||(t=F(s)),(a=Ee.cssHooks[t]||Ee.cssHooks[s])&&"get"in a&&(i=a.get(e,!0,n)),void 0===i&&(i=M(e,t,r)),"normal"===i&&t in Et&&(i=Et[t]),""===n||n?(o=parseFloat(i),!0===n||isFinite(o)?o||0:i):i}}),Ee.each(["height","width"],function(e,l){Ee.cssHooks[l]={get:function(e,t,n){if(t)return!wt.test(Ee.css(e,"display"))||e.getClientRects().length&&e.getBoundingClientRect().width?_(e,l,n):vt(e,Ct,function(){return _(e,l,n)})},set:function(e,t,n){var r,i=gt(e),o=!me.scrollboxSize()&&"absolute"===i.position,a,s=(o||n)&&"border-box"===Ee.css(e,"boxSizing",!1,i),u=n?B(e,l,n,s,i):0;return s&&o&&(u-=Math.ceil(e["offset"+l[0].toUpperCase()+l.slice(1)]-parseFloat(i[l])-B(e,l,"border",!1,i)-.5)),u&&(r=Ve.exec(t))&&"px"!==(r[3]||"px")&&(e.style[l]=t,t=Ee.css(e,l)),$(e,t,u)}}}),Ee.cssHooks.marginLeft=I(me.reliableMarginLeft,function(e,t){if(t)return(parseFloat(M(e,"marginLeft"))||e.getBoundingClientRect().left-vt(e,{marginLeft:0},function(){return e.getBoundingClientRect().left}))+"px"}),Ee.each({margin:"",padding:"",border:"Width"},function(i,o){Ee.cssHooks[i+o]={expand:function(e){for(var t=0,n={},r="string"==typeof e?e.split(" "):[e];t<4;t++)n[i+Qe[t]+o]=r[t]||r[t-2]||r[0];return n}},"margin"!==i&&(Ee.cssHooks[i+o].set=$)}),Ee.fn.extend({css:function(e,t){return Ie(this,function(e,t,n){var r,i,o={},a=0;if(Array.isArray(t)){for(r=gt(e),i=t.length;a<i;a++)o[t[a]]=Ee.css(e,t[a],!1,r);return o}return void 0!==n?Ee.style(e,t,n):Ee.css(e,t)},e,t,1<arguments.length)}}),((Ee.Tween=z).prototype={constructor:z,init:function(e,t,n,r,i,o){this.elem=e,this.prop=n,this.easing=i||Ee.easing._default,this.options=t,this.start=this.now=this.cur(),this.end=r,this.unit=o||(Ee.cssNumber[n]?"":"px")},cur:function(){var e=z.propHooks[this.prop];return e&&e.get?e.get(this):z.propHooks._default.get(this)},run:function(e){var t,n=z.propHooks[this.prop];return this.options.duration?this.pos=t=Ee.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):this.pos=t=e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):z.propHooks._default.set(this),this}}).init.prototype=z.prototype,(z.propHooks={_default:{get:function(e){var t;return 1!==e.elem.nodeType||null!=e.elem[e.prop]&&null==e.elem.style[e.prop]?e.elem[e.prop]:(t=Ee.css(e.elem,e.prop,""))&&"auto"!==t?t:0},set:function(e){Ee.fx.step[e.prop]?Ee.fx.step[e.prop](e):1!==e.elem.nodeType||!Ee.cssHooks[e.prop]&&null==e.elem.style[F(e.prop)]?e.elem[e.prop]=e.now:Ee.style(e.elem,e.prop,e.now+e.unit)}}}).scrollTop=z.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},Ee.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2},_default:"swing"},Ee.fx=z.prototype.init,Ee.fx.step={};var St,kt,At=/^(?:toggle|show|hide)$/,jt=/queueHooks$/,Nt,Dt,qt;Ee.Animation=Ee.extend(J,{tweeners:{"*":[function(e,t){var n=this.createTween(e,t);return y(n.elem,e,Ve.exec(t),n),n}]},tweener:function(e,t){xe(e)?(t=e,e=["*"]):e=e.match(Pe);for(var n,r=0,i=e.length;r<i;r++)n=e[r],J.tweeners[n]=J.tweeners[n]||[],J.tweeners[n].unshift(t)},prefilters:[G],prefilter:function(e,t){t?J.prefilters.unshift(e):J.prefilters.push(e)}}),Ee.speed=function(e,t,n){var r=e&&"object"==typeof e?Ee.extend({},e):{complete:n||!n&&t||xe(e)&&e,duration:e,easing:n&&t||t&&!xe(t)&&t};return Ee.fx.off?r.duration=0:"number"!=typeof r.duration&&(r.duration in Ee.fx.speeds?r.duration=Ee.fx.speeds[r.duration]:r.duration=Ee.fx.speeds._default),null!=r.queue&&!0!==r.queue||(r.queue="fx"),r.old=r.complete,r.complete=function(){xe(r.old)&&r.old.call(this),r.queue&&Ee.dequeue(this,r.queue)},r},Ee.fn.extend({fadeTo:function(e,t,n,r){return this.filter(Ke).css("opacity",0).show().end().animate({opacity:t},e,n,r)},animate:function(t,e,n,r){var i=Ee.isEmptyObject(t),o=Ee.speed(e,n,r),a=function(){var e=J(this,Ee.extend({},t),o);(i||Be.get(this,"finish"))&&e.stop(!0)};return a.finish=a,i||!1===o.queue?this.each(a):this.queue(o.queue,a)},stop:function(i,e,o){var a=function(e){var t=e.stop;delete e.stop,t(o)};return"string"!=typeof i&&(o=e,e=i,i=void 0),e&&this.queue(i||"fx",[]),this.each(function(){var e=!0,t=null!=i&&i+"queueHooks",n=Ee.timers,r=Be.get(this);if(t)r[t]&&r[t].stop&&a(r[t]);else for(t in r)r[t]&&r[t].stop&&jt.test(t)&&a(r[t]);for(t=n.length;t--;)n[t].elem!==this||null!=i&&n[t].queue!==i||(n[t].anim.stop(o),e=!1,n.splice(t,1));!e&&o||Ee.dequeue(this,i)})},finish:function(a){return!1!==a&&(a=a||"fx"),this.each(function(){var e,t=Be.get(this),n=t[a+"queue"],r=t[a+"queueHooks"],i=Ee.timers,o=n?n.length:0;for(t.finish=!0,Ee.queue(this,a,[]),r&&r.stop&&r.stop.call(this,!0),e=i.length;e--;)i[e].elem===this&&i[e].queue===a&&(i[e].anim.stop(!0),i.splice(e,1));for(e=0;e<o;e++)n[e]&&n[e].finish&&n[e].finish.call(this);delete t.finish})}}),Ee.each(["toggle","show","hide"],function(e,r){var i=Ee.fn[r];Ee.fn[r]=function(e,t,n){return null==e||"boolean"==typeof e?i.apply(this,arguments):this.animate(V(r,!0),e,t,n)}}),Ee.each({slideDown:V("show"),slideUp:V("hide"),slideToggle:V("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,r){Ee.fn[e]=function(e,t,n){return this.animate(r,e,t,n)}}),Ee.timers=[],Ee.fx.tick=function(){var e,t=0,n=Ee.timers;for(St=Date.now();t<n.length;t++)(e=n[t])()||n[t]!==e||n.splice(t--,1);n.length||Ee.fx.stop(),St=void 0},Ee.fx.timer=function(e){Ee.timers.push(e),Ee.fx.start()},Ee.fx.interval=13,Ee.fx.start=function(){kt||(kt=!0,U())},Ee.fx.stop=function(){kt=null},Ee.fx.speeds={slow:600,fast:200,_default:400},Ee.fn.delay=function(r,e){return r=Ee.fx&&Ee.fx.speeds[r]||r,e=e||"fx",this.queue(e,function(e,t){var n=C.setTimeout(e,r);t.stop=function(){C.clearTimeout(n)}})},Nt=we.createElement("input"),qt=we.createElement("select").appendChild(we.createElement("option")),Nt.type="checkbox",me.checkOn=""!==Nt.value,me.optSelected=qt.selected,(Nt=we.createElement("input")).value="t",Nt.type="radio",me.radioValue="t"===Nt.value;var Lt,Ht=Ee.expr.attrHandle;Ee.fn.extend({attr:function(e,t){return Ie(this,Ee.attr,e,t,1<arguments.length)},removeAttr:function(e){return this.each(function(){Ee.removeAttr(this,e)})}}),Ee.extend({attr:function(e,t,n){var r,i,o=e.nodeType;if(3!==o&&8!==o&&2!==o)return void 0===e.getAttribute?Ee.prop(e,t,n):(1===o&&Ee.isXMLDoc(e)||(i=Ee.attrHooks[t.toLowerCase()]||(Ee.expr.match.bool.test(t)?Lt:void 0)),void 0!==n?null===n?(Ee.removeAttr(e,t),void 0):i&&"set"in i&&void 0!==(r=i.set(e,n,t))?r:(e.setAttribute(t,n+""),n):i&&"get"in i&&null!==(r=i.get(e,t))?r:null==(r=Ee.find.attr(e,t))?void 0:r)},attrHooks:{type:{set:function(e,t){if(!me.radioValue&&"radio"===t&&l(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}}},removeAttr:function(e,t){var n,r=0,i=t&&t.match(Pe);if(i&&1===e.nodeType)for(;n=i[r++];)e.removeAttribute(n)}}),Lt={set:function(e,t,n){return!1===t?Ee.removeAttr(e,n):e.setAttribute(n,n),n}},Ee.each(Ee.expr.match.bool.source.match(/\w+/g),function(e,t){var a=Ht[t]||Ee.find.attr;Ht[t]=function(e,t,n){var r,i,o=t.toLowerCase();return n||(i=Ht[o],Ht[o]=r,r=null!=a(e,t,n)?o:null,Ht[o]=i),r}});var Ot=/^(?:input|select|textarea|button)$/i,Pt=/^(?:a|area)$/i;Ee.fn.extend({prop:function(e,t){return Ie(this,Ee.prop,e,t,1<arguments.length)},removeProp:function(e){return this.each(function(){delete this[Ee.propFix[e]||e]})}}),Ee.extend({prop:function(e,t,n){var r,i,o=e.nodeType;if(3!==o&&8!==o&&2!==o)return 1===o&&Ee.isXMLDoc(e)||(t=Ee.propFix[t]||t,i=Ee.propHooks[t]),void 0!==n?i&&"set"in i&&void 0!==(r=i.set(e,n,t))?r:e[t]=n:i&&"get"in i&&null!==(r=i.get(e,t))?r:e[t]},propHooks:{tabIndex:{get:function(e){var t=Ee.find.attr(e,"tabindex");return t?parseInt(t,10):Ot.test(e.nodeName)||Pt.test(e.nodeName)&&e.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),me.optSelected||(Ee.propHooks.selected={get:function(e){var t=e.parentNode;return t&&t.parentNode&&t.parentNode.selectedIndex,null},set:function(e){var t=e.parentNode;t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex)}}),Ee.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){Ee.propFix[this.toLowerCase()]=this}),Ee.fn.extend({addClass:function(t){var e,n,r,i,o,a,s,u=0;if(xe(t))return this.each(function(e){Ee(this).addClass(t.call(this,e,Z(this)))});if((e=ee(t)).length)for(;n=this[u++];)if(i=Z(n),r=1===n.nodeType&&" "+K(i)+" "){for(a=0;o=e[a++];)r.indexOf(" "+o+" ")<0&&(r+=o+" ");i!==(s=K(r))&&n.setAttribute("class",s)}return this},removeClass:function(t){var e,n,r,i,o,a,s,u=0;if(xe(t))return this.each(function(e){Ee(this).removeClass(t.call(this,e,Z(this)))});if(!arguments.length)return this.attr("class","");if((e=ee(t)).length)for(;n=this[u++];)if(i=Z(n),r=1===n.nodeType&&" "+K(i)+" "){for(a=0;o=e[a++];)for(;-1<r.indexOf(" "+o+" ");)r=r.replace(" "+o+" "," ");i!==(s=K(r))&&n.setAttribute("class",s)}return this},toggleClass:function(i,t){var o=typeof i,a="string"===o||Array.isArray(i);return"boolean"==typeof t&&a?t?this.addClass(i):this.removeClass(i):xe(i)?this.each(function(e){Ee(this).toggleClass(i.call(this,e,Z(this),t),t)}):this.each(function(){var e,t,n,r;if(a)for(t=0,n=Ee(this),r=ee(i);e=r[t++];)n.hasClass(e)?n.removeClass(e):n.addClass(e);else void 0!==i&&"boolean"!==o||((e=Z(this))&&Be.set(this,"__className__",e),this.setAttribute&&this.setAttribute("class",e||!1===i?"":Be.get(this,"__className__")||""))})},hasClass:function(e){var t,n,r=0;for(t=" "+e+" ";n=this[r++];)if(1===n.nodeType&&-1<(" "+K(Z(n))+" ").indexOf(t))return!0;return!1}});var Rt=/\r/g;Ee.fn.extend({val:function(n){var r,e,i,t=this[0];return arguments.length?(i=xe(n),this.each(function(e){var t;1===this.nodeType&&(null==(t=i?n.call(this,e,Ee(this).val()):n)?t="":"number"==typeof t?t+="":Array.isArray(t)&&(t=Ee.map(t,function(e){return null==e?"":e+""})),(r=Ee.valHooks[this.type]||Ee.valHooks[this.nodeName.toLowerCase()])&&"set"in r&&void 0!==r.set(this,t,"value")||(this.value=t))})):t?(r=Ee.valHooks[t.type]||Ee.valHooks[t.nodeName.toLowerCase()])&&"get"in r&&void 0!==(e=r.get(t,"value"))?e:"string"==typeof(e=t.value)?e.replace(Rt,""):null==e?"":e:void 0}}),Ee.extend({valHooks:{option:{get:function(e){var t=Ee.find.attr(e,"value");return null!=t?t:K(Ee.text(e))}},select:{get:function(e){var t,n,r,i=e.options,o=e.selectedIndex,a="select-one"===e.type,s=a?null:[],u=a?o+1:i.length;for(r=o<0?u:a?o:0;r<u;r++)if(((n=i[r]).selected||r===o)&&!n.disabled&&(!n.parentNode.disabled||!l(n.parentNode,"optgroup"))){if(t=Ee(n).val(),a)return t;s.push(t)}return s},set:function(e,t){for(var n,r,i=e.options,o=Ee.makeArray(t),a=i.length;a--;)((r=i[a]).selected=-1<Ee.inArray(Ee.valHooks.option.get(r),o))&&(n=!0);return n||(e.selectedIndex=-1),o}}}}),Ee.each(["radio","checkbox"],function(){Ee.valHooks[this]={set:function(e,t){if(Array.isArray(t))return e.checked=-1<Ee.inArray(Ee(e).val(),t)}},me.checkOn||(Ee.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})}),me.focusin="onfocusin"in C;var Mt=/^(?:focusinfocus|focusoutblur)$/,It=function(e){e.stopPropagation()};Ee.extend(Ee.event,{trigger:function(e,t,n,r){var i,o,a,s,u,l,c,f,p=[n||we],d=ge.call(e,"type")?e.type:e,h=ge.call(e,"namespace")?e.namespace.split("."):[];if(o=f=a=n=n||we,3!==n.nodeType&&8!==n.nodeType&&!Mt.test(d+Ee.event.triggered)&&(-1<d.indexOf(".")&&(d=(h=d.split(".")).shift(),h.sort()),u=d.indexOf(":")<0&&"on"+d,(e=e[Ee.expando]?e:new Ee.Event(d,"object"==typeof e&&e)).isTrigger=r?2:3,e.namespace=h.join("."),e.rnamespace=e.namespace?new RegExp("(^|\\.)"+h.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,e.result=void 0,e.target||(e.target=n),t=null==t?[e]:Ee.makeArray(t,[e]),c=Ee.event.special[d]||{},r||!c.trigger||!1!==c.trigger.apply(n,t))){if(!r&&!c.noBubble&&!be(n)){for(s=c.delegateType||d,Mt.test(s+d)||(o=o.parentNode);o;o=o.parentNode)p.push(o),a=o;a===(n.ownerDocument||we)&&p.push(a.defaultView||a.parentWindow||C)}for(i=0;(o=p[i++])&&!e.isPropagationStopped();)f=o,e.type=1<i?s:c.bindType||d,(l=(Be.get(o,"events")||Object.create(null))[e.type]&&Be.get(o,"handle"))&&l.apply(o,t),(l=u&&o[u])&&l.apply&&$e(o)&&(e.result=l.apply(o,t),!1===e.result&&e.preventDefault());return e.type=d,r||e.isDefaultPrevented()||c._default&&!1!==c._default.apply(p.pop(),t)||!$e(n)||u&&xe(n[d])&&!be(n)&&((a=n[u])&&(n[u]=null),Ee.event.triggered=d,e.isPropagationStopped()&&f.addEventListener(d,It),n[d](),e.isPropagationStopped()&&f.removeEventListener(d,It),Ee.event.triggered=void 0,a&&(n[u]=a)),e.result}},simulate:function(e,t,n){var r=Ee.extend(new Ee.Event,n,{type:e,isSimulated:!0});Ee.event.trigger(r,null,t)}}),Ee.fn.extend({trigger:function(e,t){return this.each(function(){Ee.event.trigger(e,t,this)})},triggerHandler:function(e,t){var n=this[0];if(n)return Ee.event.trigger(e,t,n,!0)}}),me.focusin||Ee.each({focus:"focusin",blur:"focusout"},function(n,r){var i=function(e){Ee.event.simulate(r,e.target,Ee.event.fix(e))};Ee.event.special[r]={setup:function(){var e=this.ownerDocument||this.document||this,t=Be.access(e,r);t||e.addEventListener(n,i,!0),Be.access(e,r,(t||0)+1)},teardown:function(){var e=this.ownerDocument||this.document||this,t=Be.access(e,r)-1;t?Be.access(e,r,t):(e.removeEventListener(n,i,!0),Be.remove(e,r))}}});var Wt=C.location,Ft={guid:Date.now()},$t=/\?/;Ee.parseXML=function(e){var t;if(!e||"string"!=typeof e)return null;try{t=(new C.DOMParser).parseFromString(e,"text/xml")}catch(e){t=void 0}return t&&!t.getElementsByTagName("parsererror").length||Ee.error("Invalid XML: "+e),t};var Bt=/\[\]$/,_t=/\r?\n/g,zt=/^(?:submit|button|image|reset|file)$/i,Ut=/^(?:input|select|textarea|keygen)/i;Ee.param=function(e,t){var n,r=[],i=function(e,t){var n=xe(t)?t():t;r[r.length]=encodeURIComponent(e)+"="+encodeURIComponent(null==n?"":n)};if(null==e)return"";if(Array.isArray(e)||e.jquery&&!Ee.isPlainObject(e))Ee.each(e,function(){i(this.name,this.value)});else for(n in e)te(n,e[n],t,i);return r.join("&")},Ee.fn.extend({serialize:function(){return Ee.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=Ee.prop(this,"elements");return e?Ee.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!Ee(this).is(":disabled")&&Ut.test(this.nodeName)&&!zt.test(e)&&(this.checked||!et.test(e))}).map(function(e,t){var n=Ee(this).val();return null==n?null:Array.isArray(n)?Ee.map(n,function(e){return{name:t.name,value:e.replace(_t,"\r\n")}}):{name:t.name,value:n.replace(_t,"\r\n")}}).get()}});var Xt=/%20/g,Vt=/#.*$/,Qt=/([?&])_=[^&]*/,Gt=/^(.*?):[ \t]*([^\r\n]*)$/gm,Yt=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,Jt=/^(?:GET|HEAD)$/,Kt=/^\/\//,Zt={},en={},tn="*/".concat("*"),nn=we.createElement("a");nn.href=Wt.href,Ee.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Wt.href,type:"GET",isLocal:Yt.test(Wt.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":tn,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":Ee.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?ie(ie(e,Ee.ajaxSettings),t):ie(Ee.ajaxSettings,e)},ajaxPrefilter:ne(Zt),ajaxTransport:ne(en),ajax:function(e,t){function n(e,t,n,r){var i,o,a,s,u,l=t;h||(h=!0,d&&C.clearTimeout(d),c=void 0,p=r||"",T.readyState=0<e?4:0,i=200<=e&&e<300||304===e,n&&(s=oe(v,T,n)),!i&&-1<Ee.inArray("script",v.dataTypes)&&(v.converters["text script"]=function(){}),s=ae(v,s,T,i),i?(v.ifModified&&((u=T.getResponseHeader("Last-Modified"))&&(Ee.lastModified[f]=u),(u=T.getResponseHeader("etag"))&&(Ee.etag[f]=u)),204===e||"HEAD"===v.type?l="nocontent":304===e?l="notmodified":(l=s.state,o=s.data,i=!(a=s.error))):(a=l,!e&&l||(l="error",e<0&&(e=0))),T.status=e,T.statusText=(t||l)+"",i?x.resolveWith(y,[o,l,T]):x.rejectWith(y,[T,l,a]),T.statusCode(w),w=void 0,g&&m.trigger(i?"ajaxSuccess":"ajaxError",[T,v,i?o:a]),b.fireWith(y,[T,l]),g&&(m.trigger("ajaxComplete",[T,v]),--Ee.active||Ee.event.trigger("ajaxStop")))}"object"==typeof e&&(t=e,e=void 0),t=t||{};var c,f,p,r,d,i,h,g,o,a,v=Ee.ajaxSetup({},t),y=v.context||v,m=v.context&&(y.nodeType||y.jquery)?Ee(y):Ee.event,x=Ee.Deferred(),b=Ee.Callbacks("once memory"),w=v.statusCode||{},s={},u={},l="canceled",T={readyState:0,getResponseHeader:function(e){var t;if(h){if(!r)for(r={};t=Gt.exec(p);)r[t[1].toLowerCase()+" "]=(r[t[1].toLowerCase()+" "]||[]).concat(t[2]);t=r[e.toLowerCase()+" "]}return null==t?null:t.join(", ")},getAllResponseHeaders:function(){return h?p:null},setRequestHeader:function(e,t){return null==h&&(e=u[e.toLowerCase()]=u[e.toLowerCase()]||e,s[e]=t),this},overrideMimeType:function(e){return null==h&&(v.mimeType=e),this},statusCode:function(e){var t;if(e)if(h)T.always(e[T.status]);else for(t in e)w[t]=[w[t],e[t]];return this},abort:function(e){var t=e||l;return c&&c.abort(t),n(0,t),this}};if(x.promise(T),v.url=((e||v.url||Wt.href)+"").replace(Kt,Wt.protocol+"//"),v.type=t.method||t.type||v.method||v.type,v.dataTypes=(v.dataType||"*").toLowerCase().match(Pe)||[""],null==v.crossDomain){i=we.createElement("a");try{i.href=v.url,i.href=i.href,v.crossDomain=nn.protocol+"//"+nn.host!=i.protocol+"//"+i.host}catch(e){v.crossDomain=!0}}if(v.data&&v.processData&&"string"!=typeof v.data&&(v.data=Ee.param(v.data,v.traditional)),re(Zt,v,t,T),h)return T;for(o in(g=Ee.event&&v.global)&&0==Ee.active++&&Ee.event.trigger("ajaxStart"),v.type=v.type.toUpperCase(),v.hasContent=!Jt.test(v.type),f=v.url.replace(Vt,""),v.hasContent?v.data&&v.processData&&0===(v.contentType||"").indexOf("application/x-www-form-urlencoded")&&(v.data=v.data.replace(Xt,"+")):(a=v.url.slice(f.length),v.data&&(v.processData||"string"==typeof v.data)&&(f+=($t.test(f)?"&":"?")+v.data,delete v.data),!1===v.cache&&(f=f.replace(Qt,"$1"),a=($t.test(f)?"&":"?")+"_="+Ft.guid+++a),v.url=f+a),v.ifModified&&(Ee.lastModified[f]&&T.setRequestHeader("If-Modified-Since",Ee.lastModified[f]),Ee.etag[f]&&T.setRequestHeader("If-None-Match",Ee.etag[f])),(v.data&&v.hasContent&&!1!==v.contentType||t.contentType)&&T.setRequestHeader("Content-Type",v.contentType),T.setRequestHeader("Accept",v.dataTypes[0]&&v.accepts[v.dataTypes[0]]?v.accepts[v.dataTypes[0]]+("*"!==v.dataTypes[0]?", "+tn+"; q=0.01":""):v.accepts["*"]),v.headers)T.setRequestHeader(o,v.headers[o]);if(v.beforeSend&&(!1===v.beforeSend.call(y,T,v)||h))return T.abort();if(l="abort",b.add(v.complete),T.done(v.success),T.fail(v.error),c=re(en,v,t,T)){if(T.readyState=1,g&&m.trigger("ajaxSend",[T,v]),h)return T;v.async&&0<v.timeout&&(d=C.setTimeout(function(){T.abort("timeout")},v.timeout));try{h=!1,c.send(s,n)}catch(e){if(h)throw e;n(-1,e)}}else n(-1,"No Transport");return T},getJSON:function(e,t,n){return Ee.get(e,t,n,"json")},getScript:function(e,t){return Ee.get(e,void 0,t,"script")}}),Ee.each(["get","post"],function(e,i){Ee[i]=function(e,t,n,r){return xe(t)&&(r=r||n,n=t,t=void 0),Ee.ajax(Ee.extend({url:e,type:i,dataType:r,data:t,success:n},Ee.isPlainObject(e)&&e))}}),Ee.ajaxPrefilter(function(e){var t;for(t in e.headers)"content-type"===t.toLowerCase()&&(e.contentType=e.headers[t]||"")}),Ee._evalUrl=function(e,t,n){return Ee.ajax({url:e,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,converters:{"text script":function(){}},dataFilter:function(e){Ee.globalEval(e,t,n)}})},Ee.fn.extend({wrapAll:function(e){var t;return this[0]&&(xe(e)&&(e=e.call(this[0])),t=Ee(e,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){for(var e=this;e.firstElementChild;)e=e.firstElementChild;return e}).append(this)),this},wrapInner:function(n){return xe(n)?this.each(function(e){Ee(this).wrapInner(n.call(this,e))}):this.each(function(){var e=Ee(this),t=e.contents();t.length?t.wrapAll(n):e.append(n)})},wrap:function(t){var n=xe(t);return this.each(function(e){Ee(this).wrapAll(n?t.call(this,e):t)})},unwrap:function(e){return this.parent(e).not("body").each(function(){Ee(this).replaceWith(this.childNodes)}),this}}),Ee.expr.pseudos.hidden=function(e){return!Ee.expr.pseudos.visible(e)},Ee.expr.pseudos.visible=function(e){return!!(e.offsetWidth||e.offsetHeight||e.getClientRects().length)},Ee.ajaxSettings.xhr=function(){try{return new C.XMLHttpRequest}catch(e){}};var rn={0:200,1223:204},on=Ee.ajaxSettings.xhr();me.cors=!!on&&"withCredentials"in on,me.ajax=on=!!on,Ee.ajaxTransport(function(i){var o,a;if(me.cors||on&&!i.crossDomain)return{send:function(e,t){var n,r=i.xhr();if(r.open(i.type,i.url,i.async,i.username,i.password),i.xhrFields)for(n in i.xhrFields)r[n]=i.xhrFields[n];for(n in i.mimeType&&r.overrideMimeType&&r.overrideMimeType(i.mimeType),i.crossDomain||e["X-Requested-With"]||(e["X-Requested-With"]="XMLHttpRequest"),e)r.setRequestHeader(n,e[n]);o=function(e){return function(){o&&(o=a=r.onload=r.onerror=r.onabort=r.ontimeout=r.onreadystatechange=null,"abort"===e?r.abort():"error"===e?"number"!=typeof r.status?t(0,"error"):t(r.status,r.statusText):t(rn[r.status]||r.status,r.statusText,"text"!==(r.responseType||"text")||"string"!=typeof r.responseText?{binary:r.response}:{text:r.responseText},r.getAllResponseHeaders()))}},r.onload=o(),a=r.onerror=r.ontimeout=o("error"),void 0!==r.onabort?r.onabort=a:r.onreadystatechange=function(){4===r.readyState&&C.setTimeout(function(){o&&a()})},o=o("abort");try{r.send(i.hasContent&&i.data||null)}catch(e){if(o)throw e}},abort:function(){o&&o()}}}),Ee.ajaxPrefilter(function(e){e.crossDomain&&(e.contents.script=!1)}),Ee.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(e){return Ee.globalEval(e),e}}}),Ee.ajaxPrefilter("script",function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type="GET")}),Ee.ajaxTransport("script",function(n){var r,i;if(n.crossDomain||n.scriptAttrs)return{send:function(e,t){r=Ee("<script>").attr(n.scriptAttrs||{}).prop({charset:n.scriptCharset,src:n.url}).on("load error",i=function(e){r.remove(),i=null,e&&t("error"===e.type?404:200,e.type)}),we.head.appendChild(r[0])},abort:function(){i&&i()}}});var an=[],sn=/(=)\?(?=&|$)|\?\?/,un;Ee.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=an.pop()||Ee.expando+"_"+Ft.guid++;return this[e]=!0,e}}),Ee.ajaxPrefilter("json jsonp",function(e,t,n){var r,i,o,a=!1!==e.jsonp&&(sn.test(e.url)?"url":"string"==typeof e.data&&0===(e.contentType||"").indexOf("application/x-www-form-urlencoded")&&sn.test(e.data)&&"data");if(a||"jsonp"===e.dataTypes[0])return r=e.jsonpCallback=xe(e.jsonpCallback)?e.jsonpCallback():e.jsonpCallback,a?e[a]=e[a].replace(sn,"$1"+r):!1!==e.jsonp&&(e.url+=($t.test(e.url)?"&":"?")+e.jsonp+"="+r),e.converters["script json"]=function(){return o||Ee.error(r+" was not called"),o[0]},e.dataTypes[0]="json",i=C[r],C[r]=function(){o=arguments},n.always(function(){void 0===i?Ee(C).removeProp(r):C[r]=i,e[r]&&(e.jsonpCallback=t.jsonpCallback,an.push(r)),o&&xe(i)&&i(o[0]),o=i=void 0}),"script"}),me.createHTMLDocument=((un=we.implementation.createHTMLDocument("").body).innerHTML="<form></form><form></form>",2===un.childNodes.length),Ee.parseHTML=function(e,t,n){return"string"!=typeof e?[]:("boolean"==typeof t&&(n=t,t=!1),t||(me.createHTMLDocument?((r=(t=we.implementation.createHTMLDocument("")).createElement("base")).href=we.location.href,t.head.appendChild(r)):t=we),o=!n&&[],(i=Ne.exec(e))?[t.createElement(i[1])]:(i=T([e],t,o),o&&o.length&&Ee(o).remove(),Ee.merge([],i.childNodes)));var r,i,o},Ee.fn.load=function(e,t,n){var r,i,o,a=this,s=e.indexOf(" ");return-1<s&&(r=K(e.slice(s)),e=e.slice(0,s)),xe(t)?(n=t,t=void 0):t&&"object"==typeof t&&(i="POST"),0<a.length&&Ee.ajax({url:e,type:i||"GET",dataType:"html",data:t}).done(function(e){o=arguments,a.html(r?Ee("<div>").append(Ee.parseHTML(e)).find(r):e)}).always(n&&function(e,t){a.each(function(){n.apply(this,o||[e.responseText,t,e])})}),this},Ee.expr.pseudos.animated=function(t){return Ee.grep(Ee.timers,function(e){return t===e.elem}).length},Ee.offset={setOffset:function(e,t,n){var r,i,o,a,s,u,l,c=Ee.css(e,"position"),f=Ee(e),p={};"static"===c&&(e.style.position="relative"),s=f.offset(),o=Ee.css(e,"top"),u=Ee.css(e,"left"),(l=("absolute"===c||"fixed"===c)&&-1<(o+u).indexOf("auto"))?(a=(r=f.position()).top,i=r.left):(a=parseFloat(o)||0,i=parseFloat(u)||0),xe(t)&&(t=t.call(e,n,Ee.extend({},s))),null!=t.top&&(p.top=t.top-s.top+a),null!=t.left&&(p.left=t.left-s.left+i),"using"in t?t.using.call(e,p):("number"==typeof p.top&&(p.top+="px"),"number"==typeof p.left&&(p.left+="px"),f.css(p))}},Ee.fn.extend({offset:function(t){if(arguments.length)return void 0===t?this:this.each(function(e){Ee.offset.setOffset(this,t,e)});var e,n,r=this[0];return r?r.getClientRects().length?(e=r.getBoundingClientRect(),n=r.ownerDocument.defaultView,{top:e.top+n.pageYOffset,left:e.left+n.pageXOffset}):{top:0,left:0}:void 0},position:function(){if(this[0]){var e,t,n,r=this[0],i={top:0,left:0};if("fixed"===Ee.css(r,"position"))t=r.getBoundingClientRect();else{for(t=this.offset(),n=r.ownerDocument,e=r.offsetParent||n.documentElement;e&&(e===n.body||e===n.documentElement)&&"static"===Ee.css(e,"position");)e=e.parentNode;e&&e!==r&&1===e.nodeType&&((i=Ee(e).offset()).top+=Ee.css(e,"borderTopWidth",!0),i.left+=Ee.css(e,"borderLeftWidth",!0))}return{top:t.top-i.top-Ee.css(r,"marginTop",!0),left:t.left-i.left-Ee.css(r,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent;e&&"static"===Ee.css(e,"position");)e=e.offsetParent;return e||Ge})}}),Ee.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(t,i){var o="pageYOffset"===i;Ee.fn[t]=function(e){return Ie(this,function(e,t,n){var r;if(be(e)?r=e:9===e.nodeType&&(r=e.defaultView),void 0===n)return r?r[i]:e[t];r?r.scrollTo(o?r.pageXOffset:n,o?n:r.pageYOffset):e[t]=n},t,e,arguments.length)}}),Ee.each(["top","left"],function(e,n){Ee.cssHooks[n]=I(me.pixelPosition,function(e,t){if(t)return t=M(e,n),ht.test(t)?Ee(e).position()[n]+"px":t})}),Ee.each({Height:"height",Width:"width"},function(a,s){Ee.each({padding:"inner"+a,content:s,"":"outer"+a},function(r,o){Ee.fn[o]=function(e,t){var n=arguments.length&&(r||"boolean"!=typeof e),i=r||(!0===e||!0===t?"margin":"border");return Ie(this,function(e,t,n){var r;return be(e)?0===o.indexOf("outer")?e["inner"+a]:e.document.documentElement["client"+a]:9===e.nodeType?(r=e.documentElement,Math.max(e.body["scroll"+a],r["scroll"+a],e.body["offset"+a],r["offset"+a],r["client"+a])):void 0===n?Ee.css(e,t,i):Ee.style(e,t,n,i)},s,n?e:void 0,n)}})}),Ee.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){Ee.fn[t]=function(e){return this.on(t,e)}}),Ee.fn.extend({bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,r){return this.on(t,e,n,r)},undelegate:function(e,t,n){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",n)},hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)}}),Ee.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(e,n){Ee.fn[n]=function(e,t){return 0<arguments.length?this.on(n,null,e,t):this.trigger(n)}});var ln=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g;Ee.proxy=function(e,t){var n,r,i;if("string"==typeof t&&(n=e[t],t=e,e=n),xe(e))return r=le.call(arguments,2),(i=function(){return e.apply(t||this,r.concat(le.call(arguments)))}).guid=e.guid=e.guid||Ee.guid++,i},Ee.holdReady=function(e){e?Ee.readyWait++:Ee.ready(!0)},Ee.isArray=Array.isArray,Ee.parseJSON=JSON.parse,Ee.nodeName=l,Ee.isFunction=xe,Ee.isWindow=be,Ee.camelCase=d,Ee.type=v,Ee.now=Date.now,Ee.isNumeric=function(e){var t=Ee.type(e);return("number"===t||"string"===t)&&!isNaN(e-parseFloat(e))},Ee.trim=function(e){return null==e?"":(e+"").replace(ln,"")},"function"==typeof define&&define.amd&&define("jquery",[],function(){return Ee});var cn=C.jQuery,fn=C.$;return Ee.noConflict=function(e){return C.$===Ee&&(C.$=fn),e&&C.jQuery===Ee&&(C.jQuery=cn),Ee},void 0===e&&(C.jQuery=Ee),Ee}),window.$=function(e,t,n){function r(e){return"<"===e[0]&&">"===e[e.length-1]&&3<=e.length}var i=window.jQuery(e,t,n);return"string"!=typeof e||r(e)||(i.selector=e),i},Object.keys(window.jQuery).forEach(function(e){window.$[e]=window.jQuery[e]});
/*! core/dio/dio.js*/
"use strict";var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};window.dio=window.dio||{},dio.getObjectByName=function(e,t){var o=e.split("."),n=void 0,r=void 0,i=t||window;for(n=0,r=o.length;n<r&&(i=i[o[n++]]););return i||null},dio.getClientData=function(e){return window.hcomClientData?void 0!==hcomClientData[e]?hcomClientData[e]:dio.getObjectByName(e,hcomClientData):null},dio.injectedData=function(e){window.injectedData=window.injectedData||{};var t=window.injectedData;return t?void 0!==t[e]?t[e]:dio.getObjectByName(e,t):null},dio.setValueByName=function(e,t){var o=e.split("."),n=void 0,r=void 0,i=void 0,a=void 0;for(n=0,r=o.length-1,i=window,a;n<r;n++)void 0===(a=i[o[n]])&&(a={},i[o[n]]=a),i=a;return i[o[n]]=void 0===t?{}:t},dio.extend=function(e,t,o,n){var r=t.prototype,i=Object.create(r);return e.prototype=$.extend(!0,i,e.prototype),(i.constructor=e).superclass=r,t!==Object&&r.constructor===Object.prototype.constructor&&(r.constructor=t),o&&dio.mix(i,o),n&&dio.mix(e,n),e},dio.mix=function(e,t){for(var o=Array.prototype.slice.apply(arguments).slice(1),n=0;n<o.length,t=o[n];n++){for(var r in t)t[r]&&t[r].constructor&&t[r].constructor===Object?e[r]=dio.mix({},t[r]):e[r]=t[r];dio.mix(e.prototype,t.prototype)}return e},dio.singleton=function(e){e.getInstance=function(){return e.instance?e.instance:e.instance=new e}},dio.isObject=function(e){var t=void 0===e?"undefined":_typeof(e);return"object"===t&&null!==e||"function"===t},dio.inViewport=function(e,t){var o=void 0,n=$(window).height(),r=void 0;if(e instanceof HTMLElement)o=e.getBoundingClientRect();else{if(dio.isJQueryObject(e))r=e;else{if("string"!=typeof e)return!1;r=$(e)}r&&r.length&&(o=$(e).get(0).getBoundingClientRect())}return o&&t?0<=o.top&&0<o.bottom&&o.bottom<=n:!!o&&(o.top<=n&&0<o.bottom)},dio.isJQueryObject=function(e){return e instanceof jQuery},dio.rtl=dio.rtl=$("body").hasClass("RTL"),dio.isHTTPS=function(){return"https:"===document.location.protocol},dio.isNumber=$.isNumeric,dio.isFunction=$.isFunction,dio.typeOf=$.type,dio.setValueByName("dio.browser.features",{}),dio.browser.features.touch=$("html").hasClass("touch")||"ontouchstart"in document,dio.browser.features.history="undefined"!=typeof Modernizr&&Modernizr.history,dio.browser.features.localStorage="undefined"!=typeof Modernizr&&Modernizr.localstorage,dio.browser.features.sessionStorage="undefined"!=typeof Modernizr&&Modernizr.sessionstorage,dio.browser.features.cssAnimations="undefined"!=typeof Modernizr&&Modernizr.cssanimations,dio.browser.features.svg="undefined"!=typeof Modernizr&&Modernizr.svg,dio.browser.features.svgAsImg="undefined"!=typeof Modernizr&&Modernizr.svgasimg,dio.browser.features.inlineSvg="undefined"!=typeof Modernizr&&Modernizr.inlinesvg,dio.browser.features.csstransforms3d="undefined"!=typeof Modernizr&&Modernizr.csstransforms3d,dio.browser.features.csstransitions="undefined"!=typeof Modernizr&&Modernizr.csstransitions,dio.browser.features.intersectionobserver="IntersectionObserver"in window,dio.browser.features.lineClamp=function(){var e="undefined"!=typeof Modernizr&&Modernizr.testProp("-webkit-line-clamp");return $("html").addClass(e?"line-clamp":"no-line-clamp"),e}(),dio.browser.features.hasInputEvent=function(){var e=void 0;return e=!$("html").hasClass("ie9")&&"undefined"!=typeof Modernizr&&Modernizr.hasEvent("input")}(),dio.listenForKeyboardUser=function(){var t=$("body");t.on("keyup.keyboardUser",function(e){9===e.keyCode&&(t.addClass("keyboard-user"),t.off("keyup.keyboardUser"))})},dio.listenForKeyboardUser(),dio.formatNumber=function(e,t){var a=t||dio.getClientData("common.pointOfSale.numberSeparators")||",.",o=function e(t){for(var o=t.toString().split("."),n=o[0],r=o[1]||"",i=/(\d+)(\d{3})/;i.test(n);)n=n.replace(i,"$1"+a[0]+"$2");return n+(r?a[1]+r:"")};return 2!==(a=a&&a.split("")).length||isNaN(+e)?e:o(e)},dio.image=function(e){return 0===e.indexOf("/images/brands")?dio.getClientData("common.assetsBaseUrl")+e.replace(/brands/,"brands/"+dio.getClientData("brand").toLowerCase().split("_")[0]):0===e.indexOf("/images/common")?dio.getClientData("common.assetsBaseUrl")+e:dio.getClientData("common.imageBase")+e.split("/images/")[1]},dio.escapeContent=function(e,t){var o;return soy["$$"+{js:"escapeJsString",css:"escapeCssString",htmlAttribute:"escapeHtmlAttribute",html:"escapeHtml"}[t]](e)},dio.url=function(e){function t(e){if($.isArray(e))return!1;for(var t in e)e.hasOwnProperty(t)&&(d[t]=e[t])}function o(e){return!!d[e]&&d[e]}function n(){var e=[];for(var t in d)d.hasOwnProperty(t)&&e.push(encodeURIComponent(t)+"="+encodeURIComponent(d[t]));return e.length&&"?"+e.join("&")}function r(e){if(!e)return!1;"string"==typeof e&&(e=e.split());for(var t=0,o=e.length;t<o;t++)delete d[e[t]]}function i(){return c.protocol+"//"+c.host+c.pathname+n()+c.hash}function a(){return c}var s=window.location.search.slice(1),d={},c={protocol:window.location.protocol,host:window.location.host,pathname:window.location.pathname,hash:window.location.hash};if("string"==typeof e){var u=document.createElement("a");u.href=e,s=u.search.slice(1),c.protocol=u.protocol,c.host=u.host,c.pathname=u.pathname,c.hash=u.hash}if(s){var l=/([^=]+)=(.+)/;(s=s.split("&")).forEach(function(e){var t=e.match(l);t&&(d[decodeURIComponent(t[1])]=decodeURIComponent(t[2]))}),c.search=n()}return{allQueryParams:d,setParam:t,getParam:o,deleteParam:r,getSearch:n,getUrlAsObj:a,toString:i}},dio.padToThreeDigits=function(e){return dio.padStart(e,"0",3)},dio.padStart=function(e,t,o){var n=e=String(void 0!==e?e:" ");return t=String(void 0!==t?t:" "),o>>=0,String.prototype.padStart?n=e.padStart(o,t):e.length<o&&((o-=e.length)>t.length&&(t+=new Array(Math.round(o/t.length)).join(t)),n=t.slice(0,o)+String(e)),n},dio.omit=function(o,t){return Object.keys(o).filter(function(e){return!t.includes(e)}).reduce(function(e,t){return e[t]=o[t],e},{})};
/*! core/dio/dio.i18n.js*/
"use strict";!function(){window.dio=window.dio||{},dio.i18nCache=window.i18nCache||{},dio.i18nRegexCache={allChoicePatterns:/\{\s*[0-9]+\s*,\s*choice\s*,[^}]+\}/g,nextChoicePattern:/\{\s*([0-9]+)\s*,\s*choice\s*,([^}]+)\}/};var p=function t(){this.formatters=[],this.argumentFormatters=[]};p.prototype={addFormatter:function t(r){this.formatters.unshift(r)},addArgumentFormatter:function t(r){this.argumentFormatters.unshift(r)}},p.rootFormatterSupport=new p,p.format=function(o,r){var t=p.rootFormatterSupport,n=o;return $.each(t.formatters,function(t,e){$.each(r,function(t,r){e.supports(o,r)&&(n=e.format(n,t,p.formatArgument(r)))})}),n},p.formatArgument=function(t){var r=p.rootFormatterSupport,e=t;return $.each(r.argumentFormatters,function(t,r){r.supports(e)&&(e=r.format(e))}),e},p.addFormatter=function(t){var r;p.rootFormatterSupport.addFormatter(t)},p.addArgumentFormatter=function(t){var r;p.rootFormatterSupport.addArgumentFormatter(t)},p.addFormatter({supports:function t(){return!0},format:function t(r,e,o){return r.replace(new RegExp("__"+e+"__","g"),o)}}),p.addArgumentFormatter({supports:function t(r){return"number"==typeof r},format:function t(r){return dio.formatNumber(r)}});var o=function t(r,e,o){this.relation=e,this.value=parseFloat(r),this.expr=o};o.prototype={test:function t(r){var e=!1;switch(this.relation){case"#":e=r===this.value;break;case"<":e=r>this.value;break;default:throw new Error("invalid case in choice pattern: "+this.relation)}return e},format:function t(r){return p.format(this.expr,r)}};var m=function t(r){this.pattern=r,this.choices=[],this.parse()};m.cache={},m.prototype={parse:function t(){var e=/\s*(\d+\.?\d*)\s*([#<])(.*)/,r=this.pattern.split(/[|]/);(this.choices=m.cache[this.pattern]||[]).length||(this.choices=$.map(r,function(t){var r=t.match(e);if(!r||4!==r.length)throw new Error("invalid case in choice pattern");return new o(r[1],r[2],r[3])}),m.cache[this.pattern]=this.choices=this.choices.reverse())},test:function t(e,r){var o=null;return $.each(this.choices,function(t,r){if(r.test(e)||r.value<e)return o=r,!1}),o.format(r)}},dio.i18n=function(t){window.hcomi18nData=window.hcomi18nData||{};var r=hcomi18nData[t]||t,e=Array.prototype.slice.call(arguments).slice(1),o=Array.prototype.slice.call(arguments).join("_"),n=e.length,a=void 0,i=null,c=void 0,s=void 0,h=void 0,u=void 0;if(!dio.i18nCache.hasOwnProperty(o)){for(a=0;a<n;a++)r=r.replace(new RegExp("{["+a+"]+}","g"),"__"+a+"__");if(null!==(i=r.match(dio.i18nRegexCache.allChoicePatterns)))for(c=i.length,a=0;a<c;a++)if(null!==(s=i[a].match(dio.i18nRegexCache.nextChoicePattern))&&(h=parseInt(s[1],10),u=parseFloat(e[h]),!isNaN(u))){var f=new m(s[2]);r=r.replace(i[a],f.test(u,e))}r=p.format(r,e),dio.i18nCache[o]=r}return dio.i18nCache[o]}}();
/*! core/dio/polyfills.js*/
"use strict";var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};"function"!=typeof Object.create&&(Object.create=function(t){function r(){}return r.prototype=t,new r}),void 0===window.console&&(window.console={log:function t(){},error:function t(){},info:function t(){}}),Array.prototype.map||Object.defineProperty(Array.prototype,"map",{value:function t(r,e){var n=void 0,o=void 0;if(null===this)throw new TypeError(" this is null or not defined");var i=Object(this),u=i.length>>>0;if("function"!=typeof r)throw new TypeError(r+" is not a function");1<arguments.length&&(n=e);var c=new Array(u);for(o=0;o<u;){var a=void 0,l=void 0;o in i&&(a=i[o],l=r.call(n,a,o,i),c[o]=l),o++}return c}}),Array.prototype.filter||Object.defineProperty(Array.prototype,"filter",{value:function t(r){if(null==this)throw new TypeError;var e=Object(this),n=e.length>>>0;if("function"!=typeof r)throw new TypeError;for(var o=[],i=2<=arguments.length?arguments[1]:void 0,u=0;u<n;u++)if(u in e){var c=e[u];r.call(i,c,u,e)&&o.push(c)}return o}}),Array.prototype.reduce||Object.defineProperty(Array.prototype,"reduce",{value:function t(r){if(null===this)throw new TypeError("Array.prototype.reduce called on null or undefined");if("function"!=typeof r)throw new TypeError(r+" is not a function");var e=Object(this),n=e.length>>>0,o=0,t=void 0;if(2===arguments.length)t=arguments[1];else{for(;o<n&&!(o in e);)o++;if(n<=o)throw new TypeError("Reduce of empty array with no initial value");t=e[o++]}for(;o<n;o++)o in e&&(t=r(t,e[o],o,e));return t}}),Array.prototype.includes||Object.defineProperty(Array.prototype,"includes",{value:function t(r){return-1!==this.indexOf(r)}}),String.prototype.includes||Object.defineProperty(String.prototype,"includes",{value:function t(r){return-1!==this.indexOf(r)}}),Function.prototype.bind||Object.defineProperty(Function.prototype,"bind",{value:function t(r){if("function"!=typeof this)throw new TypeError("Function.prototype.bind - what is trying to be bound is not callable");var e=Array.prototype.slice.call(arguments,1),n=this,o=function t(){},i=function t(){return n.apply(this instanceof o&&r?this:r,e.concat(Array.prototype.slice.call(arguments)))};return o.prototype=this.prototype,i.prototype=new o,i}}),Object.keys||Object.defineProperty(Object.prototype,"keys",{value:function t(){var o,i,u,c;o=Object.prototype.hasOwnProperty,i=!{toString:null}.propertyIsEnumerable("toString"),c=(u=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"]).length,function(t){if("object"!==(void 0===t?"undefined":_typeof(t))&&("function"!=typeof t||null===t))throw new TypeError("Object.keys called on non-object");var r=[],e=void 0,n=void 0;for(e in t)o.call(t,e)&&r.push(e);if(i)for(n=0;n<c;n++)o.call(t,u[n])&&r.push(u[n]);return r}}}),Array.prototype.forEach||Object.defineProperty(Array.prototype,"Array",{value:function t(r){var e=void 0,n=void 0;if(null===this)throw new TypeError("this is null or not defined");var o=Object(this),i=o.length>>>0;if("function"!=typeof r)throw new TypeError(r+" is not a function");for(1<arguments.length&&(e=arguments[1]),n=0;n<i;){var u=void 0;n in o&&(u=o[n],r.call(e,u,n,o)),n++}}}),String.prototype.trim||Object.defineProperty(String.prototype,"trim",{value:function t(){return this.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")}}),Array.prototype.every||Object.defineProperty(Array.prototype,"every",{value:function t(r,e){var n=void 0,o=void 0;if(null===this)throw new TypeError("this is null or not defined");var i=Object(this),u=i.length>>>0;if("function"!=typeof r)throw new TypeError;for(1<arguments.length&&(n=e),o=0;o<u;){var c=void 0,a;if(o in i)if(c=i[o],!r.call(n,c,o,i))return!1;o++}return!0}}),Array.prototype.some||Object.defineProperty(Array.prototype,"some",{value:function t(r){if(null===this)throw new TypeError("Array.prototype.some called on null or undefined");if("function"!=typeof r)throw new TypeError;for(var e=Object(this),n=e.length>>>0,o=2<=arguments.length?arguments[1]:void 0,i=0;i<n;i++)if(i in e&&r.call(o,e[i],i,e))return!0;return!1}}),Array.prototype.indexOf||Object.defineProperty(Array.prototype,"indexOf",{value:function t(r,e){var n=void 0;if(null===this)throw new TypeError('"this" is null or not defined');var o=Object(this),i=o.length>>>0;if(0===i)return-1;var u=+e||0;if(Math.abs(u)===1/0&&(u=0),i<=u)return-1;for(n=Math.max(0<=u?u:i-Math.abs(u),0);n<i;){if(n in o&&o[n]===r)return n;n++}return-1}}),Array.prototype.find||Object.defineProperty(Array.prototype,"find",{value:function t(r){if(null===this)throw new TypeError('"this" is null or not defined');var e=Object(this),n=e.length>>>0;if("function"!=typeof r)throw new TypeError("predicate must be a function");for(var o=arguments[1],i=0;i<n;){var u=e[i];if(r.call(o,u,i,e))return u;i++}},configurable:!0,writable:!0}),Array.from||(Array.from=function(){var e=Object.prototype.toString,f=function t(r){return"function"==typeof r||"[object Function]"===e.call(r)},n=function t(r){var e=Number(r);return isNaN(e)?0:0!==e&&isFinite(e)?(0<e?1:-1)*Math.floor(Math.abs(e)):e},o=Math.pow(2,53)-1,p=function t(r){var e=n(r);return Math.min(Math.max(e,0),o)};return function t(r){var e=this,n=Object(r);if(null===r)throw new TypeError("Array.from requires an array-like object - not null or undefined");var o=1<arguments.length?arguments[1]:void 0,i=void 0;if(void 0!==o){if(!f(o))throw new TypeError("Array.from: when provided, the second argument must be a function");2<arguments.length&&(i=arguments[2])}for(var u=p(n.length),c=f(e)?Object(new e(u)):new Array(u),a=0,l=void 0;a<u;)l=n[a],c[a]=o?void 0===i?o(l,a):o.call(i,l,a):l,a+=1;return c.length=u,c}}()),"function"!=typeof Object.assign&&Object.defineProperty(Object,"assign",{value:function t(r,e){if(null===r)throw new TypeError("Cannot convert undefined or null to object");for(var n=Object(r),o=1;o<arguments.length;o++){var i=arguments[o];if(null!==i)for(var u in i)Object.prototype.hasOwnProperty.call(i,u)&&(n[u]=i[u])}return n},writable:!0,configurable:!0}),Object.entries||Object.defineProperty(Object,"entries",{value:function t(r){for(var e=Object.keys(r),n=new Array(o),o=e.length;o--;)n[o]=[e[o],r[e[o]]];return n}});var reduce=Function.bind.call(Function.call,Array.prototype.reduce),isEnumerable=Function.bind.call(Function.call,Object.prototype.propertyIsEnumerable),concat=Function.bind.call(Function.call,Array.prototype.concat),keys=Object.getOwnPropertyNames;Object.values||(Object.values=function t(e){return reduce(keys(e),function(t,r){return concat(t,"string"==typeof r&&isEnumerable(e,r)?[e[r]]:[])},[])}),function(){function t(t,r){r=r||{bubbles:!1,cancelable:!1,detail:null};var e=document.createEvent("CustomEvent");return e.initCustomEvent(t,r.bubbles,r.cancelable,r.detail),e}if("function"==typeof window.CustomEvent)return;window.CustomEvent=t}();
/*! core/dio/event.js*/
"use strict";dio.event={subscriptions:{},deferQueue:{},publish:function e(i,t){var s=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{},n=dio.event.subscriptions[i],r=Array.prototype.slice.call(arguments),u=void 0,o=void 0;if(s=r[r.length-1]||{},n)for(var c=n.length-1;(u=n[c])&&(u.instance!==this||(s.async?!function(e,i){setTimeout(function(){i.pop(),e.fn.apply(e.ctx,i)},0)}(u,dio.mix([],r)):o=u.fn.apply(u.ctx,r),!1!==o));c--);return s.defer&&(!this.deferQueue[i]&&(this.deferQueue[i]=[]),!s.fromSubscribe&&this.deferQueue[i].push(r)),!1!==o},subscribe:function e(s,n,r){var u=this,i=3<arguments.length&&void 0!==arguments[3]?arguments[3]:{};r=this===dio.event?r:r||this;for(var t=s.split(/\s/),o=i.once?function(){for(var e=arguments.length,i=Array(e),t=0;t<e;t++)i[t]=arguments[t];return u.unsubscribe.call(u,s,o,r)||n.apply(r,i)}:n,c=0,f,h;f=t[c];c++)if(h=f.split("."),(dio.event.subscriptions[h[0]]||(dio.event.subscriptions[h[0]]=[])).push({fn:o,ctx:r,instance:this,namespace:h[1]}),this.deferQueue[h[0]]){for(var p=0,l;p<this.deferQueue[h[0]].length,l=this.deferQueue[h[0]][p];p++)l[l.length-1].fromSubscribe=!0,this.publish.apply(this,l);delete this.deferQueue[h[0]]}return this},unsubscribe:function e(i,t,s){for(var n=i.split(/\s/),r=0;r<n.length;r++){var u,o=n[r].split("."),c=dio.event.subscriptions[o[0]];if(c)for(var f=void 0,h=c.length-1;f=c[h];h--)f.instance&&f.instance!==this||s&&s!==f.ctx||o[1]&&f.namespace!==o[1]||(t?t===f.fn&&c.splice(h,1):c.splice(h,1))}}};
/*! core/dio/widget.js*/
"use strict";!function(){function e(i){o[i]&&o[i].length&&dio.widget[i]&&($.each(o[i],function(i,t){t()}),delete o[i])}function u(i,t){i&&t&&(dio.widget[i]?(e(i),t()):(o[i]=o[i]||[],o[i].push(t)))}function h(){$.each(o,e)}function n(e,i){return $.each(Object(i),function(i,t){$.isPlainObject(t)&&t!==dio.event?e[i]=n(e[i]||{},t):e[i]=t}),e}function t(i,t){var e=void 0,n={},o=0;if(i&&i.length)for(e=i.length;o<e;o++)o in i&&(n=t(n,i[o],o,i));return n}function g(i){return t(i,function(i,t){return n(i,t)})}var i={emit:function i(t,e){e=e||{};var n=t+":"+this.NAME,o=[e.data||null,{widgetInstance:this},{async:!!e.async,defer:!!e.defer}];return!1===this.publish.apply(this,["pre:"+t].concat(o))||!1===dio.event.publish.apply(dio.event,["pre:"+n].concat(o))?0:(e.callback&&e.callback.call(this,e.data),this.publish.apply(this,[t].concat(o)),dio.event.publish.apply(dio.event,[n].concat(o)),dio.event.publish.apply(dio.event,[t].concat(o)),this.publish.apply(this,["post:"+t].concat(o)),dio.event.publish.apply(dio.event,["post:"+n].concat(o))),this},find:function i(t){return this.cont.find(t)},event:function i(t,e){this.eventListeners=this.eventListeners||[];var n=Array.prototype.slice.apply(arguments).slice(2);"on"===e&&this.listeners.push(arguments),"function"==typeof n[n.length-1]&&(n[n.length-1]=$.proxy(n[n.length-1],this)),jQuery.fn[e].apply(t,n)},initialise:function i(){this.listeners=[],this.emit("init",{callback:function i(){this.init&&this.init()}}),this.emit("paintUI",{callback:function i(){this.paintUI&&this.paintUI()}}),this.emit("bindUI",{callback:function i(){this.bindUI&&this.bindUI()}}),this.readyTime=(new Date).getTime()},destroy:function i(){var t=void 0;this.emit("destroy",{data:{instance:this}});for(var e=0,n;n=this.listeners[e];e++)n[1]="off",this.event.apply(this,n);for(var o in this.destructor&&this.destructor(),dio.event.subscriptions)for(var d=dio.event.subscriptions[o].length-1;t=dio.event.subscriptions[o][d];d--)t.instance&&t.instance===this&&dio.event.subscriptions[o].splice(d,1);return this.constructor.instances.splice($.inArray(this,this.constructor.instances),1),this},init:function i(){},destructor:function i(){},paintUI:function i(){},bindUI:function i(){}};dio.widget=dio.widget||{};var o={};dio.addWidget=function(i,t,e,n){var c,a,o,r,d,s;if(dio.widget[i],0,!t&&"Widget"!==i||t===dio.Widget?t="Widget":t&&t.NAME&&(t=t.NAME),dio.widget[i]=(c=i,a=t,o=e,r=n,function(i){var t=[i,r],e=void 0,n=-1;if("Widget"!==c&&(a=a||"Widget"),!a||dio.widget[a]){if(this===dio.widget)return new dio.widget[c](i);for(e=c;dio.widget[e].parent&&dio.widget[e].parent!==e;)e=dio.widget[e].parent,t.push(dio.widget[e].defaults);t.push({}),this.conf=g(t.reverse()),this.cont=this.conf.cont,this.NAME=c,this.constructor.instances.push(this);for(var o=0;o<this.constructor.instances.length-1;o++)n=Math.max(this.constructor.instances[o].instanceIndex,n);if(this.instanceIndex=n+1,dio.widgetModifications[c]){for(var d=0,s;d<dio.widgetModifications[c].length,s=dio.widgetModifications[c][d];d++)dio[s.type].apply(this,s.args);delete dio.widgetModifications[c]}this.initialise()}}),dio.widget[i].defaults=n,dio.widget[i].prototype.NAME=i,dio.widget[i].parent=t,e){var p=e.init;e.init=function(){dio.widget[i]&&dio.widget[i].superclass&&dio.widget[i].superclass.init&&dio.widget[i].superclass.init.apply(this,arguments),p&&p.apply(this)},$.extend(dio.widget[i].prototype,e)}dio.widget[i].NAME=i,u(t,(d=i,s=t,function(){dio.extend(dio.widget[d],dio.widget[s])})),h(),dio.widget[i].instances=[]};var d=dio.mix({},dio.event,i);dio.addWidget("Widget",null,d),dio.Widget=dio.widget.Widget,dio.widgetModifications={},dio.widgetPlugin=function(i,t){if(!dio.widget[i])return(dio.widgetModifications[i]||(dio.widgetModifications[i]=[])).push({args:arguments,type:"widgetPlugin"});var e=dio.widget[i].prototype;for(var n in t)e[n]?void 0:e[n]=t[n]},dio.widgetOverride=function(i,t){if(!dio.widget[i])return(dio.widgetModifications[i]||(dio.widgetModifications[i]=[])).push({args:arguments,type:"widgetOverride"});var e=dio.widget[i].prototype;for(var n in t)e[n]?e[n]=t[n]:void 0},dio.onWidgetEvent=function(e,i,n,o){dio.event.subscribe(i+":"+e,function(){for(var i=dio.widget[e].instances,t=0;t<i.length;t++)n.apply(o||i[t],arguments)})},dio.addWidgetEvent=function(i,e,t,n){var o=dio.widget[i].prototype[t];dio.widget[i].prototype[t]=function(){var t=arguments;this.emit(e,{callback:function i(){o.apply(null,t)},data:n})}}}();
/*! core/dio/util/responsive.js*/
"use strict";dio.util=dio.util||{},dio.util.responsive={supportsMQs:function e(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:document.documentElement;return/\sresponsive-css/.test(" "+t.className)},getBreakpoint:function e(){var t="default",i=void 0;return dio.util.responsive.supportsMQs()&&document.body&&(i=window.getComputedStyle(document.body,":after").getPropertyValue("content"))&&""!==i&&(t=i.replace(/['"]/g,"")),t},getHeightBreakpoint:function e(){var t="default";return dio.util.responsive.supportsMQs()&&document.body&&(t=window.getComputedStyle(document.body,":before").getPropertyValue("content")),t.replace(/^"([^"]*)"$/,"$1")},hasCrossedBreakpoint:function e(){var i=dio.util.responsive.getBreakpoint();return function(e){var t=dio.util.responsive.getBreakpoint();t!==i&&e(i=t)}},getViewportWidth:function e(){var t;return["iPhone","iPad","iPod"].includes(window.navigator.platform)&&(window.orientationchange=function(){dio.event.publish("orientationChange")},90===Math.abs(window.orientation))?window.screen.height||document.body&&document.body.clientHeight:window.screen.width||document.body&&document.body.clientWidth},cacheViewportWidth:function e(){this.cachedViewportWidth=this.getViewportWidth()},hasViewportWidthChanged:function e(){return this.cachedViewportWidth!==this.getViewportWidth()},createListener:function e(){var t=this;if(!$("#tape-measure").length){var i=document.createElement("div");i.setAttribute("id","tape-measure"),i.setAttribute("style","position: absolute; left: 0; right: 0; display: block;"),document.body&&document.body.appendChild(i)}var o=$(window),n=o.width(),d=o.height();if(o.on("resize",dio.debounce(function(e){o.width()===n&&o.height()===d||(n=o.width(),d=o.height(),dio.event.publish("resizeEnd",e),o.width()!==n&&dio.event.publish("widthResizeEnd",e),o.height()!==d&&dio.event.publish("heightResizeEnd",e))},150)).on("scroll",dio.debounce(function(e){dio.event.publish("scrollEnd",e)},50)),dio.util.responsive.supportsMQs()){var r=dio.util.responsive.hasCrossedBreakpoint();dio.util.responsive.cacheViewportWidth(),window.addEventListener("resize",function(){r(function(e){dio.event.publish("viewportChanged",e)}),dio.browser.features.touch&&dio.util.responsive.hasViewportWidthChanged()&&(t.cacheViewportWidth(),dio.event.publish("orientationChange"))},!1),this.createListener=function(){}}}};
/*! core/dio/util/debounce.js*/
"use strict";window.dio=window.dio||{},dio.debounce=function(e,t){var u=null,a=null,r=t||15,w=window.requestAnimationFrame&&"function"==typeof window.requestAnimationFrame;return function(){var i=this,o=arguments,n=function n(){e.apply(i,o)};!t&&w?(a&&window.cancelAnimationFrame(a),a=window.requestAnimationFrame(n)):(clearTimeout(u),u=setTimeout(n,r))}};
/*! core/dio/widget/dio.widget.autosuggest.js*/
"use strict";!function(){var e="request",s="response",t="focus",i="show",n="hide",a="keyup",o="selected",u="fullScreenControlsAdded",c={enabledClass:"autosuggest-enabled",minLength:3,maxLength:100,debounceDelay:dio.getClientData("module.autosuggest.debounceDelay")||0,callback:"",pageName:dio.getClientData("page.pageName")||"HomePage",source:dio.getClientData("module.autosuggest.source")||"//lookup.hotels.com/suggest/champion/json",version:dio.getClientData("module.autosuggest.version")||"champion",providerInfoTypes:dio.getClientData("module.autosuggest.providerInfoTypes")||"",locale:dio.getClientData("common.locale")||"en_GB",isNameSearch:!1,enableFullScreen:!1,additionalUrlParams:{},restoreDestinationId:!0,excludeLpa:!dio.getClientData("qf.data")||!1!==dio.getClientData("qf.data").excludeLpa,boostConfig:dio.getClientData("module.autosuggest.boostConfig")||"config-boost-8",groupOrder:["CITY_GROUP","HOTEL_GROUP","LANDMARK_GROUP","TRANSPORT_GROUP"],classNames:{container:"widget-autosuggest",visible:"widget-autosuggest-visible",offscreen:"widget-autosuggest-offscreen",category:"widget-autosuggest-category",fullscreen:"widget-autosuggest-fs",controls:"widget-autosuggest-controls",hidden:"as-hidden"},i18n:{headings:{suggestions:dio.i18n("sfsearch.invalid.search.suggestion"),categories:dio.i18n("reviewform.categories")},categories:{city:dio.i18n("autosuggest.categories.cities"),landmark:dio.i18n("autosuggest.categories.landmarks"),transport:dio.i18n("autosuggest.categories.airports_stations"),hotel:dio.i18n("autosuggest.categories.properties"),recent:dio.i18n("landing.city.recent_searches"),recommended:dio.i18n("autosuggest.categories.recommendations"),similar:dio.i18n("autosuggest.categories.similar")},caption:dio.i18n("autosuggest.querypod.caption"),moreOptions:dio.i18n("autosuggest.moreSuggestion"),close:dio.i18n("autosuggest.close")}};dio.autoSuggestInstances={},dio.addWidget("AutoSuggest",dio.Widget,{init:function t(){this.autosuggestEl=$(this.conf.trigger),this.isFullScreen=this.conf.enableFullScreen&&dio.browser.features.touch&&"x-small-screen"===dio.util.responsive.getBreakpoint(),this.asRequestData={locale:this.conf.locale,boostConfig:this.conf.boostConfig,excludeLpa:this.conf.excludeLpa,providerInfoTypes:this.conf.providerInfoTypes,callback:"srs"},this.lastState=null,dio.mix(this.asRequestData,this.conf.additionalUrlParams),this.conf.isNameSearch&&delete this.asRequestData.locale,this.cache={},this.asResponseData={},this.currentSuggestions=[],this.conf.defaultMinLength=this.conf.minLength,this.currentSelected=-1,this.restoreDestinationId(),this.conf.source=this.conf.source.replace(/(v1\.\d)|(champion)/,this.conf.version),this.isModal=0<this.autosuggestEl.parents(".widget-overlay,.widget-modaloverlay").length,this.breakpoint=dio.util.responsive.getBreakpoint()},bindUI:function t(){this.isFullScreen?this.event(this.autosuggestEl,"on","focusin.fsautosuggest",function(){var t=this.autosuggestEl.val();t&&this.fullScreenInput&&(this.fullScreenInput.val(t).addClass("active"),this.fsInputPrePopulated=!0),this.show()}):(0===this.conf.debounceDelay?this.event(this.autosuggestEl,"on","input.autosuggest",this.handleInputs):this.event(this.autosuggestEl,"on","input.autosuggest",dio.debounce(this.handleInputs,this.conf.debounceDelay)),this.event(this.autosuggestEl,"on","keydown.autosuggest",this.handleKeydown),this.event(this.autosuggestEl,"on","focusin.autosuggest",function(){this.currentSuggestions&&this.currentSuggestions.length&&this.show()}));var e=$(document);this.subscribe(i,function(){this.unbindHandlers.apply(this),this.event(this.cont,"one","click.autosuggest","tr",this.handleClick),this.event(e,"on","click",this.handleClick),!this.isFullScreen&&this.event(e,"on","touchmove.autosuggest touchend.autosuggest",this.handleTouch),!this.isFullScreen&&this.event(e,"on","mousedown.autosuggest focusin.autosuggest touchstart.autosuggest",this.hideFromExternalTarget),dio.event.subscribe("resizeEnd.autosuggest",this.handleResize,this),this.event(this.cont,"on","mouseenter.autosuggest","tr",function(t){var e=$(t.currentTarget).attr("id");e&&$(this.autosuggestEl).attr("aria-activedescendant",e)})}),this.subscribe(n,function(){this.unbindHandlers.apply(this)}),this.subscribe(o,this.hide),this.subscribe("pre:show",function(){this.updateSuggestions()}),dio.util.responsive.createListener()},bindFullScreenControls:function t(){this.event(this.fullScreenInput,"on","input.fsautosuggest",function(t){13===t.keyCode?(this.autosuggestEl.val(this.fullScreenInput.val()),this.conf.fullScreenCTA?this.conf.fullScreenCTA.click():this.autosuggestEl.parents("form").submit()):this.handleInputs(t)}),this.event(this.fullScreenInput,"on","inputCleared",function(){this.fullScreenInput.trigger("input.fsautosuggest")})},paintUI:function t(){this.autosuggestEl.attr("autocomplete","off"),this.autosuggestEl.attr("autocorrect","off"),this.autosuggestEl.attr("aria-haspopup","true"),this.autosuggestEl.attr("role","combobox"),this.autosuggestEl.attr("aria-label","Search"),this.autosuggestEl.attr("aria-autocomplete","both"),this.autosuggestEl.attr("aria-live","polite"),this.hiddenAutoSuggestShown=$('<input type="hidden" name="as-shown" value="false">'),this.autosuggestEl.parent().append(this.hiddenAutoSuggestShown),this.autosuggestEl.addClass(this.conf.enabledClass),this.createSuggestionsSelector(),this.isFullScreen&&(this.autosuggestEl.addClass("fullscreenToggle"),this.cont.css({height:$(window).height(),width:$(window).width()}),this.cont.find("tfoot .cta").remove(),this.conf.fullScreenCTA&&this.conf.fullScreenCTA.hide(),this.addFullScreenControls()),$("body").append(this.cont)},handleResize:function t(){var e=0,s=setInterval($.proxy(function(){5==e++&&clearInterval(s),this.positionAutoSuggest()},this),200)},createSuggestionsSelector:function t(){var e=document.createElement("div");e.className=this.conf.classNames.container+" "+this.conf.classNames.offscreen,e.setAttribute("aria-expanded",!1),e.setAttribute("role","listbox"),this.table=document.createElement("table"),this.table.cellSpacing=0;var s=document.createElement("caption");s.appendChild(document.createTextNode(this.conf.i18n.caption)),this.table.appendChild(s),s.setAttribute("aria-hidden",!0);var i=document.createElement("thead"),n=void 0,a=void 0,o=void 0,u=void 0;n=document.createElement("tr"),o=document.createElement("th"),(u=document.createElement("span")).appendChild(document.createTextNode(this.conf.i18n.headings.suggestions)),o.appendChild(u),n.appendChild(o),o=document.createElement("th"),(u=document.createElement("span")).appendChild(document.createTextNode(this.conf.i18n.headings.categories)),o.appendChild(u),n.appendChild(o),i.appendChild(n),this.table.appendChild(i),i.setAttribute("aria-hidden",!0);var c=document.createElement("tFoot");c.setAttribute("aria-hidden",!0),n=document.createElement("tr"),(a=document.createElement("td")).appendChild(document.createTextNode(this.conf.i18n.moreOptions)),n.appendChild(a),a=document.createElement("td");var r=document.createElement("button");r.className="cta cta-link",r.appendChild(document.createTextNode(this.conf.i18n.close)),a.appendChild(r),n.appendChild(a),c.appendChild(n),this.table.appendChild(c),e.appendChild(this.table),this.cont=$(e)},addFullScreenControls:function t(){if(!this.fullScreenControls){var e=document.createElement("div");e.className=this.conf.classNames.controls;var s=document.createElement("input");if(s.type="text",s.value="",s.className="clearable",s.setAttribute("autocomplete","off"),s.setAttribute("autocorrect","off"),this.conf.label){var i=document.createElement("label"),n=document.createElement("span");n.appendChild(document.createTextNode(this.conf.label)),n.className="offscreen",i.appendChild(n),i.appendChild(s),e.appendChild(i)}else e.appendChild(s);var a=document.createElement("button");a.className="cta cta-link",a.appendChild(document.createTextNode(this.conf.i18n.close)),e.appendChild(a),this.fullScreenControls=$(e),this.fullScreenInput=$(s),this.cont.prepend(this.fullScreenControls),dio.forms.clearable.call(this.fullScreenInput),this.bindFullScreenControls()}},hideFromExternalTarget:function t(e){var s=$(e.target);this.autosuggestEl.is(s)||this.cont.find(s).length||this.hide()},handleTouch:function t(e){switch(e.type){case"touchmove":this.drag=!0;break;case"touchend":this.drag||this.hideFromExternalTarget(e),this.drag=!1}},handleClick:function t(e){var s=$(e.target),i=this.autosuggestEl.val()||"",n=this.cont.find("tBody tr").index(s.parents("tr"));if(-1<n){var a=this.selectedEl(n);dio.event.publish("OneStream",{schema:"typeaheadSelection",eventName:"typeaheadSuggestionSelected",selectedItem:{searchFieldContent:i,selectionDepth:a.listPosition,selectionDepthInGroup:a.indexInGroup,numberOfSuggestions:this.currentSuggestions.length,serviceRequestLogId:this.asResponseData.trackingID,destinationGeoId:parseInt(a.geoId,10),destinationId:parseInt(a.destinationId,10),misspellingFallback:this.asResponseData.misspellingfallback,destinationName:a.caption.replace(/<[^>]*>?/gm,""),destinationType:a.type,destinationGroup:a.groupName}},{defer:!0})}else this.cont.find(s).length&&s.hasClass("cta")&&this.hide();e.stopPropagation()},handleInputs:function t(e){var s=$(e.target);this.autosuggestEl.parent().find("."+this.conf.classNames.hidden).remove(),this.emit(a,{callback:function t(){this.asRequestData.query=this.cleanInput(s.val()),this.conf.minLength=this.containsDoubleByteChars(this.asRequestData.query)?1:this.conf.defaultMinLength;var e=this.asRequestData.query.length;this.asRequestData.query=e>this.conf.minLength?$.trim(this.asRequestData.query):this.asRequestData.query,(e>=this.conf.minLength||" "===this.asRequestData.query.charAt(e-1))&&e<this.conf.maxLength?this.request():this.isFullScreen?(this.asResponseData={},this.cont.find("tbody").remove(),this.currentSuggestions=[],this.show()):this.hide()}})},handleKeydown:function t(e){if(this.cont.hasClass(this.conf.classNames.visible)){var s=e.keyCode;40===s?(this.hoverEl(this.currentSelected+1),e.preventDefault()):38===s?(this.hoverEl(this.currentSelected-1),e.preventDefault()):27===s?(this.hide(),e.preventDefault()):13!==s&&9!==s||(-1!==this.currentSelected?(this.selectedEl(this.currentSelected),e.preventDefault()):this.hide())}},unbindHandlers:function t(){var e=$(document);this.event(this.cont,"off","click.autosuggest touchend.autosuggest"),this.event(e,"off","click",this.handleClick),this.event(e,"off","touchmove.autosuggest touchend.autosuggest"),this.event(e,"off","mousedown.autosuggest focusin.autosuggest"),this.event(this.cont,"off","mouseenter.autosuggest"),dio.event.unsubscribe("resizeEnd.autosuggest")},cleanInput:function t(e){var s;return e.replace(/[\u00A7\"\+\!\%\/\=\(\)\?\:\_\\\><\|\:\]\}\[\{\@\#\$\^\*]+/gi," ").replace(/[\;\,\ \.]/gi," ").replace(/  +/g," ").replace(/^\s+/,"")},containsDoubleByteChars:function t(e){for(var s=!1,i=e.length,n=0;n<i;n++)255<e.charCodeAt(n)&&(s=!0);return s},request:function t(){if(void 0!==this.cache[this.asRequestData.query]&&this.cache[this.asRequestData.query])this.handleCallback(this.cache[this.asRequestData.query]);else{if(!1===this.cache[this.asRequestData.query])return;this.cache[this.asRequestData.query]=!1,this.emit(e,{callback:function t(){this.emitRequest()}})}},emitRequest:function t(){var e=this;window[this.asRequestData.callback]=function(t){e.setCache(t),e.handleCallback(t)},this.getSuggestions(this.conf.source+"?"+jQuery.param(this.asRequestData),1e3,this.asRequestData.query)},getSuggestions:function t(e,s,i){var n=this;this.lastState=e,dio.require(e,s).fail(function(){return n.retryRequest(e,s,i)})},deleteCache:function t(e){this.cache[e]=null},retryRequest:function t(e,s,i){var n=this;this.deleteCache(i),this.lastState===e&&i&&dio.require(e,s).fail(function(){return n.deleteCache(i)})},setCache:function t(e){this.cache[e.term]=e},handleCallback:function t(e){this.emit(s,{callback:function t(){this.currentSuggestions=[],this.reporting={},this.hasSuggestions(e.suggestions)||this.isFullScreen?(this.asResponseData=e,this.show()):this.hide()},data:e})},hasSuggestions:function t(e){for(var s=!1,i=0,n=e.length;i<n;i++)if(0!==e[i].entities.length){s=!0;break}return s},updateSuggestions:function t(){var h=this,g=this.asResponseData.suggestions;if(g){this.currentSuggestions=[];var p=document.createDocumentFragment();this.reporting={},g.sort(function(t,e){return h.conf.groupOrder.indexOf(t.group)-h.conf.groupOrder.indexOf(e.group)});for(var e=function t(s,e){if(g[s].group){var i=void 0,n=g[s].group.toLowerCase().replace(/_.*?$/,"");g[s].entities.forEach(function(t,e){t.indexInGroup=e,t.groupName=g[s].group});var a=g[s].entities;h.reporting[n]=a.length;for(var o=0,u=a.length;o<u;o++){var c=document.createElement("tr"),r=document.createElement("td"),l=document.createElement("span");o||((i=document.createElement("tbody")).className="autosuggest-"+n),c.setAttribute("role","option"),c.setAttribute("id",n+"sqm-asi"+h.instanceIndex+"-s"+o),r.colSpan=2;var d=document.createElement("div");d.className=h.conf.classNames.category,l.appendChild(document.createTextNode(h.conf.i18n.categories[n])),o&&$(d).css("visibility","hidden"),d.appendChild(l),r.appendChild(d),(d=document.createElement("div")).className="autosuggest-category-result",d.innerHTML=a[o].caption,r.appendChild(d),c.appendChild(r),i.appendChild(c),h.currentSuggestions.push(a[o])}i&&i.nodeType&&p.appendChild(i)}},s=0,i=g.length;s<i;s++)e(s,i);this.cont.find("tbody").remove(),p.childNodes&&p.childNodes.length&&this.table.appendChild(p)}},hide:function t(){this.emit(n,{callback:function t(){this.currentSelected=-1,this.cont.attr("aria-expanded",!1),this.cont[0].className=this.conf.classNames.container,this.isFullScreen&&(this.asResponseData={},$("body").attr("data-autosuggest-fs-fixed")&&$("body").hasClass("fixed")&&$("body").removeClass("fixed").removeAttr("data-autosuggest-fs-fixed")),this.autosuggestEl[0].removeAttribute("aria-activedescendant")}})},positionAutoSuggest:function t(){if(!this.isFullScreen){var e=this.isModal&&!this.isMobile()?this.autosuggestEl[0].getBoundingClientRect():this.autosuggestEl.offset(),s=this.autosuggestEl.outerHeight();this.cont.css({top:e.top+s,left:dio.rtl?"auto":e.left,right:dio.rtl?$(window).width()-e.left-this.autosuggestEl.outerWidth():"auto"})}},show:function t(){this.emit(i,{callback:function t(){this.autosuggestEl.parent().find("."+this.conf.classNames.hidden).remove(),!1!==this.hiddenAutoSuggestShown.attr("value")&&this.hiddenAutoSuggestShown.attr("value","true");var e=this.currentSuggestions?this.currentSuggestions.length:0;this.cont[0].className=[this.conf.classNames.container,this.conf.classNames.visible,"widget-autosuggest-results-"+e].join(" "),this.isFullScreen?(this.cont.addClass(this.conf.classNames.fullscreen),this.fullScreenInput.focus(),this.fsInputPrePopulated&&(this.fsInputPrePopulated=!1,this.fullScreenInput.trigger("input.fsautosuggest")),$("body").hasClass("fixed")||$("body").addClass("fixed").attr("data-autosuggest-fs-fixed",!0)):this.positionAutoSuggest(),this.cont.attr("aria-expanded",!0),this.currentSelected=-1}})},selectedEl:function t(e){var s=dio.mix(this.currentSuggestions[e],{listPosition:e});return this.emit(o,{callback:function t(){this.hiddenInputs(s,e),this.autosuggestEl.val(s.caption.replace(/(<([^>]+)>)/gi,""))},data:s}),s},hiddenInputs:function t(e,s){this.autosuggestEl.parent().find("."+this.conf.classNames.hidden).remove();var i=function t(){return["MINOR_AIRPORT","METRO_STATION","AIRPORT","TRAIN_STATION"].includes(e.type)},n='<input type="hidden" class="'+this.conf.classNames.hidden+'" name="as-type" value="'+e.type+'"/>                        <input type="hidden" class="'+this.conf.classNames.hidden+'" name="as-redirect-page" value="'+e.redirectPage+'"/>';e.landmarkCityDestinationId?(n+='<input type="hidden" class="'+this.conf.classNames.hidden+'" name="destination-id" value="'+e.landmarkCityDestinationId+'"/>',n+='<input type="hidden" class="'+this.conf.classNames.hidden+'" name="f-lid" value="'+e.destinationId+'"/>'):(i()&&(n+='<input type="hidden" class="'+this.conf.classNames.hidden+'" name="f-lid" value="'+e.destinationId+'"/>'),this.conf.isNameSearch?n+='<input type="hidden" class="'+this.conf.classNames.hidden+'" name="f-hotel-id" value="'+e.destinationId+'"/>':e.destinationId?n+='<input type="hidden" class="'+this.conf.classNames.hidden+'" name="destination-id" value="'+e.destinationId+'"/>':(n+='<input type="hidden" class="'+this.conf.classNames.hidden+'" name="latitude" value="'+e.latitude+'"/>',n+='<input type="hidden" class="'+this.conf.classNames.hidden+'" name="longitude" value="'+e.longitude+'"/>')),n+=this.createHiddenInputIfNotEmpty(e.geoId,"geo-id"),this.asResponseData&&(n+=this.createHiddenInputIfNotEmpty(this.asResponseData.listOughtToBeTruncated,"list-ought-to-be-truncated"),n+=this.createHiddenInputIfNotEmpty(this.asResponseData.misspellingfallback,"misspelling-fallback"),n+=this.createHiddenInputIfNotEmpty(this.asResponseData.trackingID,"tracking-id"));var a=this.buildAsSrsReportString(e,s);n+='<input type="hidden" class="'+this.conf.classNames.hidden+'" name="as-srs-report" value="'+a+'"/>',this.autosuggestEl.parent().append(n)},buildAsSrsReportString:function t(e,s){var i=void 0;return i=e.isRecommendedDestination?this.conf.pageName+"|RecDest|"+e.type+"|"+e.name+"|"+this.getNumberOfType("CITY")+"|"+this.getNumberOfType("LANDMARK")+"|"+this.getNumberOfType("TRANSPORT")+"|"+this.getNumberOfType("HOTEL")+"|"+(s+1)+"|"+this.currentSuggestions.length+"|"+e.destinationId:this.conf.pageName+"|AutoS|"+e.type+"|"+this.asRequestData.query+"|"+this.reporting.city+"|"+this.reporting.landmark+"|"+this.reporting.transport+"|"+this.reporting.hotel+"|"+(s+1)+"|"+this.currentSuggestions.length+"|"+e.destinationId},getNumberOfType:function t(e){return this.currentSuggestions.filter(function(t){return t.type===e}).length},createHiddenInputIfNotEmpty:function t(e,s){var i="";return null!=e&&(i='<input type="hidden" class="'+this.conf.classNames.hidden+'" name="'+s+'" value="'+e+'"/>'),i},hoverEl:function t(e){if(-1<e&&e<this.currentSuggestions.length){this.currentSelected=e,this.cont.find("tBody tr").removeClass("hover").attr("aria-selected",!1).eq(this.currentSelected).addClass("hover").attr("aria-selected",!0);var s=this.cont.find("tBody tr").eq(this.currentSelected).attr("id");$(this.autosuggestEl).attr("aria-activedescendant",s)}},restoreDestinationId:function t(){var e="destination-id",s=this.autosuggestEl.data(e),i="as-type",n=this.autosuggestEl.data(i),a=this.autosuggestEl.parent().parent();this.conf.restoreDestinationId&&s&&(a.find('input[name="'+e+'"]').length||(this.autosuggestEl.after('<input type="hidden" class="'+this.conf.classNames.hidden+'" name="'+e+'" value="'+s+'">'),n&&this.autosuggestEl.after('<input type="hidden" class="'+this.conf.classNames.hidden+'" name="'+i+'" value="'+n+'">')),a.find('input[name="'+e+'"]').val(s))},isMobile:function t(){return/^(x-)?small-screen$/.test(this.breakpoint)},destructor:function t(){this.cont.remove()}},c),$(".widget-query-autosuggest").each(function(){var t=$(this);dio.autoSuggestInstances[this.id]=new dio.widget.AutoSuggest({trigger:t,trackingId:t.closest(".widget-query, .widget-sqm").attr("data-tracking-id")})})}();
/*! core/dio/template.js*/
"use strict";var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};!function(){function s(e,t,a){if(e)switch(a){case"insert":e.html(t);break;case"replace":e.replaceWith(t);break;case"prepend":e.prepend(t);break;case"append":e.append(t);break;default:e.html(t)}}dio.template=dio.template||{},dio.template.requiredUrls={},dio.template.loadingTemplates={},dio.template.call=function(a,o){function l(){for(var e in dio.template.loadingTemplates){if(!dio.getObjectByName(e))return setTimeout(l,0),void 0;delete dio.template.loadingTemplates[e]}var t=dio.getObjectByName(a);o?(r="object"===(void 0===(r=t(o.data,null,o.injectedData))?"undefined":_typeof(r))?r.content:r,s(o.placeholder,r,o.action),o.callback&&o.callback(r),n.resolve(r)):n.resolve(t)}var n=$.Deferred(),e=$('script[data-template="'+a+'"]'),i=dio.getClientData("common.template.path")||"",d=2048-i.length,r=void 0,p=void 0;if(e.length&&(a=e.data("delegate")||a),dio.getObjectByName(a))l();else if(e.length)if(p=[],$('script[data-template][data-deferred-src][data-loaded!="true"]').each(function(e,t){p.push($(t).data("deferred-src").split("/").pop()),dio.template.loadingTemplates[$(t).data("delegate")||$(t).data("template")]=1,$(t).attr("data-loaded",!0)}),p.length){var c=i,m=[];p.forEach(function(e,t){c.length+e.length>=d?(m.push(c),c=""+i+e):c+=0===t?""+e:"-"+e}),m.push(c),dio.require(m).then(l,n.reject)}else l();else{var t="No deferred template "+a+" - missing @client or @dependsOn?";void 0,n.reject(t)}return n.promise()},dio.template.loadClientTemplates=function(e,t,a){void 0;var o=void 0,l=void 0,n="",i=[],d=2e3;t=t||$.noop,a=a||$.noop,e.constructor!==Array&&(e=[e]),d-=window.location.hostname.length+dio.getClientData("common.template.path").length;var r=e.length;for(o=0;o<r;o++)l=e[o],dio.getObjectByName(l)||(n+=0===n.length?l:"-"+l),n.length&&(o+1===r||(n+"-"+e[o+1]).length>d)&&(i.push({path:dio.getClientData("common.template.path")+n}),n="");if(0<i.length)return dio.require(i).done(t).fail(a);t()}}();
/*! core/dio/require.js*/
"use strict";void(dio.require=function(e,t){var r=null,n=0,a=[],d=$.Deferred(),o=d.promise();t=t||2e4;var i=function e(t){var r=t.split("."),n=void 0,a=void 0;for(n=0,a=r.length,t=window;n<a;n++)t=t[r[n]];return t},c=function e(){return++n>=a.length&&(clearTimeout(r),d.resolve()),o},u=function e(){d.reject()},s=function e(t){var r=$("script[data-deferred-src]");r.length&&r[0].getAttribute("data-deferred-src")===t?((r=r[0]).setAttribute("src",r.getAttribute("data-deferred-src")),r.removeAttribute("data-deferred-src")):(r=document.createElement("script")).src=t,r.addEventListener?r.addEventListener("load",function(){c()},!1):r.onreadystatechange=function(){r.readyState in{loaded:1,complete:1}&&(r.onreadystatechange=null,c())},document.body.appendChild(r)};e.constructor!==Array&&(e=[e]);for(var l=0,f;f=e[l];l++)f.name?(f.name="dio.widget."+f.name,i(f.name)||a.push(f.name.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()+".js")):a.push(f.path||f);if(0===a.length)return c();r=setTimeout(u,t);for(var m=0;m<a.length;m++)s(a[m]);return o});
/*! core/dio/deferred.js*/
"use strict";$(function(){dio.deferred&&$(dio.deferred).each(function(e,d){"function"==typeof d&&d()})});
/*! core/dio/widget/dio.widget.datepicker.js*/
"use strict";!function(){var s="change",a="changeMonth",M="displayUpdate",t={location:"body",selectedDate:new Date,disableDatesBefore:!1,disableDatesAfter:!1,rangeStart:null,rangeEnd:null,prevBtn:!0,nextBtn:!0,prevBtnTxt:dio.i18n("qf.date.button.previous_month"),nextBtnTxt:dio.i18n("qf.date.button.next_month"),prevBtnIcon:"",nextBtnIcon:"",firstDayOfWeek:dio.getClientData("common.l10n.dates.firstDayOfWeek")||1,classNames:{cont:"widget-datepicker",hd:"widget-datepicker-hd",bd:"widget-datepicker-bd",ft:"widget-datepicker-ft",disabled:"widget-datepicker-disabled",empty:"widget-datepicker-empty",btnPrev:"widget-datepicker-prev",btnNext:"widget-datepicker-next",label:"widget-datepicker-label",selected:"widget-datepicker-selected",today:"widget-datepicker-today",weekend:"widget-datepicker-weekend",highlight:"widget-datepicker-highlight",rangeEnd:"widget-datepicker-range-end"},months:dio.getClientData("common.l10n.dates.monthNames")||["January","February","March","April","May","June","July","August","September","October","November","December"],preventDefaultOnDateSelection:!1},c=dio.getClientData("common.l10n.dates.shortWeekDayNames")||["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],u=" ",e=new Date,w=e.getDate(),x=e.getMonth(),C=e.getFullYear(),n=6,i=7;dio.addWidget("DatePicker",dio.Widget,{init:function t(){this.selectedDate=new dio.Date(this.conf.selectedDate),this.displayedMonthDate=this.selectedDate},paintUI:function t(){this.createCalendar(),$(this.conf.location).append(this.cont),this.setLabel(),this.monthButtonDisplay()},bindUI:function t(){var e="click touchend";this.event($(this.cont),"on","touchstart",function(t){this.tapTime&&new Date-this.tapTime<200&&t.preventDefault(),this.tapTime=new Date}),this.event($(this.btnPrev),"on",e,function(t){!this.touchmove&&this.skipMonth(-1),t.preventDefault()}),this.event($(this.btnNext),"on",e,function(t){!this.touchmove&&this.skipMonth(1),t.preventDefault()}),this.event($(this.cont),"on","touchmove",function(){this.touchmove=!0}),this.event($(this.cont),"on","touchend",function(){this.touchmove=!1}),this.event($(this.contBD),"on",e,"a",this.selectedDateEvent),this.subscribe("displayUpdate",this.monthButtonDisplay),this.subscribe("displayUpdate",this.setLabel)},userHasChangedDate:!1,selectedDateEvent:function t(e){var a=e.target;if(!this.touchmove&&!a.parentNode.className.includes(this.conf.classNames.disabled)){$(this.cont).parent().find("."+this.conf.classNames.selected).removeClass(this.conf.classNames.selected);var n=new dio.Date(this.displayedMonthDate.date),s=~~a.firstChild.data;n.set(null,parseInt(s,10)),this.setDate(n,!0),this.conf.preventDefaultOnDateSelection&&e.preventDefault()}this.subscribe("displayUpdate",this.monthButtonDisplay),this.subscribe("displayUpdate",this.setLabel)},monthButtonDisplay:function t(){var e=void 0;this.conf.disableDatesBefore&&this.btnPrev&&(e=this.displayedMonthDate.getMonth()<=this.conf.disableDatesBefore.getMonth()&&this.displayedMonthDate.getFullYear()<=this.conf.disableDatesBefore.getFullYear()?"none":"",this.btnPrev.style.display=e),this.conf.disableDatesAfter&&this.btnNext&&(e=this.displayedMonthDate.getMonth()>=this.conf.disableDatesAfter.getMonth()&&this.displayedMonthDate.getFullYear()>=this.conf.disableDatesAfter.getFullYear()?"none":"",this.btnNext.style.display=e)},setDate:function t(e,a,n){a&&(this.userHasChangedDate=!0),"string"!=typeof e&&"number"!=typeof e||(e=new dio.Date(e)),this.displayedMonthDate.set(null,e.getDate(),e.getMonth(),e.getFullYear()),this.previousDate=new dio.Date(this.selectedDate),a&&this.selectedDate.set(null,e.getDate(),e.getMonth(),e.getFullYear()),this.updateDisplay(n),n||this.emit(s,{data:e})},getDate:function t(){return this.selectedDate},createCalendar:function t(){if(this.constructor.datepickerFragment)return this.cont=this.constructor.datepickerFragment.cloneNode(!0),this.btnPrev=this.cont.querySelector("."+this.conf.classNames.btnPrev),this.btnNext=this.cont.querySelector("."+this.conf.classNames.btnNext),this.contBD=this.cont.querySelector("."+this.conf.classNames.bd),this.label=this.cont.querySelector("."+this.conf.classNames.label),this.table=this.cont.querySelector("table"),void 0;this.cont=document.createElement("div"),this.cont.className=this.conf.classNames.cont;var e=document.createElement("div");e.className=this.conf.classNames.hd,this.cont.appendChild(e),dio.rtl&&(this.conf.nextBtnTxt=[this.conf.prevBtnTxt,this.conf.prevBtnTxt=this.conf.nextBtnTxt][0],this.conf.nextBtnIcon=[this.conf.prevBtnIcon,this.conf.prevBtnIcon=this.conf.nextBtnIcon][0]),this.conf.prevBtn&&(this.btnPrev=document.createElement("button"),this.btnPrev.className=this.conf.classNames.btnPrev,this.btnPrev.setAttribute("type","button"),this.btnPrev.setAttribute("aria-label",this.conf.prevBtnTxt),this.btnPrev.appendChild(document.createTextNode(this.conf.prevBtnIcon)),e.appendChild(this.btnPrev)),this.label=document.createElement("div"),this.label.className=this.conf.classNames.label,this.label.appendChild(document.createTextNode(u)),e.appendChild(this.label),this.conf.nextBtn&&(this.btnNext=document.createElement("button"),this.btnNext.className=this.conf.classNames.btnNext,this.btnNext.setAttribute("type","button"),this.btnNext.setAttribute("aria-label",this.conf.nextBtnTxt),this.btnNext.appendChild(document.createTextNode(this.conf.nextBtnIcon)),e.appendChild(this.btnNext));var a=document.createElement("div");a.className=this.conf.classNames.bd,this.cont.appendChild(a),this.contBD=a,(a=document.createElement("div")).className=this.conf.classNames.ft,this.cont.appendChild(a);var n=void 0;this.table=document.createElement("table"),this.table.cellSpacing=0;var s=document.createElement("tbody"),i=document.createElement("thead");this.table.appendChild(i),this.table.appendChild(s);var o=void 0,h=document.createElement("tr");for(n=0;n<7;n++)(o=document.createElement("th")).appendChild(document.createTextNode(u)),h.appendChild(o);i.appendChild(h),this.createTableBody(s,6,7),this.contBD.appendChild(this.table);var d=c;if(this.conf.firstDayOfWeek)for(d=[],n=0;n<7;n++){var l=(n+this.conf.firstDayOfWeek-1)%7;d[n]={name:c[l],weekend:5===l||6===l}}var r=this.contBD.getElementsByTagName("th");for(n=r.length-1;0<=n;n--)r[n].firstChild.data=d[n].name,r[n].className=d[n].weekend?this.conf.classNames.weekend:"";this.constructor.datepickerFragment=this.cont},createTableBody:function t(e,a,n){for(var s=void 0,i=void 0,o=void 0,h=0;h<a;h++){s=document.createElement("tr");for(var d=0;d<n;d++)i=document.createElement("td"),(o=document.createElement("a")).appendChild(document.createTextNode(u)),i.appendChild(o),s.appendChild(i);e.appendChild(s)}},updateDisplay:function t(){var e=0,a=[];this.data=[];for(var n=0;n<6;n++)a[n]=[],this.data[n]=[];var s=this.displayedMonthDate.getMonth(),i=this.displayedMonthDate.getFullYear(),o=new dio.Date(null,1,s,this.displayedMonthDate.getFullYear()),h=this.selectedDate.getDate(),d=this.selectedDate.getMonth(),l=this.selectedDate.getFullYear(),r=void 0;this.conf.rangeStart&&(r=this.conf.rangeStart());var c=void 0;this.conf.rangeEnd&&(c=this.conf.rangeEnd());for(var u={},f=1;f<32;f++){o.set(null,f);var m=(o.date.getDay()+6)%7,p=(m-this.conf.firstDayOfWeek+8)%7,g=[],D=o.getDate(),b=o.getMonth(),v=o.getFullYear();b===s&&(a[e][p]={text:"",className:g},h!==D||d!==b||l!==v||this.conf.isNoDatesSelectedByDefault&&!this.userHasChangedDate||(g.push(this.conf.classNames.selected),u["widget-datepicker-contains-selected"]=1),D===w&&b===x&&v===C&&g.push(this.conf.classNames.today),(r&&0<=o.diff(r)&&o.diff(this.selectedDate)<0||c&&o.diff(c)<=0&&0<=o.diff(this.selectedDate))&&(g.push(this.conf.classNames.highlight),u["widget-datepicker-contains-highlight"]=1),c&&0===o.diff(c)&&(g.push(this.conf.classNames.rangeEnd),u["widget-datepicker-contains-range-end"]=1),5!==m&&6!==m||g.push(this.conf.classNames.weekend),(this.conf.disableDatesBefore&&o.diff(this.conf.disableDatesBefore)<0||this.conf.disableDatesAfter&&0<o.diff(this.conf.disableDatesAfter))&&(a[e][p].className+=this.conf.classNames.disabled+" ",g.push(this.conf.classNames.disabled)),a[e][p].text=this.data[e][p]=D,a[e][p].className=g.join(" "),6===p&&e++)}var y=[];for(var N in u)y.push(N);this.table.className=y.join(" "),this.updateCells(a,i,s,7,6),this.emit(M,{data:this})},updateCells:function t(e,a,n,s,i){for(var o=void 0,h=0;h<i;h++)for(var d=0;d<s;d++)o=this.table.rows[h+1].cells[d],e[h][d]?(o.className=e[h][d].className,o.firstChild.firstChild.data=e[h][d].text,o.setAttribute("data-date",a+"-"+n+"-"+e[h][d].text)):(o.className=this.conf.classNames.disabled+" "+this.conf.classNames.empty,o.firstChild.firstChild.data=u,o.removeAttribute("data-date"))},setLabel:function t(){var n=dio.getClientData("common.l10n.dates.defaultFormat").toLowerCase(),e;if(0===dio.getClientData("common.locale").indexOf("zh_")){var a=function(){n.indexOf("y");for(var t=0,e=n.split(/\/|\.|-/),a;t<e.length,a=e[t];t++)if("y"===a.charAt(0))return t}(),s=dio.getClientData("common.l10n.dates.l10nFormat").split(/\/|\.|-/)[a].charAt(0);this.label.lastChild.data=this.displayedMonthDate.getFullYear()+" "+s+" "+(this.displayedMonthDate.getMonth()+1)+" "+this.conf.months[0].substring(1,2)}else n.indexOf("yy")>n.indexOf("mm")?this.label.lastChild.data=this.conf.months[this.displayedMonthDate.getMonth()]+" "+this.displayedMonthDate.getFullYear():this.label.lastChild.data=this.displayedMonthDate.getFullYear()+" "+this.conf.months[this.displayedMonthDate.getMonth()]},skipMonth:function t(e){return this.emit(a,{callback:function t(){this.displayedMonthDate.set(null,1,this.displayedMonthDate.getMonth()+e),this.setDate(this.displayedMonthDate,!1,!0)},data:this}),this},destructor:function t(){$(this.cont).remove()}},t)}(),dio.Date=function(t,e,a,n){return this===dio?new dio.Date(t,e,a,n):(this.date=new Date,this.shortDayNames=dio.getClientData("common.l10n.dates.shortWeekDayNames")||["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],this.fullMonthNames=dio.getClientData("common.l10n.dates.monthNames")||["January","February","March","April","May","June","July","August","September","October","November","December"],this.set(t,e,a,n))},dio.Date.prototype={set:function t(e,a,n,s){e instanceof dio.Date?this.date=new Date(e.date):e instanceof Date?(this.date=new Date,s=e.getFullYear(),n=e.getMonth(),a=e.getDate()):"string"==typeof e&&(this.date=this.parse(e)),isNaN(this.date.getDate())&&(this.date=new Date);var i=new Date(s||this.getFullYear(),n?parseInt(n,10)+1:this.getMonth()+1,1,-1).getDate();return null!=s&&this.date.setYear(parseInt(s,10)),this.getDate()>i?(null!=a&&this.date.setDate(parseInt(a,10)),null!=n&&this.date.setMonth(parseInt(n,10))):(null!=n&&this.date.setMonth(parseInt(n,10)),null!=a&&this.date.setDate(parseInt(a,10))),this.date.setHours(12,0,0,0),this},get:function t(){return this.date},clone:function t(){return new dio.Date(new Date(this.get()))},getDate:function t(){return this.date.getDate()},getMonth:function t(){return this.date.getMonth()},getFullYear:function t(){return this.date.getFullYear()},getTime:function t(){return this.date.getTime()},getHours:function t(){return this.date.getHours()},getTimezoneOffset:function t(){return this.date.getTimezoneOffset()},diff:function t(e){return e=e instanceof dio.Date?e.date:e,this.date&&e&&e.getTime&&e.getTimezoneOffset?this.date.getTime()-e.getTime()+6e4*(e.getTimezoneOffset()-this.date.getTimezoneOffset()):NaN},format:function t(e){if(!this.date)return null;for(var a in this.formatOptions)e=e.replace(new RegExp(a,"gi"),this.formatOptions[a].call(this));return e},formatOptions:{dd:function t(){return this.pad(this.getDate())},mm:function t(){return this.pad(this.getMonth()+1)},yyyy:function t(){return this.getFullYear()},yy:function t(){return(""+this.getFullYear()).substring(2)},d:function t(){return this.getDate()},m:function t(){return this.getMonth()+1},MM:function t(){return this.getMonth()+1},MMMM:function t(){return this.getFullMonthName()},EEE:function t(){return this.getShortDayName()}},formatL10nFullDate:function t(e){for(var a in this.formatOptions)e=e.replace(new RegExp("{"+a+"}","gi"),this.formatOptions[a].call(this));return e},parse:function t(e){return function(t){if(!dio.Date.localFormat){dio.Date.localFormat={};for(var e=dio.getClientData("common.l10n.dates.defaultFormat").split(/[^a-zA-Z]+/),a=0;a<e.length;a++)switch(e[a].charAt(0).toLowerCase()){case"d":dio.Date.localFormat.day=a;break;case"m":dio.Date.localFormat.month=a;break;case"y":dio.Date.localFormat.year=a}}var n=t.match(/\d+/g)||[""],s=n[dio.Date.localFormat.day],i=n[dio.Date.localFormat.month],o=n[dio.Date.localFormat.year];return isNaN(s)||isNaN(i)||isNaN(o)?new Date:new Date((2===o.length?"20":"")+o,parseInt(i,10)-1,s)}(e)},pad:function t(e){return e<10&&(e="0"+e),e},getShortDayName:function t(){return this.shortDayNames[(this.date.getDay()+6)%7]},getFullMonthName:function t(){return this.fullMonthNames[this.getMonth()]},validFormat:function t(e){var a=dio.getClientData("common.l10n.dates.defaultFormat").replace(/([^a-zA-Z])/g,function(t,e){return"\\"+e}).replace(/[a-zA-Z]/g,"\\d{1,2}").replace(/\s/g,"s");return new RegExp("^"+a+"$").test(e)}};
/*! core/dio/widget/dio.widget.daterange.js*/
"use strict";!function(){var o="BELOW",h="ABOVE",r="COVER",c="BELOW_WITH_SCROLL",l="MIDDLE",n="change",e="show",s="hide",i="inputChange",a="fieldsPopulated",t="dateSelected",d={location:"body",width:"100%",offsetDays:1,classNames:{cont:"widget-daterange",datepickercont:"widget-daterange-cont",visible:"widget-daterange-visible",prefix:"widget-daterange-",above:"widget-daterange-above",below:"widget-daterange-below",cover:"widget-daterange-cover",noarrow:"widget-daterange-noarrow",offscreen:"widget-daterange-offscreen",activeInput:"widget-daterange-active-input",emptyInput:"widget-daterange-empty",transition:"widget-daterange-transition",flipped:"widget-daterange-flipped",arrow:"widget-daterange-arrow",middle:"widget-daterange-middle"},mainClass:"",dateFormat:dio.getClientData("common.l10n.dates.defaultFormat")||"dd/mm/yyyy",maxNights:28,longStaysEnabled:!1,l10nFormatFull:dio.getClientData("qf.data")&&dio.getClientData("qf.data").l10nDateFormat&&dio.getClientData("qf.data").l10nDateFormat.l10nFormatFull||"{EEE}, {d} {MMMM}, {yyyy}",openByDefault:!1,DatePickerClass:dio.widget.DatePicker,offsetBottom:80};dio.addWidget("DateRange",dio.Widget,{nights:"",isOpened:!1,scrollTo:null,$scrollingElements:null,init:function t(){this.datepickers=[],this.classNames=[],this.today=this.getToday(),this.startDate=new dio.Date(this.conf.inputStart.val()),this.endDate=new dio.Date(this.conf.inputEnd.val()||new dio.Date(this.startDate,this.startDate.getDate()+this.conf.offsetDays)),this.$scrollingElements=$("html, body"),this.setEarliestDate(),this.setLatestDate()},paintUI:function t(){this.cont=$('<div class="'+this.conf.classNames.cont+'"></div>'),this.datePickerCont=$('<div class="'+this.conf.classNames.datepickercont+'"></div>').appendTo(this.cont),dio.isFunction(this.conf.location)?this.conf.location(this.cont):$(this.conf.location).append(this.cont),this.$arrow=$('<div class="'+this.conf.classNames.arrow+'"></div>').prependTo(this.cont)},create:function t(){if(!this.calStart){this.isFirstDayOfTheMonth=1===this.today.getDate();for(var e="x-small-screen"===this.breakpoint?this.today.clone():this.startDate.date,s=this.getLatestDate().getMonth()-this.getEarliestDate().getMonth()+12*(this.getLatestDate().getFullYear()-this.getEarliestDate().getFullYear()),i=0;i<=s;i++){var n=this.isFirstDayOfTheMonth?i-1:i,a=new this.conf.DatePickerClass({location:this.datePickerCont,selectedDate:e,rangeStart:$.proxy(function(){return!this.conf.isNoDatesSelectedByDefault||this.conf.inputStart.val()?this.startDate:null},this),rangeEnd:$.proxy(function(){return!this.conf.isNoDatesSelectedByDefault||this.conf.inputEnd.val()?this.endDate:null},this),disableDatesAfter:this.getLatestDate(),disableDatesBefore:this.getEarliestDate()});a.displayedMonthDate.set(null,1,a.displayedMonthDate.getMonth()+n),this.datepickers.push(a)}this.days=$('<table class="widget-daterange-days">'+this.datePickerCont.find("thead").eq(0).html()+"</table>").prependTo(this.cont),this.month=$("<h2/>").prependTo(this.cont),this.calStart=this.datepickers[0],this.calEnd=this.datepickers[1],this.createMessageContainer(),this.bindOnCreate()}},createMessageContainer:function t(){this.msgCont=$('<div class="'+this.conf.classNames.prefix+'ft"/>').appendTo(this.cont)},onInputSelected:function t(e,s){return function(t){t.preventDefault(),t.target.disabled||("x-small-screen"!==this.breakpoint&&t.target.focus(),this.show(s,t))}},bindUI:function t(){this.cacheBreakpoint();var e="focus touchend click";if(this.subscribe("post:show",this.scrollOnShow),this.subscribe("hide",this.resetVariablesOnHide),dio.event.subscribe("pre:scrolledToDates:Query",this.shouldPreventScroll,this),this.event(this.conf.inputStart,"on",e,this.onInputSelected(e,"start")),this.event(this.conf.inputEnd,"on",e,this.onInputSelected(e,"end")),this.subscribe(n,function(t,e){if(e){var s=e,i=this.conf;this.conf.inputStart.val(s.start.format(i.dateFormat)),this.conf.inputEnd.val(s.end.format(i.dateFormat)),this.emit(a,{data:{conf:i,dates:e}}),"default"===this.breakpoint&&dio.browser.features.touch&&(this.conf.inputStart.blur(),this.conf.inputEnd.blur())}}),this.subscribe("pre:show",function(t,e){var s=e.substring(0,1).toUpperCase()+e.substring(1),i=this.conf["input"+s];this.inputPos=i[0].getBoundingClientRect(),$("."+this.conf.classNames.activeInput).removeClass(this.conf.classNames.activeInput),i.addClass(this.conf.classNames.activeInput),this.closeBtn=$('<button class="widget-overlay-close">'+dio.i18n("autosuggest.close")+"</button>"),this.event(this.closeBtn,"on","touchend mousedown click",function(t){t.preventDefault(),this.hide(1),dio.event.publish("calendarClosed",{start:this.startDate.date,end:this.endDate.date})}),this.create(),this.addDateTypeLabel(s);var n=this.conf.inputStart.val(),a=this.conf.inputStart.val();n||(this.startDate=this.today.clone()),a||(this.endDate=new dio.Date(this.startDate,this.startDate.getDate()+this.conf.offsetDays));var o=void 0,h=void 0;"x-small-screen"===this.breakpoint?(o=this.datepickers.length,h=this.today.clone()):(o=2,h=this.startDate.date);for(var r=0,c;c=this.datepickers[r],r<o;r++){var l=this.isFirstDayOfTheMonth?r-1:r;c.selectedDate=new dio.Date(this.startDate.date),c.displayedMonthDate.set(null,1,h.getMonth()+l,h.getFullYear()),c.updateDisplay()}},this),this.subscribe("post:show",function(){this.handleMonths(),"x-small-screen"===this.breakpoint&&(setTimeout($.proxy(function(){this.datePickerCont[0].scrollTop=this.updatedScrollTop},this),50),this.scrollPrevent(1),this.historyAdd(),this.subscribe("hide",this.historyRemove),$(window).on("hashchange",$.proxy(this.hashChange,this)))}),this.subscribe("pre:hide",function(){"x-small-screen"===this.breakpoint&&"start"===this.type&&(this.updatedScrollTop=0,this.find(".widget-datepicker-selected")[0].offsetTop>this.datepickers[1].cont.offsetTop&&(this.updatedScrollTop=this.find(".widget-datepicker-selected").parents(".widget-datepicker")[0].offsetTop-(this.ttCont?60:0))),this.scrollPrevent(0)}),this.event(this.conf.inputStart,"on","keypress",this.dateFormatFilter),this.event(this.conf.inputEnd,"on","keypress",this.dateFormatFilter),this.event(this.conf.inputStart,"on","change",function(){this.emit(i,{callback:function t(){var e=this.conf.inputStart.val();e&&(""===e.split(this.conf.dateFormat.match("[^a-zA-Z]")[0])[2]&&(e+=this.today.getFullYear()),this.setRange(new dio.Date(e)))}})}),this.event(this.conf.inputEnd,"on","change",function(){this.emit(i,{callback:function t(){var e=this.conf.inputEnd.val();e&&this.setRange(!1,new dio.Date(e))}})}),dio.browser.features.touch&&"x-small-screen"===this.breakpoint&&(this.conf.inputStart.prop("readOnly",!0),this.conf.inputEnd.prop("readOnly",!0)),dio.event.subscribe("orientationChange viewportChanged",this.cacheBreakpoint,this),dio.event.subscribe("widthResizeEnd",this.onWidthResize,this),dio.event.subscribe("heightResizeEnd",this.onHeightResize,this),this.isRnRWidget()){var s="stepDate";dio.event.subscribe(s,this.stepCalendar,this)}this.conf.openByDefault&&this.show("start")},isRnRWidget:function t(){return this.conf.inputStart.selector.includes("rnr")},stepCalendar:function t(e,s){if(s||s.days||s.fieldType){var i="checkIn"===s.fieldType?this.startDate:this.endDate,n=i.clone().set(null,i.date.getDate()+s.days),a=null,o=null,h,r;if("checkIn"===s.fieldType)a=n,this.endDate.clone().diff(n)<=0&&(o=n.clone().set(null,a.date.getDate()+1));else o=n,0<=this.startDate.clone().diff(n)&&(a=n.clone().set(null,o.date.getDate()-1));this.setRange(a,o,s.fieldType)}},addDateTypeLabel:function t(e){this.fieldLabel&&this.fieldLabel.remove(),this.fieldLabel=$('<div class="widget-daterange-control widget-overlay">'+$("label[for="+this.conf["input"+e].attr("id")+"]").text()+"</div>"),this.fieldLabel.append(this.closeBtn),this.fieldLabel.appendTo(this.cont)},onWidthResize:function t(){this.isVisible&&this.closeOverlay()},onHeightResize:function t(){this.isVisible&&"x-small-screen"!==dio.util.responsive.getBreakpoint()&&this.closeOverlay()},closeOverlay:function t(){this.hide(!0),this.show(this.type,{target:"start"===this.type?this.conf.inputStart:this.conf.inputEnd})},bindOnCreate:function t(){this.subscribe("show",function(){this.subscribeToHideEvents(),this.subscribeToMouseEvents(),dio.event.subscribe("orientationChange.daterange viewportChanged.daterange",this.hide,this)},this),this.subscribe("hide",function(){this.event($(document),"off","mousedown focus click",this.hideFromExternalTarget),this.event($(document),"off","touchmove touchend click",this.handleTouch),this.event(this.cont,"off","mouseover.daterange"),dio.event.unsubscribe("orientationChange.daterange viewportChanged.daterange",this.hide)},this),this.calStart.subscribe("changeMonth",function(){this.onMonthChange("Start")},this),this.calEnd.subscribe("changeMonth",function(){this.onMonthChange("End")},this);for(var e=0,s;void 0!==s,s=this.datepickers[e];e++)s.subscribe("change",this.onDateChange,this);this.subscribe(n,this.onDateSelected.bind(this)),this.event(this.datePickerCont,"on","scroll",dio.debounce($.proxy(this.handleMonths,this),10)),this.event(this.datePickerCont,"on","transitionend",function(){this.datePickerCont.removeClass("widget-daterange-transition")}),dio.event.subscribe("orientationChange.daterange viewportChanged.daterange",this.clearStyles,this),dio.util.responsive.createListener()},subscribeToHideEvents:function t(){this.event($(document),"on","touchmove touchend click",this.handleTouch),this.event($(document),"on","mousedown focus",this.hideFromExternalTarget)},onDateSelected:function t(){this.hide()},show:function t(a,o){this.cont[0].className.includes(this.conf.classNames.prefix+a)||(a=a||"start",this.emit(e,{callback:function t(){this.isVisible=!0,this.type=a,this.cont[0].className=this.conf.classNames.cont,this.clearStyles(),this.classNames=[this.conf.classNames.prefix+a,this.conf.classNames.visible];var e=this.getRange();this.nights=parseInt(e.end.diff(e.start)/864e5,10),this.setFooterMessage(),e.start.date.getFullYear()===this.getLatestDate().getFullYear()&&e.start.date.getMonth()===this.getLatestDate().getMonth()&&"x-small-screen"!==dio.util.responsive.getBreakpoint()&&this.calEnd.skipMonth(-1),this.activeInput=o?$(o.target):this.conf.inputStart,this.activeInput.addClass(this.conf.classNames.activeInput),this.position(),""===this.conf.inputStart.val()&&this.classNames.push(this.conf.classNames.emptyInput),this.cont.addClass(this.classNames.join(" "));var s=this.find(".widget-datepicker-selected")[0];if(!this.updatedScrollTop&&s&&s.offsetTop+s.offsetHeight>this.datepickers[1].cont.offsetTop&&(this.updatedScrollTop=$(s).parents(".widget-datepicker")[0].offsetTop-(this.ttCont?60:0)),"x-small-screen"===this.breakpoint){var i=(this.inputPos.right-this.inputPos.left)/2+this.inputPos.left,n=(this.inputPos.bottom-this.inputPos.top)/2+this.inputPos.top;this.requestAnimationFrame({class:this.conf.classNames.transition,opacity:1,transform:"scale(1) translate(0, 0)",top:this.scrollYSticky+"px"}),this.cont[0].style.cssText="transform-origin:"+i+"px "+n+"px; opacity: 0; transform: scale(0.1)"}},data:a}))},setFooterMessage:function t(){if("end"===this.type)this.message(this.nights),this.find("td:not(.widget-datepicker-disabled)").eq(0).addClass("widget-datepicker-disabled");else{var e="";"x-small-screen"===this.breakpoint&&(e=this.nights),this.message(e)}},hide:function t(i){this.emit(s,{callback:function t(){function e(){this.cont[0].className=this.conf.classNames.cont,this.clearStyles(),"x-small-screen"===this.breakpoint&&$(".widget-overlay-active").length&&window.scrollTo(0,$(".widget-overlay-active")[0].offsetTop)}function s(){"x-small-screen"===this.breakpoint&&this.requestAnimationFrame({class:"widget-daterange-transition-out",opacity:0,transform:"scale(0) translate(0, 0)",top:null}),1===i?e.call(this):this.hideTimeoutId=setTimeout($.proxy(e,this),400)}this.isVisible=!1,/large|default/.test(this.breakpoint)?e.call(this):1===i?s.call(this):this.hideTimeoutId=setTimeout($.proxy(s,this),250)},data:this})},historyAdd:function t(){if("x-small-screen"===dio.util.responsive.getBreakpoint()&&!location.hash.includes(":dr"+this.instanceIndex)){var e="start"===this.type?":ci":":co",s=":DR:dr"+this.instanceIndex+e;location.hash.includes(":DR")?location.hash=location.hash.replace(":DR",s):location.hash=location.hash+s}},historyRemove:function t(){var e="start"===this.type?":ci":":co";location.hash=location.hash.replace(":dr"+this.instanceIndex+e,"")},hashChange:function t(){if("x-small-screen"===dio.util.responsive.getBreakpoint()){var e=0<location.hash.indexOf(":dr"+this.instanceIndex+":co")?"end":"start";location.hash.includes(":dr"+this.instanceIndex)?!this.isVisible&&this.show(e):this.isVisible&&this.hide()}},requestAnimationFrame:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(e){var s=this.cont[0];requestAnimationFrame($.proxy(function(){s.classList.add(e.class),s.style.opacity=e.opacity,s.style.transform=e.transform,e.top&&(s.style.top=e.top)},this));var t=function t(){s.removeEventListener("transitionend",t),s.classList.remove(e.class),this.scrollYSticky=void 0};s.addEventListener("transitionend",t)}),isSupportMultipleSize:function t(){return!("widget-daterange-mixed-size"!==this.conf.mainClass||"medium-large-screen"!==this.breakpoint)},getActiveInputForPositioning:function t(e){return this.isMobileOrTablet&&!e?this.conf.inputStart:this.activeInput},initCalculated:function t(e){var s=this;return{css:{width:e?void 0:s.isMobileOrTablet?dio.isFunction(s.conf.width)?s.conf.width(s.cont):s.conf.width:"auto"},placement:null,flipped:!1,classes:[]}},getDimensions:function t(e){return{window:{height:$(window).height(),width:$(window).width(),scrollTop:$(window).scrollTop()},input:dio.mix({},e[0].getBoundingClientRect()),datePicker:dio.mix({},this.cont[0].getBoundingClientRect()),inputStart:dio.mix({},this.conf.inputStart[0].getBoundingClientRect()),inputEnd:dio.mix({},this.conf.inputEnd[0].getBoundingClientRect())}},positionOnMobileOrTablet:function t(e,s){if("x-small-screen"!==this.breakpoint&&s){var i=dio.rtl?"right":"left",n=this.initCalculated(e),a=this.getDimensions(s);a.window.height>=a.input.top+a.input.height+a.datePicker.height?n.placement=o:a.input.top>=a.datePicker.height?n.placement=h:this.isMobileOrTablet?n.placement=r:n.placement=o,n.placement===o?(n.css.top=a.window.scrollTop+a.input.top+a.input.height,n.classes.push(this.conf.classNames.below)):n.placement===h?(n.css.top=a.window.scrollTop+a.input.top-a.datePicker.height,n.classes.push(this.conf.classNames.above)):n.placement===r&&(n.css.top=a.window.scrollTop,n.classes.push(this.conf.classNames.cover),n.classes.push(this.conf.classNames.noarrow)),n.flipped=dio.rtl?a.input.right-a.datePicker.width<0:a.input.left+a.datePicker.width>a.window.width,n.flipped?(n.classes.push(this.conf.classNames.flipped),n.css[i]=dio.rtl?a.window.width-a.input.left-a.datePicker.width:a.input.right-a.datePicker.width):n.css[i]=dio.rtl?a.window.width-a.input.right:a.input.left,this.cont.css(n.css),this.classNames=this.classNames.concat(this.classNames,n.classes)}},positionOnDesktop:function t(e,s){if(s){var i=this.initCalculated(e);this.cont.css("width",i.css.width);var n=this.getDimensions(s);this.positionVertically(n,i),this.positionHorizontally(n,i),this.cont.css(i.css),this.classNames=this.classNames.concat(this.classNames,i.classes),this.positionArrow(i,n),this.scrollTo=this.calculateScrolling(i,n)}},position:function t(){this.cacheBreakpoint(),this.cont.addClass(this.conf.classNames.offscreen).addClass(this.conf.mainClass);var e=this.isSupportMultipleSize(),s=this.getActiveInputForPositioning(e);this.isMobileOrTablet?this.positionOnMobileOrTablet(e,s):this.positionOnDesktop(e,s),this.cont.removeClass(this.conf.classNames.offscreen)},setRange:function t(e,s,i){this.startDate=e||this.startDate,this.endDate=s||this.endDate,this.validate(),this.emit(n,{data:{start:this.startDate,end:this.endDate,fieldType:i}}),this.emit("change-MVT7299",{data:{start:this.startDate}})},getRange:function t(){return{start:this.startDate,end:this.endDate}},validate:function t(){if(0<=this.startDate.diff(this.endDate))if("start"===this.type)this.endDate.set(null,this.startDate.getDate()+1,this.startDate.getMonth(),this.startDate.getFullYear());else{var e=new dio.Date(null,this.today.getDate()+1);this.endDate.diff(e)<0&&(this.endDate=e),this.startDate.set(null,this.endDate.getDate()-1,this.endDate.getMonth(),this.endDate.getFullYear())}},dateFormatFilter:function t(e){if(!this.validDateChars){this.validDateChars=["\n","\r"];for(var s={},i=0,n;void 0!==n,n=this.conf.dateFormat.charAt(i);i++)s[n]||(s[n]=1,/m|d|y/i.test(n)?this.validDateChars.push("\\d"):this.validDateChars.push("\\"+n));this.validDateChars=new RegExp(this.validDateChars.join("|"))}var a=e.which,o;return!(a&&!e.metaKey&&!e.ctrlKey&&8!==a)||!!String.fromCharCode(e.which).match(this.validDateChars)},onDateChange:function t(e,s){this.cont.addClass("widget-daterange-selected"),"start"===this.type?this.setRange(s):this.setRange(!1,s)},formatDate:function t(e){function s(t){return t<10?"0"+t:t}return e.getFullYear()+"-"+s(e.getMonth()+1)},onMonthChange:function t(e){var s=new dio.Date(this["cal"+e].displayedMonthDate.date),i=this.formatDate(s.date);s.set(null,1,s.getMonth()+("End"===e?-1:1)),this["cal"+(e="Start"===e?"End":"Start")].displayedMonthDate=s,this["cal"+e].updateDisplay();var n=this.formatDate(s.date);"Start"===e?dio.event.publish("monthChanged:Next",{button:"Forward",monthDisplayed1:n,monthDisplayed2:i}):dio.event.publish("monthChanged:Previous",{button:"Back",monthDisplayed1:i,monthDisplayed2:n})},message:function t(e){if(!isNaN(e)){var s="";"x-small-screen"===this.breakpoint&&0<e&&e<this.conf.maxNights+1?s=this.getRange().start.formatL10nFullDate(this.conf.l10nFormatFull)+" - "+this.getRange().end.formatL10nFullDate(this.conf.l10nFormatFull):1===e?s=dio.i18n("search.mstep.calendar.night_single"):0<e&&e<this.conf.maxNights+1?s=dio.i18n("search.mstep.calendar.night_plural",e):e>this.conf.maxNights&&(s=this.conf.longStaysEnabled?"":dio.i18n("search.mstep.dates.tooLongStay",this.conf.maxNights)),this.showMessage(s)}},showMessage:function t(e){this.msgCont.html(e)},hideFromExternalTarget:function t(e){this.isExternalTargetPrevented(e)&&e.preventDefault(),this.isCalendarTheTarget(e)||(this.hide(1),dio.event.publish("calendarClosed",{start:this.startDate.date,end:this.endDate.date}))},isCalendarTheTarget:function t(e){var s=$(e.target);return this.cont[0].contains(s[0])||this.conf.inputStart.is(s)||this.conf.inputEnd.is(s)||this.cont[0]===e.target||this.conf.inputStart.next("label").is(s)||this.conf.inputEnd.next("label").is(s)||this.conf.inputStart.prev("label").is(s)||this.conf.inputEnd.prev("label").is(s)},isExternalTargetPrevented:function t(e){var s=$(e.target);return s[0]!==this.closeBtn[0]&&"BUTTON"!==s[0].nodeName&&"INPUT"!==s[0].nodeName&&"SELECT"!==s[0].nodeName&&"LABEL"!==s[0].nodeName},subscribeToMouseEvents:function t(){this.cont.hasClass(this.conf.classNames.prefix+"end")&&(this.event(this.cont,"on","mouseover.daterange","a",this.handleMouseOver),this.event(this.cont,"on","mouseleave",this.handleMouseLeave))},handleTouch:function t(e){switch(e.type){case"touchmove":this.drag=!0;break;case"touchend":this.drag||this.hideFromExternalTarget(e),this.drag=!1}},handleMouseOver:function t(e){var s=this.today.clone(),i=e.target.parentNode.getAttribute("data-date");i&&(i=i.split("-"),s.set(null,i[2],i[1],i[0])),"end"===this.type&&this.message(parseInt(-this.startDate.diff(s)/864e5,10))},handleMouseLeave:function t(){"end"===this.type&&this.message(parseInt(-this.startDate.diff(this.endDate)/864e5,10))},setEarliestDate:function t(){var e=this.today.getTimezoneOffset()/60-16,s=this.today.clone().get();s.setHours(s.getHours()+e),this.earliestDate=new dio.Date(s)},setLatestDate:function t(){this.latestDate=new dio.Date(null,this.today.getDate()+499)},getEarliestDate:function t(){return this.earliestDate},getLatestDate:function t(){return this.latestDate},scrollPrevent:function t(e){var s=$("body");setTimeout($.proxy(function(){e?(s.css({overflow:"hidden",width:"100%"}),this.scrollY=$(window).scrollTop(),s.on("touchmove.daterange",function(t){t.preventDefault()}),this.cont.on("touchmove.daterange",function(t){t.stopPropagation()}),s.on("scroll.daterange",function(t){t.preventDefault()}),this.cont.on("scroll.daterange",function(){return!0})):(s.css({overflow:"",width:""}),s.off("touchmove.daterange"),this.cont.off("touchmove.daterange"),s.off("scroll.daterange"),this.cont.off("scroll.daterange"),$(window).scrollTop(this.scrollY))},this),e?500:0)},handleMonths:function t(){if("x-small-screen"===this.breakpoint)for(var e=this.datePickerCont.scrollTop()+40,s=0,i,n;void 0!==i,i=this.datepickers[s];s++)n=e>i.cont.offsetTop,$(i.cont).toggleClass("widget-datepicker-collapse",n),n&&this.month.html(i.label.innerHTML)},clearStyles:function t(){this.cont.addClass(this.conf.classNames.offscreen).attr("style","")},cacheBreakpoint:function t(){var e=new RegExp("small|medium-s","g");this.breakpoint=dio.util.responsive.getBreakpoint(),this.isMobileOrTablet=e.test(this.breakpoint)},getToday:function t(){return new dio.Date},resetVariablesOnHide:function t(){this.isOpened=!1,this.scrollTo=null},scrollOnShow:function t(){this.isOpened=!0,this.shouldPreventScroll()||this.$scrollingElements.animate({scrollTop:this.scrollTo},300)},calculateScrolling:function t(e,s){var i=e.placementY,n=e.css.top,a=s.datePicker,o=s.window;return i===c?n+a.height+this.conf.offsetBottom-o.height:null},positionHorizontally:function t(e,s){var i=e.inputStart,n=e.inputEnd,a=e.window,o=e.datePicker,h;s.placementY===l?s.css.left=a.width/2-o.width/2:(dio.rtl?0<=i.right-o.width||n.left+o.width<=a.width:0<=n.right-o.width||i.left+o.width<=a.width)?(s.isFlipped=dio.rtl?i.right-o.width<0:i.left+o.width>a.width,s.isFlipped?(s.classes.push(this.conf.classNames.flipped),s.css.left=dio.rtl?n.left:n.right-o.width):s.css.left=dio.rtl?i.right-o.width:i.left):s.css.left=dio.rtl?0:a.width-o.width},positionVertically:function t(e,s){var i=e.window,n=e.inputStart,a=e.datePicker;switch(i.height>=n.top+n.height+a.height?s.placementY=o:n.top>=a.height?s.placementY=h:this.isMobileOrTablet?s.placementY=r:$("body").hasClass("widget-overlay-open")?s.placementY=l:s.placementY=c,s.placementY){case o:case c:s.css.top=i.scrollTop+n.top+n.height,s.classes.push(this.conf.classNames.below);break;case h:s.css.top=i.scrollTop+n.top-a.height,s.classes.push(this.conf.classNames.above);break;case r:s.css.top=i.scrollTop,s.classes.push(this.conf.classNames.cover),s.classes.push(this.conf.classNames.noarrow);break;case l:s.classes.push(this.conf.classNames.middle),s.classes.push(this.conf.classNames.noarrow),s.css.top=i.scrollTop+i.height/2-a.height/2}},positionArrow:function t(e,s){var i=e.classes,n=e.css.left,a=e.isFlipped,o=s.input;if(-1===i.indexOf(this.conf.classNames.noarrow)){var h=this.$arrow[0].getBoundingClientRect(),r=dio.rtl!==a?o.right-(12+h.width+n):o.left+12-n;this.$arrow.toggleClass("animate",this.isOpened),this.$arrow.css("left",r)}},shouldPreventScroll:function t(){return null===this.scrollTo},destructor:function t(){for(var e=0,s;void 0!==s,s=this.datepickers[e];e++)s.destroy();dio.event.unsubscribe("orientationChange.daterange viewportChanged.daterange",this.clearStyles),dio.event.unsubscribe("orientationChange viewportChanged",this.cacheBreakpoint),dio.event.unsubscribe("widthResizeEnd",this.onWidthResize),dio.event.unsubscribe("widthResizeEnd",this.onHeightResize),dio.event.unsubscribe("pre:scrolledToDates:Query",this.shouldPreventScroll,this),this.cont.remove()}},d)}();
/*! core/dio/widget/dio.widget.query.js*/
"use strict";var _slicedToArray=function(){function i(t,e){var i=[],a=!0,n=!1,s=void 0;try{for(var o=t[Symbol.iterator](),r;!(a=(r=o.next()).done)&&(i.push(r.value),!e||i.length!==e);a=!0);}catch(t){n=!0,s=t}finally{try{!a&&o.return&&o.return()}finally{if(n)throw s}}return i}return function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return i(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();!function(){var o="ready",a="dateChange",e="occupancyChange",i="compactOccupancyChange",n="roomNumberChange",s="compactOccupancyMoreOptions",r="submit",d="validationFailed",l="validationSuccess",h="toggleSummary",c="dontKnowDates",u="destinationChange",m="destinationClick",f="scrolledToDates",t={labelClassPrefix:"widget-query-label-",defaultDate:dio.getClientData("common.l10n.dates.l10nFormat")||"dd/mm/yyyy",dayNames:dio.getClientData("common.l10n.dates.weekDayNames")||["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],maxRooms:9,disambiguateDestination:!0,enableDatelessSearch:!1,openDatePickerByDefault:!1},g=0;dio.addWidget("Query",dio.Widget,{init:function t(){this.prefix=this.cont.data("prefix"),this.trackingId=this.cont.attr("data-tracking-id"),this.destination=$("#"+this.prefix+"q-destination"),this.dateStart=$("#"+this.prefix+"q-localised-check-in"),this.dateEnd=$("#"+this.prefix+"q-localised-check-out"),this.dateStartValueAtPageLoad=this.dateStart.val(),this.dateEndValueAtPageLoad=this.dateEnd.val(),this.dontKnow=$("#"+this.prefix+"q-dont-know-dates"),this.openDatePickerByDefault=this.cont.data("open-date-picker-by-default")||this.conf.openDatePickerByDefault;var e=this.find(".widget-query-room-options-children-templ");this.templChildOptions=e.eq(0).clone().removeClass("widget-query-room-options-children-templ"),e.remove();var i=this.find(".widget-query-room-children-templ");this.templChild=i.eq(0).clone().addClass("widget-query-room-children-clone").removeClass("widget-query-room-children-templ"),i.remove();var a=this.find(".widget-query-room-options");this.templRoom=a.eq(0).clone(),this.templRoom.find(".widget-query-room-children").remove();var n=this.cont.data("resolved-location");n&&(this.find("form").append('<input name="resolved-location" type="hidden" value="'+n+'">'),this.cont.removeAttr("data-resolved-location"));var s=dio.getClientData("page.pageName");s&&this.find("form").append('<input name="page-name" type="hidden" value="'+s+'">'),this.conf.disambiguateDestination&&this.disambiguate(),this.sendReportIfDateHasChanged(),this.emit(o,{defer:!0})},paintUI:function t(){if(this.addDatePickerLabels(),this.find("input[type=text]").attr("autocomplete","off"),dio.getClientData("sqm.isVR")&&1<this.cont.find(".widget-query-room-options .widget-query-adults select").length){var i=0,a=0;this.cont.find(".widget-query-room-options .widget-query-adults select").each(function(t,e){a+=parseInt(e.value)}),this.cont.find(".widget-query-room-options .widget-query-children select").each(function(t,e){i+=parseInt(e.value)});var e=this.cont.find(".widget-query-room-options");e.not(":first").remove(),e.find(".widget-query-adults select").val(a),e.find(".widget-query-children select").val(i)}},bindUI:function t(){var e=this,i=dio.di.require("LongStaysUrlBuilderService");this.autoSuggest=dio.autoSuggestInstances[this.destination.attr("id")]||new dio.widget.AutoSuggest({trigger:this.destination,trackingId:this.trackingId}),this.touchmove=!1,this.event($(this.cont),"on","touchmove",function(){this.touchmove=!0}),this.event(this.find(".aria-label"),"on","focus touchend click",function(t){this.touchmove||($("#"+$(t.target).data("input")).trigger(t.type),t.preventDefault(),t.stopPropagation()),this.touchmove=!1}),this.cont.data("long-stays-base-url")&&(this.longStaysURLBuilder=new i,this.longStaysURLBuilder.bindSearchForm(this)),this.destinationInit(),this.createDateRangeWidget(),this.updateNights(),this.event($("#"+this.prefix+"q-rooms"),"on","change",this.roomNumber),this.event(this.find(".widget-query-rooms"),"on","change",".widget-query-room-options select",this.occupancy),this.dateRange.subscribe("change",function(){this.emit(a,{callback:function t(){this.updateDayLabels(),this.updateNights()},data:this.dateRange.getRange()})},this),this.dateRange.subscribe("inputChange",function(){this.updateDayLabels(),this.updateNights()},this),this.dontKnow&&this.event(this.dontKnow,"on","click",function(){this.dontKnowDates()}),this.event(this.find(".widget-query-room-summary button"),"on","click",function(){this.emit(h,{callback:function t(){this.cont.removeClass("widget-query-summary")}})}),this.compactOccupancyBindUI(),this.event(this.find("form"),"on","submit",this.onSubmit),this.event($(window),"on","pagehide",function(){$(".cta").removeClass("cta-processing")}),this.destination.length&&this.event(this.find("input[type=text]"),"on","focus",this.scrollToDestination),this.liveErrorHiding(),this.event(this.find(".widget-query-dates input"),"off","focus",this.scrollToDestination),this.event(this.find(".widget-query-dates input"),"on","focus",function(){e.emit(f,{callback:function t(){var e=window.pageYOffset||document.documentElement.scollTop;setTimeout(function(){window.scrollTo(0,e)},100)}})}),this.subscribe("pre:validationSuccess",function(){if(this.dateStart.val()&&this.dateEnd.val()){var t=this.dateRange.getRange();this.find(".q-check-in").val(t.start.format("yyyy-mm-dd")),this.find(".q-check-out").val(t.end.format("yyyy-mm-dd"))}}),this.event(this.destination,"on","focus",function(){var t=/^(zh|ko|jp)_/;dio.browser.features.touch||!this.destination.length||dio.getClientData("common.locale").match(t)||this.event(this.destination,"one","click",function(){this.destination.select()})})},createDateRangeWidget:function t(){this.dateRange=new dio.widget.DateRange({inputStart:this.dateStart,inputEnd:this.dateEnd,width:$.proxy(function(){return this.cont.width()+"px"},this),longStaysEnabled:!!this.longStaysURLBuilder,trackingId:this.trackingId,openByDefault:this.openDatePickerByDefault})},destinationInit:function t(){var e=this;this.autoSuggest.subscribe("selected",this.destinationChanged,this),this.autoSuggest.subscribe("show hide",this.updateDestinationAttributes,this),this.event(this.destination,"on","change",this.destinationChanged),this.event(this.destination,"on","click touchend",this.destinationClick),this.event(this.destination,"on","inputCleared inputFilled",this.onInputChange),this.event(this.destination,"on","focus",function(){var t=e.destination.attr("data-os-typeahead");dio.event.publish("OneStream",{schema:"typeaheadInteraction",eventName:t?"typeaheadAutoFocused":"typeaheadFocused",target:e.destination[0]},{defer:!0}),t&&e.destination.removeAttr("data-os-typeahead")}),this.event(this.destination,"on","blur",function(){dio.event.publish("OneStream",{schema:"typeaheadInteraction",eventName:"typeaheadBlurred",target:e.destination[0]},{defer:!0})})},onInputChange:function t(e){this.destination.lastActionPerformed=e.type},dateHasChangedKey:"Hcom.Sqm.dateHasChanged",sendReportIfDateHasChanged:function t(){if(dio.browser.features.localStorage&&localStorage.getItem(this.dateHasChangedKey)){var e="Change Dates",i="event298";dio.sitecatalyst.sendPartialReport({reportCustomLink:e},i,e),localStorage.removeItem(this.dateHasChangedKey)}},saveFlagIfDateHasChanged:function t(){if(dio.browser.features.localStorage&&this.dateStartValueAtPageLoad&&this.dateEndValueAtPageLoad)try{this.dateStartValueAtPageLoad!==this.dateStart.val()||this.dateEndValueAtPageLoad!==this.dateEnd.val()?localStorage.setItem(this.dateHasChangedKey,"true"):localStorage.removeItem(this.dateHasChangedKey)}catch(t){}},onSubmit:function t(e){var a=!0;this.emit(r,{callback:function t(){var e,i;this.validate()?this.conf.disambiguateDestination&&!this.find("input[name=destination-id]").length&&this.destination.val()!==this.destination[0].defaultValue&&!this.isDisambiguated&&this.disambiguator.showIfRequired()||this.emit(l,{data:{instanceIndex:this.instanceIndex},callback:function t(){this.find(".widget-query-ft .cta").addClass("cta-processing"),a=!1,dio.event.publish("OneStream",{schema:"searchInteraction",eventName:"searchSubmitted",target:this.cont[0]},{defer:!0})}}):this.emit(d,{callback:this.onValidationFailed})},data:this}),this.saveFlagIfDateHasChanged(),a&&e.preventDefault()},onValidationFailed:function t(){var e=this.find(".form-error")[0];e&&(e.scrollIntoViewIfNeeded?e.scrollIntoViewIfNeeded():e.scrollIntoView(!1)),dio.event.publish("OneStream",{schema:"searchInteraction",eventName:"searchSubmitFailed",target:this.cont[0]},{defer:!0})},compactOccupancyBindUI:function t(){this.event($("#"+this.prefix+"q-compact-occupancy"),"on","change",this.compactOccupancy)},scrollToDestination:function t(){var e=this.destination;"x-small-screen"===dio.util.responsive.getBreakpoint()&&$("html, body").animate({scrollTop:this.destination.offset().top},200,function(){setTimeout(function(){e[0].scrollIntoView(!0)},500)})},disambiguate:function t(){this.disambiguator=new dio.widget.Disambiguation({srcEl:$("#"+this.prefix+"q-destination"),disambiguateAjaxNeeded:$.proxy(function(){var t;return!!!this.find('input[name="destination-id"]').val()},this)}).subscribe("selected",this.handleDisambiguation,this).subscribe("fail",this.handleDisambiguation,this)},handleDisambiguation:function t(e,i){this.disambiguationReset();var a=this.find("form"),n=a.find("input[name=resolved-location]");n.length?n.val(i.value):a.append('<input name="resolved-location" type="hidden" value="'+i.value+'">'),this.isDisambiguated=!0;var s=(i.value||"").split(":"),o=_slicedToArray(s,2),r=o[0],d=o[1];this.disambiguation={caption:i.label,destinationId:d,type:r},"fail"!==e&&a.submit()},disambiguationReset:function t(){this.find("form").find("input[name=resolved-location]").remove(),this.isDisambiguated=!1,this.disambiguation={}},addDatePickerLabels:function t(){this.lblStart=$('<label role="presentation" class="aria-label" data-input="'+this.dateStart.attr("id")+'"></label>'),this.lblStart.attr("id",this.conf.labelClassPrefix+ ++g),this.dateStart.attr("aria-labelledby",this.conf.labelClassPrefix+g+" "+this.conf.labelClassPrefix+ ++g),this.dateStart.prev("label").attr("id",this.conf.labelClassPrefix+g),this.dateStart.eq(0).after(this.lblStart),this.lblEnd=$('<label role="presentation" class="aria-label" data-input="'+this.dateEnd.attr("id")+'"></label>'),this.lblEnd.attr("id",this.conf.labelClassPrefix+ ++g),this.dateEnd.attr("aria-labelledby",this.conf.labelClassPrefix+g+" "+this.conf.labelClassPrefix+ ++g),this.dateEnd.prev("label").attr("id",this.conf.labelClassPrefix+g),this.dateEnd.eq(0).after(this.lblEnd)},roomNumber:function t(){this.emit(n,{callback:function t(){var e=this.find(".widget-query-rooms"),i=this.find(".widget-query-room-options"),a=i.length;if(this.numberOfRooms=~~$("#"+this.prefix+"q-rooms").val(),this.numberOfRooms===this.conf.maxRooms&&(this.numberOfRooms=0),e.toggleClass("widget-query-rooms-multiple",1<this.numberOfRooms),a<this.numberOfRooms)for(var n=a,s;n<this.numberOfRooms;n++){(s=this.templRoom.clone()).html(s.html().replace(/q-room-\d-(adults|children)/g,"q-room-"+n+"-$1"));var o=s.find(".widget-query-room-options-label").eq(0);o.html(o.html().replace(/\d/,n+1));var r=s.find("select");r.eq(0).prop("selectedIndex",1),r.eq(1).prop("selectedIndex",0),e.append(s)}else a>this.numberOfRooms&&i.slice(this.numberOfRooms).remove()}})},childNumber:function t(e){var i=$("#"+this.prefix+"q-room-"+e+"-children"),a=i.parents(".widget-query-room-options"),n=a.find(".widget-query-room-options-children").length,s=~~i.val(),o=a.find(".widget-query-room-children").eq(0);if(!s)return o&&o.remove(),void 0;if(o.length||(o=this.templChild.clone(),a.append(o)),n<s)for(var r=n,d;r<s;r++){(d=this.templChildOptions.clone()).html(d.html().replace(/q-room-(\d+)-child-(\d+)-age/g,"q-room-"+e+"-child-"+r+"-age"));var l=d.find("label");l.html(l.html().replace(/\d/,r+1)),o.append(d)}else s<n&&o.find(".widget-query-room-options-children").slice(s).remove()},compactOccupancy:function t(a){this.emit(i,{callback:function t(){var e=$(a.target).find("option:selected"),i=$("#"+this.prefix+"q-rooms");e.data("rooms")?(i.val(e.data("rooms")),$("#"+this.prefix+"q-room-0-adults").val(e.data("adults")),i.trigger("change")):(this.cont.removeClass("widget-query-compact-occupancy"),i.focus(),this.emit(s))}})},occupancy:function t(i){this.emit(e,{callback:function t(){var e=$(i.target).attr("id");e.includes("children")&&this.childNumber(e.match(/q-room-(\d+)-children/)[1]),this.validateChildOccupancy(i)},data:{event:i}})},validateChildOccupancy:function t(e){var i=$(e.target).parents(".widget-query-room-options"),a=!0;i.find("select").not(".widget-query-adults select").each(function(){0===$(this).prop("selectedIndex")?a=!1:($(this).removeClass("form-error"),$(this).removeAttr("aria-invalid"))}),a&&i.find(".form-error-cont").remove()},updateDayLabels:function t(){var e=this.find(".widget-query-day"),i=this.dateRange.getRange(),a=this.dateStart.val(),n=this.dateEnd.val();e.eq(0).html(""!==a&&""!==n&&i.start.date?this.conf.dayNames[(i.start.date.getDay()+6)%7]:""),e.eq(1).html(""!==a&&""!==n&&i.end.date?this.conf.dayNames[(i.end.date.getDay()+6)%7]:"")},updateNights:function t(){var e=this.dateRange.getRange();this.numNights=parseInt(e.end.diff(e.start)/864e5,10),this.find(".widget-query-num-nights").html(this.numNights),this.cont.toggleClass("widget-query-nights-display",0<this.numNights&&""!==this.dateStart.val()&&""!==this.dateEnd.val()),this.find(".widget-query-nights-label").html(dio.i18n("qf.date.night.label",this.numNights))},dontKnowDates:function t(){var e=!!this.dontKnow.prop("checked")&&"disabled";this.emit(c,{callback:function t(){this.dateStart.prop("disabled",e),this.dateEnd.prop("disabled",e),this.find(".widget-query-dates").toggleClass("widget-query-dates-disabled"),e?(this.previousDateValues=[this.dateStart.val(),this.dateEnd.val()],this.dateStart.val(""),this.dateEnd.val("")):(this.dateStart.val(this.previousDateValues[0]),this.dateEnd.val(this.previousDateValues[1])),this.clearErrors()},data:e})},validate:function t(){var e=this.prefix,i=this.numNights,a=this.cont,n=$("#"+e+"q-localised-check-in"),s=$("#"+e+"q-localised-check-out"),o=n.val().replace(/\s/g,""),r=s.val().replace(/\s/g,""),d=this.dateRange.conf.maxNights,l=this.dontKnow.length&&this.dontKnow.prop("checked")||!this.dontKnow.length&&this.conf.enableDatelessSearch,h=[{node:this.destination,message:"qf.validation.destination"},{node:n,message:"qf.validation.dates.nodates",test:function t(){return!l&&""===o&&""===r}},{node:n,message:"qf.validation.dates.check_in",test:function t(){return r.length&&!o.length}},{node:n,message:"qf.validation.dates.invalidFormat",test:function t(){return o&&!n.is(":disabled")&&!dio.Date().validFormat(n.val())}},{node:n,message:"qf.validation.dates.dateInPast",test:function t(){return o&&new dio.Date(o).diff(this.dateRange.earliestDate)<0}},{node:s,message:"qf.validation.dates.check_out",className:"form-error-check-out",test:function t(){return o.length&&!r.length}},{node:s,message:"qf.validation.dates.invalidFormat",className:"form-error-check-out",test:function t(){return r&&!dio.Date().validFormat(s.val())}},{node:s,message:"qf.validation.dates.cannot.be.the.same",className:"form-error-check-out",test:function t(){return o&&0===new dio.Date(o).diff(new dio.Date(r))}},{node:s,message:"qf.validation.dates.checkOutPriorToCheckin",className:"form-error-check-out",test:function t(){return o&&r&&0<new dio.Date(o).diff(new dio.Date(r))}},{node:s,message:"qf.validation.dates.checkOutPriorToCheckin",className:"form-error-check-out",test:function t(){return o===r&&""!==o}},this.getLongStayValidationNode(e,n,i,d),{node:n,message:"qf.validation.dates.nodates",test:function t(){return!l&&""===o}},{node:s,message:"qf.validation.dates.nodates",test:function t(){return!l&&""===r}},{node:a.find(".widget-query-room-options-children select"),message:"qf.validation.children.ages",test:function t(e){var i=!1;return 0===e.prop("selectedIndex")&&(i=!0),i}}];this.clearErrors();for(var c=!0,u=this,m=function t(e,a,i){(i=a.node).each(function(){var t=$(this);if(t.removeAttr("aria-invalid"),a.test&&a.test.call(u,t)||a.node.is(":visible")&&!a.test&&!t.val()){a.message=dio.i18n.apply(null,[a.message].concat(a.replace));var e=$('<div class="form-error-cont" role="alert"><div class="form-error"><span>'+a.message+"</span></div></div>");a.className&&e.addClass(a.className);var i=t.closest(".widget-query-group");i.find(".form-error-cont").length||i.prepend(e),t.addClass("form-error"),t.attr("aria-invalid",!0),c=!1}}),p=i},f=0,g,p;f<h.length,g=h[f];f++)m(f,g,p);return c},clearErrors:function t(){this.find(".form-error-cont").remove(),this.find(".form-error").removeClass("form-error")},getSearchState:function t(){return this.find("form").serializeArray()},destinationChanged:function t(){this.emit(u,{data:this.getSearchState()})},updateDestinationAttributes:function t(e){this.destination.attr("aria-expanded","show"===e)},destinationClick:function t(){this.emit(m)},getLongStayValidationNode:function t(e,i,a,n){var s=$("#"+e+"q-nights");return this.longStaysURLBuilder?{node:s,message:"qf.validation.dates.too_long.long_stay",replace:[n,dio.i18n('<a href="{0}">',this.longStaysURLBuilder.build()),"</a>"],className:"form-error-opposite",test:function t(){return i.val()&&n<a}}:{node:s,message:"qf.validation.dates.too_long",replace:[n],className:"form-error-opposite",test:function t(){return i.val()&&n<a}}},liveErrorHiding:function t(){this.event(this.destination,"on","input",function(){this.find(".widget-query-destination .form-error-cont").remove(),this.find(".widget-query-destination .form-error").removeClass("form-error")}),this.subscribe("dateChange",$.proxy(function(){$("#"+this.prefix+"q-localised-check-in")&&this.numNights<=this.dateRange.conf.maxNights&&(this.find(".widget-query-dates .form-error-cont").remove(),this.find(".widget-query-dates .form-error").removeClass("form-error")),this.dateRange.position()},this)),this.event(this.find(".widget-query-rooms"),"on","change",".widget-query-room-options-children select",this.validateChildOccupancy)},destructor:function t(){this.dateRange.destroy(),this.autoSuggest.destroy()}},t)}();
/*! core/dio/widget/dio.widget.sqm.js*/
"use strict";!function(){var l="ready",i="dateChange",e="occupancyChange",a="compactOccupancyChange",n="roomNumberChange",s="submit",o="validationFailed",d="validationSuccess",r="toggleSummary",c="dontKnowDates",h="geoComplete",m="destinationChange",u="destinationClick",t={labelClassPrefix:"widget-sqm-label-",defaultDate:dio.getClientData("common.l10n.dates.l10nFormat")||"dd/mm/yyyy",dayNames:dio.getClientData("common.l10n.dates.weekDayNames")||["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],maxRooms:9,disambiguateDestination:!0,enableDatelessSearch:!1};dio.addWidget("SQM",dio.Widget,{init:function t(){var e=this;this.prefix=this.cont.data("prefix"),this.trackingId=this.cont.attr("data-tracking-id"),this.destination=$("#"+this.prefix+"q-destination"),this.dateStart=$("#"+this.prefix+"q-localised-check-in"),this.dateEnd=$("#"+this.prefix+"q-localised-check-out"),this.dontKnow=$("#"+this.prefix+"q-dont-know-dates");var i=this.find(".widget-sqm-room-options-children-templ");this.templChildOptions=i.eq(0).clone().removeClass("widget-sqm-room-options-children-templ"),i.remove();var a=this.find(".widget-sqm-room-children-templ");this.templChild=a.eq(0).clone().addClass("widget-sqm-room-children-clone").removeClass("widget-sqm-room-children-templ"),a.remove();var n=this.find(".widget-sqm-room-options");this.templRoom=n.eq(0).clone(),this.templRoom.find(".widget-sqm-room-children").remove();var s=this.cont.data("resolved-location");s&&(this.find("form").append('<input name="resolved-location" type="hidden" value="'+s+'">'),this.cont.removeAttr("data-resolved-location"));var o=dio.getClientData("page.pageName");if(o&&this.find("form").append('<input name="page-name" type="hidden" value="'+o+'">'),this.conf.disambiguateDestination&&this.disambiguate(),this.destination.length){if(this.autoSuggest=dio.srsInstances[this.destination.attr("id")],!this.autoSuggest){var d=dio.getClientData("common.locale")||"en_GB",r=!dio.getClientData("qf.data")||!1!==dio.getClientData("qf.data").excludeLpa,c,h={source:new dio.widget.AjaxSource({type:"srs",data:{locale:d,excludeLpa:r}}),trackingId:this.trackingId,asInput:this.destination};this.autoSuggest=new dio.widget.Srs(h)}this.autoSuggest.subscribe("submit",function(){e.find("form").submit()})}this.emit(l,{defer:!0})},paintUI:function t(){this.find("input[type=text]").attr("autocomplete","off")},bindUI:function t(){var e=dio.di.require("LongStaysUrlBuilderService");this.touchmove=!1,this.event($(this.cont),"on","touchmove",function(){this.touchmove=!0}),this.event(this.find(".widget-sqm-date label"),"on","focus touchend click",function(t){if(!this.touchmove){var e=$("#"+$(t.target).attr("for"));document.activeElement.blur(),e.addClass("widget-daterange-active-input"),e.trigger(t.type),t.preventDefault(),t.stopPropagation()}this.touchmove=!1}),this.cont.data("long-stays-base-url")&&(this.longStaysURLBuilder=new e,this.longStaysURLBuilder.bindSearchForm(this)),this.destinationInit(),this.createDateRangeWidget(),this.updateNights(),this.event($("#"+this.prefix+"q-rooms"),"on","change",this.roomNumber),this.event(this.find(".widget-sqm-rooms"),"on","change",".widget-sqm-room-options select",this.occupancy),this.dateRange.subscribe("change hide",function(){this.emit(i,{callback:function t(){this.updateDayLabels(),this.updateNights()},data:this.dateRange.getRange()})},this),this.dateRange.subscribe("inputChange",function(){this.updateDayLabels(),this.updateNights()},this),this.dontKnow&&this.event(this.dontKnow,"on","click",function(){this.dontKnowDates()}),this.event(this.find(".widget-sqm-room-summary button"),"on","click",function(){this.emit(r,{callback:function t(){this.cont.removeClass("widget-sqm-summary")}})}),this.geo&&this.event(this.geo,"on","click",function(){var i=void 0;this.geo.addClass("cta-processing"),dio.util.geoLocation.get().done($.proxy(function(e){this.emit(h,{callback:function t(){this.geo.removeClass("cta-processing"),this.find("input[name=q-current-location]").remove(),this.find(".as-hidden").remove(),i=this.destination.clone().attr("id",this.destination.attr("id")+"-current").attr("name","q-current-location").val(this.destination.data("currentLocation")).show(),this.destination.val(e.latitude+" "+e.longitude).hide().after(i),this.event(i,"on","focus",function(){i.hide(),this.destination.val("").show().focus()}),this.destinationChanged()}})},this)).fail($.proxy(function(){this.cont.removeClass("widget-sqm-geo"),this.geo.remove()},this))}),this.occupancySelectionInit(),this.event(this.find("form"),"on","submit",function(t){var i=!0,a=this.validate();this.emit(s,{callback:function t(){var e;a?this.conf.disambiguateDestination&&!this.cont.find("input[name=destination-id]").length&&this.destination.val()!==this.destination[0].defaultValue&&!this.isDisambiguated&&this.disambiguator.showIfRequired()||this.emit(d,{callback:function t(){this.find(".widget-sqm-ft .cta").addClass("cta-processing"),i=!1,dio.event.publish("OneStream",{schema:"searchInteraction",eventName:"searchSubmitted",target:this.cont[0]},{defer:!0})}}):this.emit(o,{callback:function t(){var e=this.find(".form-error")[0];e&&(e.scrollIntoViewIfNeeded?e.scrollIntoViewIfNeeded():e.scrollIntoView(!1)),dio.event.publish("OneStream",{schema:"searchInteraction",eventName:"searchSubmitFailed",target:this.cont[0]},{defer:!0})}})}}),i&&t.preventDefault()}),this.event($(window),"on","pagehide",function(){$(".cta").removeClass("cta-processing")}),this.subscribe("post:validationFailed",this.liveErrorHiding),this.event(this.cont.find(".widget-sqm-dates input"),"on","focus",function(){var t=window.pageYOffset||document.documentElement.scollTop;setTimeout(function(){return window.scrollTo(0,t)},100)}),this.subscribe("pre:validationSuccess",function(){if(this.dateStart.val()&&this.dateEnd.val()){var t=this.dateRange.getRange();this.find(".q-check-in").val(t.start.format("yyyy-mm-dd")),this.find(".q-check-out").val(t.end.format("yyyy-mm-dd"))}}),this.event($(document),"on","touchend.sqm mousedown.sqm focusin.sqm",this.removeActiveClass)},createDateRangeWidget:function t(){var e=this;this.dateRange=new dio.widget.DateRange({inputStart:this.dateStart,inputEnd:this.dateEnd,mainClass:"widget-daterange-sqm",width:function t(){return e.find("form").width()},longStaysEnabled:!!this.longStaysURLBuilder,trackingId:this.trackingId})},destinationInit:function t(){var e=this;this.autoSuggest&&this.autoSuggest.subscribe("select",this.destinationChanged,this),this.event(this.destination,"on","change",this.destinationChanged),this.event(this.destination,"on","click touchend",this.destinationClick),this.event(this.destination,"on","focus",function(){var t=e.destination.attr("data-os-typeahead");dio.event.publish("OneStream",{schema:"typeaheadInteraction",eventName:t?"typeaheadAutoFocused":"typeaheadFocused",target:e.destination[0]},{defer:!0}),t&&e.destination.removeAttr("data-os-typeahead")}),this.event(this.destination,"on","blur",function(){dio.event.publish("OneStream",{schema:"typeaheadInteraction",eventName:"typeaheadBlurred",target:e.destination[0]},{defer:!0})})},occupancySelectionInit:function t(){this.event($("#"+this.prefix+"q-compact-occupancy"),"on","change",this.compactOccupancy)},disambiguate:function t(){this.disambiguator=new dio.widget.Disambiguation({srcEl:$("#"+this.prefix+"q-destination"),disambiguateAjaxNeeded:$.proxy(function(){var t;return!!!this.cont.find('input[name="destination-id"]').val()},this)}).subscribe("selected",this.handleDisambiguation,this).subscribe("fail",this.handleDisambiguation,this)},handleDisambiguation:function t(e,i){this.disambiguationReset();var a=this.find("form"),n=a.find("input[name=resolved-location]");n.length?n.val(i.value):a.append('<input name="resolved-location" type="hidden" value="'+i.value+'">'),this.isDisambiguated=!0,"fail"!==e&&a.submit()},disambiguationReset:function t(){this.find("form").find("input[name=resolved-location]").remove(),this.isDisambiguated=!1},roomNumber:function t(){this.emit(n,{callback:function t(){var e=this.find(".widget-sqm-rooms"),i=this.find(".widget-sqm-room-options"),a=i.length;if(this.numberOfRooms=~~$("#"+this.prefix+"q-rooms").val(),this.numberOfRooms===this.conf.maxRooms&&(this.numberOfRooms=0),e.toggleClass("widget-sqm-rooms-multiple",1<this.numberOfRooms),a<this.numberOfRooms)for(var n=a,s;n<this.numberOfRooms;n++){(s=this.templRoom.clone()).html(s.html().replace(/q-room-\d-(adults|children)/g,"q-room-"+n+"-$1"));var o=s.find(".widget-sqm-room-options-label").eq(0);o.html(o.html().replace(/\d/,n+1));var d=s.find("select");d.eq(0).prop("selectedIndex",1),d.eq(1).prop("selectedIndex",0),e.append(s)}else a>this.numberOfRooms&&i.slice(this.numberOfRooms).remove()}})},childNumber:function t(e){var i=$("#"+this.prefix+"q-room-"+e+"-children"),a=i.parents(".widget-sqm-room-options"),n=a.find(".widget-sqm-room-options-children").length,s=~~i.val(),o=a.find(".widget-sqm-room-children").eq(0);if(!s)return o&&o.remove(),void 0;if(o.length||(o=this.templChild.clone(),a.append(o)),n<s)for(var d=n,r;d<s;d++){(r=this.templChildOptions.clone()).html(r.html().replace(/q-room-(\d+)-child-(\d+)-age/g,"q-room-"+e+"-child-"+d+"-age"));var c=r.find("label");c.html(c.html().replace(/\d/,d+1)),o.append(r)}else s<n&&o.find(".widget-sqm-room-options-children").slice(s).remove()},compactOccupancy:function t(n){this.emit(a,{callback:function t(){var e=this,i=$(n.target).find("option:selected"),a=$("#"+this.prefix+"q-rooms");i.data("rooms")?(setTimeout(function(){return e.find(":focus").blur()},200),a.val(i.data("rooms")),$("#"+this.prefix+"q-room-0-adults").val(i.data("adults")),a.trigger("change")):(this.cont.removeClass("widget-sqm-compact-occupancy"),a.focus())}})},occupancy:function t(i){this.emit(e,{callback:function t(){var e=$(i.target).attr("id");e.includes("children")&&this.childNumber(e.match(/q-room-(\d+)-children/)[1])}})},updateDayLabels:function t(){var e=this.find(".widget-sqm-day"),i=this.dateRange.getRange(),a=this.dateStart.val(),n=this.dateEnd.val();e.eq(0).html(""!==a&&""!==n&&i.start.date?this.conf.dayNames[(i.start.date.getDay()+6)%7]:""),e.eq(1).html(""!==a&&""!==n&&i.end.date?this.conf.dayNames[(i.end.date.getDay()+6)%7]:"")},updateNights:function t(){var e=this.dateRange.getRange();this.numNights=parseInt(e.end.diff(e.start)/864e5,10),this.find(".widget-sqm-num-nights").html(this.numNights),this.cont.toggleClass("widget-sqm-nights-display",0<this.numNights&&""!==this.dateStart.val()&&""!==this.dateEnd.val()),this.find(".widget-sqm-nights-label").html(dio.i18n("qf.date.night.label",this.numNights))},dontKnowDates:function t(){var e=!!this.dontKnow.prop("checked")&&"disabled";this.emit(c,{callback:function t(){this.dateStart.prop("disabled",e),this.dateEnd.prop("disabled",e),this.find(".widget-sqm-dates").toggleClass("widget-sqm-dates-disabled"),e?(this.previousDateValues=[this.dateStart.val(),this.dateEnd.val()],this.dateStart.val(""),this.dateEnd.val("")):(this.dateStart.val(this.previousDateValues[0]),this.dateEnd.val(this.previousDateValues[1])),this.clearErrors()},data:e})},validate:function t(){var e=this.prefix,i=this.numNights,a=this.cont,n=$("#"+e+"q-localised-check-in"),s=$("#"+e+"q-localised-check-out"),o=n.val().replace(/\s/g,""),d=s.val().replace(/\s/g,""),r=this.dateRange.conf.maxNights,c=this.dontKnow.length&&this.dontKnow.prop("checked")||!this.dontKnow.length&&this.conf.enableDatelessSearch,h=[{node:this.destination,message:"qf.validation.destination",className:"form-error-destination"},{node:a.find('.widget-sqm-dates input[type="text"]'),message:"qf.validation.dates.nodates",className:"form-error-check-in",test:function t(){return!c&&""===o&&""===d}},{node:n,message:"qf.validation.dates.check_in",className:"form-error-check-in",test:function t(){return d.length&&!o.length}},{node:n,message:"qf.validation.dates.invalidFormat",className:"form-error-check-in",test:function t(){return o&&!n.is(":disabled")&&!dio.Date().validFormat(n.val())}},{node:n,message:"qf.validation.dates.dateInPast",className:"form-error-check-in",test:function t(){return o&&new dio.Date(o).diff(this.dateRange.earliestDate)<0}},{node:s,message:"qf.validation.dates.check_out",className:"form-error-check-out",test:function t(){return o.length&&!d.length}},{node:s,message:"qf.validation.dates.invalidFormat",className:"form-error-check-out",test:function t(){return d&&!dio.Date().validFormat(s.val())}},{node:s,message:"qf.validation.dates.cannot.be.the.same",className:"form-error-check-out",test:function t(){return o&&0===new dio.Date(o).diff(new dio.Date(d))}},{node:s,message:"qf.validation.dates.checkOutPriorToCheckin",className:"form-error-check-out",test:function t(){return o&&d&&0<new dio.Date(o).diff(new dio.Date(d))}},{node:s,message:"qf.validation.dates.checkOutPriorToCheckin",className:"form-error-check-out",test:function t(){return o===d&&""!==o}},this.getLongStayValidationNode(e,n,i,r)];this.clearErrors();for(var l=!0,m=this,u=function t(e,s,i){(i=s.node).each(function(){var t=$(this);if(t.removeAttr("aria-invalid"),s.test&&s.test.call(m,t)||!s.test&&!t.val()){s.message=dio.i18n.apply(null,[s.message].concat(s.replace));var e=$('<div class="form-error-cont" role="alert"></div>'),i=$('<div class="form-error"><span>'+s.message+"</span></div>"),a=t.closest(".widget-query-group"),n=t.closest("form");a.find("."+s.className).length||(i.addClass(s.className),a.find(".form-error-cont").length||a.append(e),n.find("> .form-error-cont").length||n.append(e.clone()),a.find(".form-error-cont").append(i),n.find("> .form-error-cont").append(i.clone())),s.parentEl?a.find(s.parentEl).addClass("form-error"):t.addClass("form-error"),t.attr("aria-invalid",!0),l=!1}}),v=i},f=0,g,v;void 0!==g,g=h[f];f++)u(f,g,v);return l},clearErrors:function t(){this.find(".form-error-cont").remove(),this.find(".form-error").removeClass("form-error")},getSearchState:function t(){return this.find("form").serializeArray()},destinationChanged:function t(){this.emit(m,{callback:function t(){this.destination.addClass("widget-sqm-active-el")},data:this.getSearchState()})},destinationClick:function t(){this.destination.focus(),this.emit(u)},getLongStayValidationNode:function t(e,i,a,n){var s=$("#"+e+"q-nights");return this.longStaysURLBuilder?{node:s,message:"qf.validation.dates.too_long.long_stay",replace:[n,dio.i18n('<a href="{0}">',this.longStaysURLBuilder.build()),"</a>"],className:"form-error-check-out",parentEl:$(".query-localised-check-out"),test:function t(){return i.val()&&n<a}}:{node:s,message:"qf.validation.dates.too_long",replace:[n],className:"form-error-check-out",parentEl:$(".query-localised-check-out"),test:function t(){return i.val()&&n<a}}},liveErrorHiding:function t(){this.event(this.destination,"on","input focus",function(){this.find(".form-error-destination").remove(),this.find(".widget-sqm-destination .form-error").removeClass("form-error")}),this.subscribe("dateChange",$.proxy(function(){$("#"+this.prefix+"q-localised-check-in")&&this.numNights<=this.dateRange.conf.maxNights&&(this.find(".form-error-check-in, .form-error-check-out").remove(),this.find(".widget-sqm-dates").find('input[type="text"]').removeClass("form-error"))},this)),this.event(this.find('.widget-sqm-dates input[type="text"]'),"one","focus click",function(t){var e=t.target.className.split("query-localised-check-")[1].split(/\s/)[0];this.find(".form-error-check-"+e).remove(),$(t.target).closest(".form-error").removeClass("form-error")}),this.event(this.find(".widget-sqm-rooms"),"on","change",".widget-sqm-room-options-children select",function(t){var e=$(t.target).parents(".widget-sqm-room-children"),i=!0;e.find("select").each(function(){0===$(this).prop("selectedIndex")?i=!1:($(this).removeClass("form-error"),$(this).removeAttr("aria-invalid"))}),i&&e.find(".form-error-cont").remove()})},removeActiveClass:function t(e){var i=$(e.target);i.hasClass("widget-sqm-autosuggest")||this.destination.removeClass("widget-sqm-active-el"),i.parent().hasClass("widget-sqm-date")||this.dateRange.cont&&this.dateRange.find(i).length||i.hasClass("widget-overlay-close")||this.find(".widget-sqm-date input").removeClass("widget-daterange-active-input")},destructor:function t(){this.dateRange.destroy(),this.autoSuggest&&this.autoSuggest.destroy()}},t)}();
/*! core/dio/dio.hrum.js*/
"use strict";function _defineProperty(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};dio.logging=dio.logging||{},dio.logging.logCustom=function(t){dio.logging.preloadData=dio.logging.preloadData||[],dio.logging.preloadData.push(t)},dio.hrum=function(m,i,v){if(!1!==i.enabled&&"performance"in m&&!m.location.hostname.includes("widgets")){i.alreadyLogged={},i.mainBeaconSent=!1,i.loadTypeBeacons=[],i.customLoadBeacons=[],i.params={},i.viewGuid="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){var e=void 0,a;return e=window.crypto&&"function"==typeof Uint8Array?crypto.getRandomValues(new Uint8Array(1))[0]%16|0:16*Math.random()|0,("x"===t?e:3&e|8).toString(16)}),i.messages={additionalMetrics:{}},i.host=dio.getClientData("common.tracking.harvester")||"https://apihotels.net/onestream/events/";var t=[{string:navigator.userAgent,subString:"Edg",identity:"Edge"},{string:navigator.userAgent,subString:"Firefox",identity:"Firefox"},{string:navigator.userAgent,subString:"Chrome",identity:"Chrome"},{string:navigator.vendor,subString:"Apple",identity:"Safari",versionSearch:"Version"},{prop:m.opera,identity:"Opera"},{string:navigator.userAgent,subString:"MSIE",identity:"Explorer",versionSearch:"MSIE"},{string:navigator.userAgent,subString:"Gecko",identity:"Mozilla",versionSearch:"rv"},{string:navigator.userAgent,subString:"Mozilla",identity:"Netscape",versionSearch:"Mozilla"}],e=[{string:navigator.userAgent,subString:"iPad",identity:"iPad"},{string:navigator.userAgent,subString:"iPhone",identity:"iPhone/iPod"},{string:navigator.userAgent,subString:"Kindle",identity:"Kindle"},{string:navigator.userAgent,subString:"BB10",identity:"Blackberry"},{string:navigator.userAgent,subString:"Touch",addlString:"MSIE 10",identity:"Surface"},{string:navigator.userAgent,subString:"Android",identity:"Android"},{string:navigator.platform,subString:"Win",identity:"Windows"},{string:navigator.platform,subString:"Mac",identity:"Mac"},{string:navigator.userAgent,subString:"iPhone",identity:"iPhone/iPod"},{string:navigator.platform,subString:"Linux",identity:"Linux"}];i.getBrowserInfo=function(t){for(var e=0;e<t.length;e++){var a=t[e].string,n=t[e].prop;if(i.versionSearchString=t[e].versionSearch||t[e].identity,a){if(a.includes(t[e].subString)&&(!t[e].addlString||a.includes(t[e].addlString)))return t[e].identity||"unknown"}else if(n)return t[e].identity||"unknown"}};var a=function t(e){var a={};for(var n in e)void 0!==e[n].val?a[n]=e[n].val:a[n]=t(e[n]);return a};i.addExtraDataForOneStream=function(t){var e=p("xdid"),a=p("SSSC"),n=p("SSLB"),i=t.additionalMetrics;i&&Object.keys(i).map(function(t){i[t]=i[t]+""});var r=h({},t,{eventName:"speedMetricsCaptured",user:{guid:v.user.guid||"unknown"},visit:{visitId:p("visitId")||"unknown"},page:{pageId:v.page.requestId||"unknown"},thirdparty:t["3pty"],additionalMetrics:{uijs:"2",uitch:dio.browser.features.touch?"1":"0"}});if(e&&(r.user.xdid=e),a&&(r.additionalMetrics.sssc=a),n&&(r.additionalMetrics.sslb=n),m.performance.getEntriesByName){var o=(m.performance.getEntriesByName("first-contentful-paint")||[])[0],s=o?Math.round(o.startTime):null;r.firstContentfulPaint=s}var d=navigator.connection||{},g=d.effectiveType,l=void 0===g?null:g,u=d.downlink,c=void 0===u?null:u;return r.networkEffectiveType=l,r.networkDownlink=c,delete r["3pty"],{batch:[r]}},i.getUserAgent=function(t){var e=t.indexOf(i.versionSearchString);if(-1!==e)return parseFloat(t.substring(e+i.versionSearchString.length+1))};var p=function t(e){var a,n;return("; "+document.cookie).split("; "+e+"=").pop().split(";")[0]},s=function t(e){return e&&"object"===(void 0===e?"undefined":_typeof(e))&&!Array.isArray(e)},h=function t(e){for(var a=arguments.length,n=Array(1<a?a-1:0),i=1;i<a;i++)n[i-1]=arguments[i];if(!n.length)return e;var r=n.shift();if(s(e)&&s(r))for(var o in r)s(r[o])?(e[o]||Object.assign(e,_defineProperty({},o,{})),t(e[o],r[o])):Object.assign(e,_defineProperty({},o,r[o]));return t.apply(void 0,[e].concat(n))},n=function t(e){var a=JSON.stringify(i.addExtraDataForOneStream(e));if("sendBeacon"in navigator)navigator.sendBeacon(i.host,a);else{var n=new XMLHttpRequest;n.open("POST",i.host,!0),n.send(a)}};i.beacon=function(){this.params.d0={val:v.page.pageName||"",desc:"pageName"},this.params.d1={val:v.user.guid||"",desc:"guid"},this.params.d2={val:v.user.locale||"",desc:"locale"},this.params.d3={val:v.user.platformId||"",desc:"platformId"},this.params.d4={val:v.user.pos||"",desc:"pos"},this.params.d5={val:v.user.sessionId||"",desc:"sessionId"},this.params.d6={val:p("visitId")||"",desc:"visitorId"},this.params.d7={val:v.page.currency||"",desc:"currency"},this.params.d8={val:v.user.wrStatus||"",desc:"wrStatus"},this.params.d9={val:v.marketing.lastTouchedMarketingCode||"Brand",desc:"brand"},this.params.t0={val:(new Date).valueOf(),desc:"beacon start time"},this.params.mvtHistory={val:v.mvtHistory.mvts||"",desc:"mvtHistory"},this.params.afflb={val:p("afflb"),desc:"cookie:afflb"},this.hready=this.hreadyStart-this.pageStartTime;for(var t=0;t<this.loadTypeBeacons.length;t++)this.alreadyLogged[this.loadTypeBeacons[t]]&&(this.hready=Math.max(this.hready,this.alreadyLogged[this.loadTypeBeacons[t]]));this.logCustom({name:"hready:load",val:dio.logging.hready,desc:"Page fully interactive"}),this.logCustom({name:"3pty:load",val:i.browserLoadTime-i.alreadyLogged.hready,desc:"Ensighten/Omniture/Ads/etc."}),this.logCustom({name:"ttfb:load",val:this.params.n0.val,desc:"Backend response time"});var e=h({},this.defaultParams,a(this.params));Object.keys(this.messages).length&&(e=h({},e,a(this.messages)),this.clearCustom()),e.sentAt=Date.now(),n(e),this.mainBeaconSent=!0},i.getTimings=function(){var t={},e=m.performance.timing;return t.m0={val:e.unloadEventEnd-e.unloadEventStart},t.m1={val:e.redirectEnd-e.redirectStart},t.m2={val:e.domainLookupEnd-e.domainLookupStart},t.m3={val:e.connectEnd-e.connectStart},t.m4={val:e.responseStart-e.requestStart},t.m5={val:e.responseEnd-e.responseStart},t.m6={val:e.domInteractive-e.domLoading},t.m7={val:e.domContentLoadedEventEnd-e.domContentLoadedEventStart},t.m8={val:e.loadEventEnd-e.loadEventStart},t.m9={val:e.domComplete-e.domLoading},t.n0={val:e.responseStart-e.navigationStart},t.n1={val:e.domContentLoadedEventStart-e.navigationStart},t.n2={val:e.loadEventStart-e.navigationStart},t.n3={val:e.responseStart-e.fetchStart},t.n4={val:e.domContentLoadedEventStart-e.fetchStart},t.n5={val:e.loadEventStart-e.fetchStart},t.n6={val:e.domContentLoadedEventStart-e.responseStart},t.n7={val:e.loadEventStart-e.responseStart},t.e0={val:(new Date).getTime()-i.pageStartTime},i.browserLoadTime=e.loadEventEnd-i.pageStartTime,t},i.logCustom=function(t){var e=["ttfb","hready","3pty","aws","srss","srse","rv"];if(!this.alreadyLogged[t.name]){var a=t.name.split(":load");1<a.length&&(t.name=a[0],this.loadTypeBeacons.push(t.name)),void 0!==t.val&&null!==t.val||(t.val=(new Date).getTime()-this.pageStartTime),e.includes(t.name)?(this.messages[t.name]=t,this.params[t.name]=t,this.customLoadBeacons.push(t.name)):this.messages.additionalMetrics[t.name]=t,this.alreadyLogged[t.name]=t.val,this.mainBeaconSent&&7<Object.keys(this.messages).length+Object.keys(this.messages.additionalMetrics).length&&this.sendCustom(),dio.event.publish("hrum:"+t.name,{defer:!0})}},i.clearCustom=function(){this.messages={additionalMetrics:{}}},i.sendCustom=function(){if(Object.keys(this.messages).length){var t=h({},this.defaultParams,a(this.messages));n(t)}this.clearCustom()};var r=i.getBrowserInfo(t),o=i.getUserAgent(navigator.userAgent)||i.getUserAgent(navigator.appVersion)||"an unknown version",d=i.getBrowserInfo(e);if(i.defaultParams={eventType:"speedMetrics",c0:window.location.hostname,c1:r,c2:o+"",c3:d,g:i.viewGuid,kes:!1,rm:"ssr"},i.logWhenReady=function(){m.setTimeout(function(){dio.mix(i.params,i.getTimings()),i.beacon()},1e3)},i.pageStartTime=m.performance.timing.responseStart,m.performance.timing.loadEventEnd?i.logWhenReady():m.addEventListener("load",i.logWhenReady,!1),i.preloadData)for(var g=0,l;void 0!==l,l=i.preloadData[g];g++)l.subtract&&"start"===l.subtract&&(l.val=l.val-i.pageStartTime),i.logCustom(l);dio.logging=i}},dio.logging.hreadyStart=(new Date).getTime(),dio.loggingTimer=setInterval(function(){this.count=++this.count||1,window.commonDataBlock||this.count>dio.loggingTimerCount,1,clearInterval(dio.loggingTimer),new dio.hrum(window,dio.logging,window.commonDataBlock||{user:{},page:{},marketing:{},mvtHistory:{}})},50);
/*! core/dio/dio.uilogging.js*/
"use strict";!function(){if(dio.logging&&"performance"in window){dio.uiLogging={};var o=function o(){dio.logging.logCustom({name:"uior",val:0<Math.abs(window.orientation)?1:0}),dio.logging.logCustom({name:"uiorac",val:document.activeElement.id||document.activeElement.nodeName}),dio.event.unsubscribe("orientationChange",o)},e,n,t,i,g,a,l,s;if(dio.event.subscribe("orientationChange",o),dio.event.subscribe("bindUI:Query",function(){if(!dio.logging.sqmLoggingInit){dio.logging.sqmLoggingInit=!0;var e=dio.widget.Query.instances[0];if(e.destination.on("keydown.hrumsqm",function(o){9===o.keyCode&&(e.destination.off("keydown.hrumsqm"),dio.logging.logCustom({name:"uitab",val:1}))}),dio.widget.AutoSuggest&&dio.widget.AutoSuggest.instances.length){var n=dio.widget.AutoSuggest.instances[0];n.autosuggestEl.on("keydown.hrumas",function(o){var e={37:"l",39:"r",40:"d",38:"u",27:"t"};e[o.keyCode]&&(n.autosuggestEl.off("keydown.hrumas"),dio.logging.logCustom({name:"uiarr",val:e[o.keyCode]}))})}}}),!dio.browser.features.touch&&Modernizr.localstorage)(function o(){var e=localStorage.getItem("tabcount");e=e?1+~~e:1,dio.logging.logCustom({name:"uitcount",val:Math.max(e,1),desc:"Number of hcom tabs open"}),localStorage.setItem("tabcount",e)})(),$(window).on("beforeunload",function(){localStorage.setItem("tabcount",~~localStorage.getItem("tabcount")-1)});if(dio.event.subscribe("bindUI:SearchFilters",function(){dio.logging.logCustom({name:"psrpf",desc:"SRP filters ready"})}),function(){function o(){e.naturalWidth&&(dio.logging.logCustom({name:"psrpi:load",desc:"SRP 1st results image loaded"}),clearInterval(n))}var e=void 0,n=void 0;$(".u-photo").length&&(e=$(".hotel:eq(0) .u-photo").filter(function(){return dio.inViewport($(this))}),n=setInterval(o,100))}(),dio.onWidgetEvent("ImageCarousel","init",function(){function o(){e.naturalWidth&&(dio.logging.logCustom({name:"ppdp:load",desc:"PDP main image loaded"}),clearInterval(n))}var e=void 0,n=void 0;document.getElementById("hotel-description")&&(e=$("li[data-carousel-index=0] img, .widget-carousel li img")).length&&(e=e[0],n=setInterval(o,100))}),dio.event.subscribe("bindUI:Query",function o(){dio.logging.logCustom({name:"psqm:load",desc:"SQM ready"}),dio.event.unsubscribe("bindUI:Query",o)}),dio.widget.AutoSuggest&&dio.widget.AutoSuggest.instances.length?dio.logging.logCustom({name:"psrs:load",val:dio.widget.AutoSuggest.instances[0].readyTime,subtract:"start",desc:"SRS ready"}):dio.event.subscribe("bindUI:AutoSuggest",function(){dio.logging.logCustom({name:"psrs:load",desc:"SRS ready"})}),dio.getObjectByName("commonDataBlock.mvtHistory.mvts")&&~commonDataBlock.mvtHistory.mvts.indexOf("2596.1")&&Modernizr.localstorage){var d=[];$("link[rel=stylesheet], script[src]").each(function(o,e){~(e.href||e.src).indexOf("cdn-hotels.com")&&d.push((e.href||e.src).split("/").pop())});var u=localStorage.getItem("hrumss");if(u){u=u.split("|");for(var r=[],m=0;m<u.length;m++)-1===$.inArray(u[m],d)&&(r.push(u[m]),r.push(d));4<r.length&&dio.logging.logCustom({name:"usplit",val:r.join(">")})}localStorage.setItem("hrumss",d.join("|"))}$(function(){for(var o=document.getElementsByName("ad"),e=0,n;o[e]&&(n=o[e].getBoundingClientRect());e++)if(25<n.bottom-n.top)return 0;dio.logging.logCustom({name:"padb",val:1,desc:"Adblock enabled"})}),g=i=t=n=void 0,dio.onWidgetEvent("Map","init",function(){n=(new Date).getTime()}),dio.event.subscribe("mapApiReady",function(){!t&&dio.logging.logCustom({name:"pmt",val:(new Date).getTime()-n}),t=1}),dio.onWidgetEvent("Map","tilesRequestDone",function(){!i&&dio.logging.logCustom({name:"pmp",val:(new Date).getTime()-n}),i=1}),dio.onWidgetEvent("Map","availabilityRequestDone",function(){1,dio.logging.logCustom({name:"pmpc",val:(new Date).getTime()-n}),i=1}),a=void 0,dio.onWidgetEvent("Sica","init",function(){a=(new Date).getTime()}),dio.onWidgetEvent("Sica","sicaReady",function(){dio.logging.logCustom({name:"pj",val:(new Date).getTime()-a})}),function(){var o=document.cookie.split("akacd_pr_");if(1<o.length)for(var e=/^(\d+).+rv=(\d+)/,n=1;n<o.length;n++){var t=o[n].match(e);t&&t.length&&dio.logging.logCustom({name:"akrv"+t[1],val:t[2]})}var i=!1;/(?:^| )aws=1(?:;|$)/.test(document.cookie)&&(i=!0),dio.logging.logCustom({name:"aws",val:i})}(),dio.event.subscribe("widgetLoaded:TripPlanner:LazyWidgetLoader",function(){dio.logging.logCustom({name:"hptp"})}),dio.event.subscribe("widgetLoaded:RecentSearchesAndHotels:LazyWidgetLoader",function(){dio.logging.logCustom({name:"hprs"})}),l=function o(){dio.logging.logCustom({name:"srss"})},s=function o(){dio.logging.logCustom({name:"srse"}),dio.event.unsubscribe("request:AutoSuggest",l),dio.event.unsubscribe("response:AutoSuggest",o)},dio.event.subscribe("request:AutoSuggest",l),dio.event.subscribe("response:AutoSuggest",s),dio.uiLogging.log3rdParty=function(){if(performance.getEntriesByType&&hcomClientData["common.assetsBaseUrl"]){var o=performance.getEntriesByType("resource"),e=void 0,n=location.host+"/",t=hcomClientData["common.assetsBaseUrl"].match(/\/\/([^/]+)/);if(dio.logging.logCustom({name:"unl"}),t&&t.length){t=t[1];for(var i=o.length-1,g,a;i&&(g=o[i]);i--)for(e||g.name.includes(n)||g.name.includes(t)||g.name.includes("hrum")||g.name.includes("lookup.hotels")||g.name.includes("com/b/ss")||(e=g,dio.logging.logCustom({name:"3ptye",val:Math.round(g.startTime+g.duration)})),g.name.includes("Bootstrap.js")&&(dio.logging.logCustom({name:"ensbs",val:Math.round(g.startTime)}),dio.logging.logCustom({name:"ensbd",val:Math.round(g.duration)})),dio.logging.logUrlInfo[g.name]&&dio.logging.logCustom({name:dio.logging.logUrlInfo[g.name].log.name,val:Math.round(g[dio.logging.logUrlInfo[g.name].log.type])}),a=0;a<dio.logging.countByUrlInfo.length;a++)g.name.includes(dio.logging.countByUrlInfo[a].url)&&dio.logging.countByUrlInfo[a].count++;for(var l=0;l<dio.logging.countByUrlInfo.length;l++)dio.logging.logCustom({name:dio.logging.countByUrlInfo[l].log.name,val:dio.logging.countByUrlInfo[l].count})}}},dio.logging.logUrlInfo={},dio.uiLogging.logUrlTime=function(o){dio.logging.logUrlInfo[o.url]=o},dio.logging.countByUrlInfo=[],dio.uiLogging.countByUrl=function(o){dio.logging.countByUrlInfo.push(o)}}}();
/*! core/third-party/soyutils.js*/
var goog=goog||{};goog.DEBUG=!1,goog.inherits=function(t,i){function e(){}e.prototype=i.prototype,t.superClass_=i.prototype,t.prototype=new e,(t.prototype.constructor=t).base=function(t,e,n){var o=Array.prototype.slice.call(arguments,2);return i.prototype[e].apply(t,o)}},goog.userAgent||(goog.userAgent=function(){var t="";"undefined"!=typeof navigator&&navigator&&"string"==typeof navigator.userAgent&&(t=navigator.userAgent);var e=0==t.indexOf("Opera");return{jscript:{HAS_JSCRIPT:"ScriptEngine"in this},OPERA:e,IE:!e&&-1!=t.indexOf("MSIE"),WEBKIT:!e&&-1!=t.indexOf("WebKit")}}()),goog.asserts||(goog.asserts={assert:function(t){if(!t)throw Error("Assertion error")},fail:function(t){}}),goog.dom||(goog.dom={},goog.dom.DomHelper=function(t){this.document_=t||document},goog.dom.DomHelper.prototype.getDocument=function(){return this.document_},goog.dom.DomHelper.prototype.createElement=function(t){return this.document_.createElement(t)},goog.dom.DomHelper.prototype.createDocumentFragment=function(){return this.document_.createDocumentFragment()}),goog.format||(goog.format={insertWordBreaks:function(t,e){for(var n=[],o=0,i=!1,r=!1,a=0,s=0,_=0,d=(t=String(t)).length;_<d;++_){var y=t.charCodeAt(_);if(e<=a&&32!=y&&(n[o++]=t.substring(s,_),s=_,n[o++]=goog.format.WORD_BREAK,a=0),i)62==y&&(i=!1);else if(r)switch(y){case 59:r=!1,++a;break;case 60:i=!(r=!1);break;case 32:r=!1,a=0}else switch(y){case 60:i=!0;break;case 38:r=!0;break;case 32:a=0;break;default:++a}}return n[o++]=t.substring(s),n.join("")},WORD_BREAK:goog.userAgent.WEBKIT?"<wbr></wbr>":goog.userAgent.OPERA?"&shy;":goog.userAgent.IE?"&#8203;":"<wbr>"}),goog.i18n||(goog.i18n={bidi:{}}),goog.i18n.bidi.IS_RTL=!1,goog.i18n.bidi.Dir={LTR:1,RTL:-1,NEUTRAL:0,UNKNOWN:0},goog.i18n.bidi.toDir=function(t,e){return"number"==typeof t?0<t?goog.i18n.bidi.Dir.LTR:t<0?goog.i18n.bidi.Dir.RTL:e?null:goog.i18n.bidi.Dir.NEUTRAL:null==t?null:t?goog.i18n.bidi.Dir.RTL:goog.i18n.bidi.Dir.LTR},goog.i18n.bidi.estimateDirection=function(t,e){for(var n=0,o=0,i=!1,r=soyshim.$$bidiStripHtmlIfNecessary_(t,e).split(soyshim.$$bidiWordSeparatorRe_),a=0;a<r.length;a++){var s=r[a];soyshim.$$bidiRtlDirCheckRe_.test(s)?(n++,o++):soyshim.$$bidiIsRequiredLtrRe_.test(s)?i=!0:soyshim.$$bidiLtrCharRe_.test(s)?o++:soyshim.$$bidiHasNumeralsRe_.test(s)&&(i=!0)}return 0==o?i?goog.i18n.bidi.Dir.LTR:goog.i18n.bidi.Dir.NEUTRAL:n/o>soyshim.$$bidiRtlDetectionThreshold_?goog.i18n.bidi.Dir.RTL:goog.i18n.bidi.Dir.LTR},goog.i18n.BidiFormatter=function(t){this.dir_=goog.i18n.bidi.toDir(t,!0)},goog.i18n.BidiFormatter.prototype.getContextDir=function(){return this.dir_},goog.i18n.BidiFormatter.prototype.knownDirAttr=function(t){return t&&t!=this.dir_?t<0?'dir="rtl"':'dir="ltr"':""},goog.i18n.BidiFormatter.prototype.endEdge=function(){return this.dir_<0?"left":"right"},goog.i18n.BidiFormatter.prototype.mark=function(){return 0<this.dir_?"‎":this.dir_<0?"‏":""},goog.i18n.BidiFormatter.prototype.markAfterKnownDir=function(t,e,n){return null==t&&(t=goog.i18n.bidi.estimateDirection(e,n)),0<this.dir_&&(t<0||soyshim.$$bidiIsRtlExitText_(e,n))?"‎":this.dir_<0&&(0<t||soyshim.$$bidiIsLtrExitText_(e,n))?"‏":""},goog.i18n.BidiFormatter.prototype.spanWrapWithKnownDir=function(t,e,n){null==t&&(t=goog.i18n.bidi.estimateDirection(e,!0));var o=this.markAfterKnownDir(t,e,!0);return 0<t&&this.dir_<=0?e='<span dir="ltr">'+e+"</span>":t<0&&0<=this.dir_&&(e='<span dir="rtl">'+e+"</span>"),e+o},goog.i18n.BidiFormatter.prototype.startEdge=function(){return this.dir_<0?"right":"left"},goog.i18n.BidiFormatter.prototype.unicodeWrapWithKnownDir=function(t,e,n){null==t&&(t=goog.i18n.bidi.estimateDirection(e,n));var o=this.markAfterKnownDir(t,e,n);return 0<t&&this.dir_<=0?e="‪"+e+"‬":t<0&&0<=this.dir_&&(e="‫"+e+"‬"),e+o},goog.string||(goog.string={newLineToBr:function(t,e){return t=String(t),goog.string.NEWLINE_TO_BR_RE_.test(t)?t.replace(/(\r\n|\r|\n)/g,e?"<br />":"<br>"):t},urlEncode:encodeURIComponent,NEWLINE_TO_BR_RE_:/[\r\n]/}),goog.string.StringBuffer=function(t,e){this.buffer_=goog.userAgent.jscript.HAS_JSCRIPT?[]:"",null!=t&&this.append.apply(this,arguments)},goog.string.StringBuffer.prototype.bufferLength_=0,goog.string.StringBuffer.prototype.append=function(t,e,n){if(goog.userAgent.jscript.HAS_JSCRIPT)if(null==e)this.buffer_[this.bufferLength_++]=t;else{var o=this.buffer_;o.push.apply(o,arguments),this.bufferLength_=this.buffer_.length}else if(this.buffer_+=t,null!=e)for(var i=1;i<arguments.length;i++)this.buffer_+=arguments[i];return this},goog.string.StringBuffer.prototype.clear=function(){goog.userAgent.jscript.HAS_JSCRIPT?(this.buffer_.length=0,this.bufferLength_=0):this.buffer_=""},goog.string.StringBuffer.prototype.toString=function(){if(goog.userAgent.jscript.HAS_JSCRIPT){var t=this.buffer_.join("");return this.clear(),t&&this.append(t),t}return this.buffer_},goog.soy||(goog.soy={renderAsElement:function(t,e,n,o){return soyshim.$$renderWithWrapper_(t,e,o,!0,n)},renderAsFragment:function(t,e,n,o){return soyshim.$$renderWithWrapper_(t,e,o,!1,n)},renderElement:function(t,e,n,o){t.innerHTML=e(n,null,o)},data:{}}),goog.soy.data.SanitizedContentKind={HTML:goog.DEBUG?{sanitizedContentKindHtml:!0}:{},JS:goog.DEBUG?{sanitizedContentJsChars:!0}:{},JS_STR_CHARS:goog.DEBUG?{sanitizedContentJsStrChars:!0}:{},URI:goog.DEBUG?{sanitizedContentUri:!0}:{},ATTRIBUTES:goog.DEBUG?{sanitizedContentHtmlAttribute:!0}:{},CSS:goog.DEBUG?{sanitizedContentCss:!0}:{},TEXT:goog.DEBUG?{sanitizedContentKindText:!0}:{}},goog.soy.data.SanitizedContent=function(){throw Error("Do not instantiate directly")},goog.soy.data.SanitizedContent.prototype.contentKind,goog.soy.data.SanitizedContent.prototype.contentDir=null,goog.soy.data.SanitizedContent.prototype.content,goog.soy.data.SanitizedContent.prototype.toString=function(){return this.content};var soy={esc:{}},soydata={VERY_UNSAFE:{}},soyshim={$$DEFAULT_TEMPLATE_DATA_:{},$$renderWithWrapper_:function(t,e,n,o,i){var r=n||document,a=r.createElement("div");if(a.innerHTML=t(e||soyshim.$$DEFAULT_TEMPLATE_DATA_,void 0,i),1==a.childNodes.length){var s=a.firstChild;if(!o||1==s.nodeType)return s}if(o)return a;for(var _=r.createDocumentFragment();a.firstChild;)_.appendChild(a.firstChild);return _},$$bidiStripHtmlIfNecessary_:function(t,e){return e?t.replace(soyshim.$$BIDI_HTML_SKIP_RE_,""):t},$$BIDI_HTML_SKIP_RE_:/<[^>]*>|&[^;]+;/g,$$bidiLtrChars_:"A-Za-zÀ-ÖØ-öø-ʸ̀-֐ࠀ-῿‎Ⰰ-﬜︀-﹯﻽-￿",$$bidiRtlChars_:"֑-߿‏יִ-﷿ﹰ-ﻼ"};soyshim.$$bidiRtlDirCheckRe_=new RegExp("^[^"+soyshim.$$bidiLtrChars_+"]*["+soyshim.$$bidiRtlChars_+"]"),soyshim.$$bidiLtrCharRe_=new RegExp("["+soyshim.$$bidiLtrChars_+"]"),soyshim.$$bidiIsRequiredLtrRe_=/^http:\/\/.*/,soyshim.$$bidiHasNumeralsRe_=/\d/,soyshim.$$bidiWordSeparatorRe_=/\s+/,soyshim.$$bidiRtlDetectionThreshold_=.4,soyshim.$$bidiLtrExitDirCheckRe_=new RegExp("["+soyshim.$$bidiLtrChars_+"][^"+soyshim.$$bidiRtlChars_+"]*$"),soyshim.$$bidiRtlExitDirCheckRe_=new RegExp("["+soyshim.$$bidiRtlChars_+"][^"+soyshim.$$bidiLtrChars_+"]*$"),soyshim.$$bidiIsLtrExitText_=function(t,e){return t=soyshim.$$bidiStripHtmlIfNecessary_(t,e),soyshim.$$bidiLtrExitDirCheckRe_.test(t)},soyshim.$$bidiIsRtlExitText_=function(t,e){return t=soyshim.$$bidiStripHtmlIfNecessary_(t,e),soyshim.$$bidiRtlExitDirCheckRe_.test(t)},soy.StringBuilder=goog.string.StringBuffer,soydata.SanitizedContentKind=goog.soy.data.SanitizedContentKind,soydata.isContentKind=function(t,e){return null!=t&&t.contentKind===e},soydata.getContentDir=function(t){if(null!=t)switch(t.contentDir){case goog.i18n.bidi.Dir.LTR:return goog.i18n.bidi.Dir.LTR;case goog.i18n.bidi.Dir.RTL:return goog.i18n.bidi.Dir.RTL;case goog.i18n.bidi.Dir.NEUTRAL:return goog.i18n.bidi.Dir.NEUTRAL}return null},soydata.SanitizedHtml=function(){goog.soy.data.SanitizedContent.call(this)},goog.inherits(soydata.SanitizedHtml,goog.soy.data.SanitizedContent),soydata.SanitizedHtml.prototype.contentKind=soydata.SanitizedContentKind.HTML,soydata.SanitizedHtml.from=function(t){return null!=t&&t.contentKind===soydata.SanitizedContentKind.HTML?(goog.asserts.assert(t.constructor===soydata.SanitizedHtml),t):soydata.VERY_UNSAFE.ordainSanitizedHtml(soy.esc.$$escapeHtmlHelper(String(t)),soydata.getContentDir(t))},soydata.SanitizedJs=function(){goog.soy.data.SanitizedContent.call(this)},goog.inherits(soydata.SanitizedJs,goog.soy.data.SanitizedContent),soydata.SanitizedJs.prototype.contentKind=soydata.SanitizedContentKind.JS,soydata.SanitizedJs.prototype.contentDir=goog.i18n.bidi.Dir.LTR,soydata.SanitizedJsStrChars=function(){goog.soy.data.SanitizedContent.call(this)},goog.inherits(soydata.SanitizedJsStrChars,goog.soy.data.SanitizedContent),soydata.SanitizedJsStrChars.prototype.contentKind=soydata.SanitizedContentKind.JS_STR_CHARS,soydata.SanitizedUri=function(){goog.soy.data.SanitizedContent.call(this)},goog.inherits(soydata.SanitizedUri,goog.soy.data.SanitizedContent),soydata.SanitizedUri.prototype.contentKind=soydata.SanitizedContentKind.URI,soydata.SanitizedUri.prototype.contentDir=goog.i18n.bidi.Dir.LTR,soydata.SanitizedHtmlAttribute=function(){goog.soy.data.SanitizedContent.call(this)},goog.inherits(soydata.SanitizedHtmlAttribute,goog.soy.data.SanitizedContent),soydata.SanitizedHtmlAttribute.prototype.contentKind=soydata.SanitizedContentKind.ATTRIBUTES,soydata.SanitizedHtmlAttribute.prototype.contentDir=goog.i18n.bidi.Dir.LTR,soydata.SanitizedCss=function(){goog.soy.data.SanitizedContent.call(this)},goog.inherits(soydata.SanitizedCss,goog.soy.data.SanitizedContent),soydata.SanitizedCss.prototype.contentKind=soydata.SanitizedContentKind.CSS,soydata.SanitizedCss.prototype.contentDir=goog.i18n.bidi.Dir.LTR,soydata.UnsanitizedText=function(t,e){this.content=String(t),this.contentDir=null!=e?e:null},goog.inherits(soydata.UnsanitizedText,goog.soy.data.SanitizedContent),soydata.UnsanitizedText.prototype.contentKind=soydata.SanitizedContentKind.TEXT,soydata.$$EMPTY_STRING_={VALUE:""},soydata.$$makeSanitizedContentFactory_=function(t){function o(){}function e(t,e){var n=new o;return n.content=String(t),void 0!==e&&(n.contentDir=e),n}return o.prototype=t.prototype,e},soydata.$$makeSanitizedContentFactoryWithDefaultDirOnly_=function(t){function n(){}function e(t){var e=new n;return e.content=String(t),e}return n.prototype=t.prototype,e},soydata.markUnsanitizedText=function(t,e){return new soydata.UnsanitizedText(t,e)},soydata.VERY_UNSAFE.ordainSanitizedHtml=soydata.$$makeSanitizedContentFactory_(soydata.SanitizedHtml),soydata.VERY_UNSAFE.ordainSanitizedJs=soydata.$$makeSanitizedContentFactoryWithDefaultDirOnly_(soydata.SanitizedJs),soydata.VERY_UNSAFE.ordainSanitizedJsStrChars=soydata.$$makeSanitizedContentFactory_(soydata.SanitizedJsStrChars),soydata.VERY_UNSAFE.ordainSanitizedUri=soydata.$$makeSanitizedContentFactoryWithDefaultDirOnly_(soydata.SanitizedUri),soydata.VERY_UNSAFE.ordainSanitizedHtmlAttribute=soydata.$$makeSanitizedContentFactoryWithDefaultDirOnly_(soydata.SanitizedHtmlAttribute),soydata.VERY_UNSAFE.ordainSanitizedCss=soydata.$$makeSanitizedContentFactoryWithDefaultDirOnly_(soydata.SanitizedCss),soy.renderElement=goog.soy.renderElement,soy.renderAsFragment=function(t,e,n,o){return goog.soy.renderAsFragment(t,e,o,new goog.dom.DomHelper(n))},soy.renderAsElement=function(t,e,n,o){return goog.soy.renderAsElement(t,e,o,new goog.dom.DomHelper(n))},soy.$$IS_LOCALE_RTL=goog.i18n.bidi.IS_RTL,soy.$$augmentMap=function(t,e){function n(){}n.prototype=t;var o=new n;for(var i in e)o[i]=e[i];return o},soy.$$checkMapKey=function(t){if("string"!=typeof t)throw Error("Map literal's key expression must evaluate to string (encountered type \""+typeof t+'").');return t},soy.$$getMapKeys=function(t){var e=[];for(var n in t)e.push(n);return e},soy.$$getDelTemplateId=function(t){return t},soy.$$DELEGATE_REGISTRY_PRIORITIES_={},soy.$$DELEGATE_REGISTRY_FUNCTIONS_={},soy.$$registerDelegateFn=function(t,e,n,o){var i="key_"+t+":"+e,r=soy.$$DELEGATE_REGISTRY_PRIORITIES_[i];if(void 0===r||r<n)soy.$$DELEGATE_REGISTRY_PRIORITIES_[i]=n,soy.$$DELEGATE_REGISTRY_FUNCTIONS_[i]=o;else if(n==r)throw Error('Encountered two active delegates with the same priority ("'+t+":"+e+'").')},soy.$$getDelegateFnOriginal=function(t,e,n){var o=soy.$$DELEGATE_REGISTRY_FUNCTIONS_["key_"+t+":"+e];if(o||""==e||(o=soy.$$DELEGATE_REGISTRY_FUNCTIONS_["key_"+t+":"]),o)return o;if(n)return soy.$$EMPTY_TEMPLATE_FN_;throw Error('Found no active impl for delegate call to "'+t+":"+e+'" (and not allowemptydefault="true").')},soy.$$getDelegateFn=function(t,e,n){var o=soy.$$getDelegateFnOriginal(t,e,n);return o&&o!==soy.$$EMPTY_TEMPLATE_FN_&&dio.sitecatalyst&&dio.sitecatalyst.sendMvtReportForDelTemplate(t),o},soy.$$EMPTY_TEMPLATE_FN_=function(t,e,n){return""},soydata.$$makeSanitizedContentFactoryForInternalBlocks_=function(t){function i(){}function e(t,e){var n;if(!String(t))return soydata.$$EMPTY_STRING_.VALUE;var o=new i;return o.content=String(t),void 0!==e&&(o.contentDir=e),o}return i.prototype=t.prototype,e},soydata.$$makeSanitizedContentFactoryWithDefaultDirOnlyForInternalBlocks_=function(t){function o(){}function e(t){var e;if(!String(t))return soydata.$$EMPTY_STRING_.VALUE;var n=new o;return n.content=String(t),n}return o.prototype=t.prototype,e},soydata.$$markUnsanitizedTextForInternalBlocks=function(t,e){var n=String(t);return n?new soydata.UnsanitizedText(n,e):soydata.$$EMPTY_STRING_.VALUE},soydata.VERY_UNSAFE.$$ordainSanitizedHtmlForInternalBlocks=soydata.$$makeSanitizedContentFactoryForInternalBlocks_(soydata.SanitizedHtml),soydata.VERY_UNSAFE.$$ordainSanitizedJsForInternalBlocks=soydata.$$makeSanitizedContentFactoryWithDefaultDirOnlyForInternalBlocks_(soydata.SanitizedJs),soydata.VERY_UNSAFE.$$ordainSanitizedUriForInternalBlocks=soydata.$$makeSanitizedContentFactoryWithDefaultDirOnlyForInternalBlocks_(soydata.SanitizedUri),soydata.VERY_UNSAFE.$$ordainSanitizedAttributesForInternalBlocks=soydata.$$makeSanitizedContentFactoryWithDefaultDirOnlyForInternalBlocks_(soydata.SanitizedHtmlAttribute),soydata.VERY_UNSAFE.$$ordainSanitizedCssForInternalBlocks=soydata.$$makeSanitizedContentFactoryWithDefaultDirOnlyForInternalBlocks_(soydata.SanitizedCss),soy.$$escapeHtml=function(t){return soydata.SanitizedHtml.from(t)},soy.$$cleanHtml=function(t){return soydata.isContentKind(t,soydata.SanitizedContentKind.HTML)?(goog.asserts.assert(t.constructor===soydata.SanitizedHtml),t):soydata.VERY_UNSAFE.ordainSanitizedHtml(soy.$$stripHtmlTags(t,soy.esc.$$SAFE_TAG_WHITELIST_),soydata.getContentDir(t))},soy.$$escapeHtmlRcdata=function(t){return soydata.isContentKind(t,soydata.SanitizedContentKind.HTML)?(goog.asserts.assert(t.constructor===soydata.SanitizedHtml),soy.esc.$$normalizeHtmlHelper(t.content)):soy.esc.$$escapeHtmlHelper(t)},soy.$$HTML5_VOID_ELEMENTS_=new RegExp("^<(?:area|base|br|col|command|embed|hr|img|input|keygen|link|meta|param|source|track|wbr)\\b"),soy.$$stripHtmlTags=function(t,i){if(!i)return String(t).replace(soy.esc.$$HTML_TAG_REGEX_,"").replace(soy.esc.$$LT_REGEX_,"&lt;");var e=String(t).replace(/\[/g,"&#91;"),r=[];e=e.replace(soy.esc.$$HTML_TAG_REGEX_,function(t,e){if(e&&(e=e.toLowerCase(),i.hasOwnProperty(e)&&i[e])){var n="/"===t.charAt(1)?"</":"<",o=r.length;return r[o]=n+e+">","["+o+"]"}return""}),e=soy.esc.$$normalizeHtmlHelper(e);var n=soy.$$balanceTags_(r);return(e=e.replace(/\[(\d+)\]/g,function(t,e){return r[e]}))+n},soy.$$balanceTags_=function(t){for(var e=[],n=0,o=t.length;n<o;++n){var i=t[n];if("/"===i.charAt(1)){for(var r=e.length-1;0<=r&&e[r]!=i;)r--;r<0?t[n]="":(t[n]=e.slice(r).reverse().join(""),e.length=r)}else soy.$$HTML5_VOID_ELEMENTS_.test(i)||e.push("</"+i.substring(1))}return e.reverse().join("")},soy.$$escapeHtmlAttribute=function(t){return soydata.isContentKind(t,soydata.SanitizedContentKind.HTML)?(goog.asserts.assert(t.constructor===soydata.SanitizedHtml),soy.esc.$$normalizeHtmlHelper(soy.$$stripHtmlTags(t.content))):soy.esc.$$escapeHtmlHelper(t)},soy.$$escapeHtmlAttributeNospace=function(t){return soydata.isContentKind(t,soydata.SanitizedContentKind.HTML)?(goog.asserts.assert(t.constructor===soydata.SanitizedHtml),soy.esc.$$normalizeHtmlNospaceHelper(soy.$$stripHtmlTags(t.content))):soy.esc.$$escapeHtmlNospaceHelper(t)},soy.$$filterHtmlAttributes=function(t){return soydata.isContentKind(t,soydata.SanitizedContentKind.ATTRIBUTES)?(goog.asserts.assert(t.constructor===soydata.SanitizedHtmlAttribute),t.content.replace(/([^"'\s])$/,"$1 ")):soy.esc.$$filterHtmlAttributesHelper(t)},soy.$$filterHtmlElementName=function(t){return soy.esc.$$filterHtmlElementNameHelper(t)},soy.$$escapeJs=function(t){return soy.$$escapeJsString(t)},soy.$$escapeJsString=function(t){return soydata.isContentKind(t,soydata.SanitizedContentKind.JS_STR_CHARS)?(goog.asserts.assert(t.constructor===soydata.SanitizedJsStrChars),t.content):soy.esc.$$escapeJsStringHelper(t)},soy.$$escapeJsValue=function(t){if(null==t)return" null ";if(soydata.isContentKind(t,soydata.SanitizedContentKind.JS))return goog.asserts.assert(t.constructor===soydata.SanitizedJs),t.content;switch(typeof t){case"boolean":case"number":return" "+t+" ";default:return"'"+soy.esc.$$escapeJsStringHelper(String(t))+"'"}},soy.$$escapeJsRegex=function(t){return soy.esc.$$escapeJsRegexHelper(t)},soy.$$problematicUriMarks_=/['()]/g,soy.$$pctEncode_=function(t){return"%"+t.charCodeAt(0).toString(16)},soy.$$escapeUri=function(t){if(soydata.isContentKind(t,soydata.SanitizedContentKind.URI))return goog.asserts.assert(t.constructor===soydata.SanitizedUri),soy.$$normalizeUri(t);var e=soy.esc.$$escapeUriHelper(t);return soy.$$problematicUriMarks_.lastIndex=0,soy.$$problematicUriMarks_.test(e)?e.replace(soy.$$problematicUriMarks_,soy.$$pctEncode_):e},soy.$$normalizeUri=function(t){return soy.esc.$$normalizeUriHelper(t)},soy.$$filterNormalizeUri=function(t){return soydata.isContentKind(t,soydata.SanitizedContentKind.URI)?(goog.asserts.assert(t.constructor===soydata.SanitizedUri),soy.$$normalizeUri(t)):soy.esc.$$filterNormalizeUriHelper(t)},soy.$$filterNormalizeMediaUri=function(t){return soydata.isContentKind(t,soydata.SanitizedContentKind.URI)?soy.$$normalizeUri(t):soydata.isContentKind(t,soydata.SanitizedContentKind.TRUSTED_RESOURCE_URI)?soy.$$normalizeUri(t):soy.esc.$$filterNormalizeMediaUriHelper(t)},soy.$$filterImageDataUri=function(t){return soydata.VERY_UNSAFE.ordainSanitizedUri(soy.esc.$$filterImageDataUriHelper(t))},soy.$$escapeCssString=function(t){return soy.esc.$$escapeCssStringHelper(t)},soy.$$filterCssValue=function(t){return soydata.isContentKind(t,soydata.SanitizedContentKind.CSS)?(goog.asserts.assert(t.constructor===soydata.SanitizedCss),t.content):null==t?"":soy.esc.$$filterCssValueHelper(t)},soy.$$filterNoAutoescape=function(t){return soydata.isContentKind(t,soydata.SanitizedContentKind.TEXT)?(goog.asserts.fail("Tainted SanitizedContentKind.TEXT for |noAutoescape: `%s`",[t.content]),"zSoyz"):t},soy.$$changeNewlineToBr=function(t){var e=goog.string.newLineToBr(String(t),!1);return soydata.isContentKind(t,soydata.SanitizedContentKind.HTML)?soydata.VERY_UNSAFE.ordainSanitizedHtml(e,soydata.getContentDir(t)):e},soy.$$insertWordBreaks=function(t,e){var n=goog.format.insertWordBreaks(String(t),e);return soydata.isContentKind(t,soydata.SanitizedContentKind.HTML)?soydata.VERY_UNSAFE.ordainSanitizedHtml(n,soydata.getContentDir(t)):n},soy.$$truncate=function(t,e,n){return(t=String(t)).length<=e?0:(n&&(3<e?e-=3:n=!1),soy.$$isHighSurrogate_(t.charAt(e-1))&&soy.$$isLowSurrogate_(t.charAt(e))&&(e-=1),t=t.substring(0,e),n&&(t+="...")),t},soy.$$isHighSurrogate_=function(t){return 55296<=t&&t<=56319},soy.$$isLowSurrogate_=function(t){return 56320<=t&&t<=57343},soy.$$bidiFormatterCache_={},soy.$$getBidiFormatterInstance_=function(t){return soy.$$bidiFormatterCache_[t]||(soy.$$bidiFormatterCache_[t]=new goog.i18n.BidiFormatter(t))},soy.$$bidiTextDir=function(t,e){var n=soydata.getContentDir(t);if(null!=n)return n;var o=e||soydata.isContentKind(t,soydata.SanitizedContentKind.HTML);return goog.i18n.bidi.estimateDirection(t+"",o)},soy.$$bidiDirAttr=function(t,e,n){var o=soy.$$getBidiFormatterInstance_(t),i=soydata.getContentDir(e);if(null==i){var r=n||soydata.isContentKind(e,soydata.SanitizedContentKind.HTML);i=goog.i18n.bidi.estimateDirection(e+"",r)}return soydata.VERY_UNSAFE.ordainSanitizedHtmlAttribute(o.knownDirAttr(i))},soy.$$bidiMarkAfter=function(t,e,n){var o=soy.$$getBidiFormatterInstance_(t),i=n||soydata.isContentKind(e,soydata.SanitizedContentKind.HTML);return o.markAfterKnownDir(soydata.getContentDir(e),e+"",i)},soy.$$bidiSpanWrap=function(t,e){var n,o;return soy.$$getBidiFormatterInstance_(t).spanWrapWithKnownDir(soydata.getContentDir(e),e+"",!0)},soy.$$bidiUnicodeWrap=function(t,e){var n=soy.$$getBidiFormatterInstance_(t),o=soydata.isContentKind(e,soydata.SanitizedContentKind.HTML),i=n.unicodeWrapWithKnownDir(soydata.getContentDir(e),e+"",o),r=n.getContextDir();return soydata.isContentKind(e,soydata.SanitizedContentKind.TEXT)?new soydata.UnsanitizedText(i,r):o?soydata.VERY_UNSAFE.ordainSanitizedHtml(i,r):soydata.isContentKind(e,soydata.SanitizedContentKind.JS_STR_CHARS)?soydata.VERY_UNSAFE.ordainSanitizedJsStrChars(i,r):i},soy.esc.$$escapeUriHelper=function(t){return encodeURIComponent(String(t))},soy.esc.$$ESCAPE_MAP_FOR_ESCAPE_HTML__AND__NORMALIZE_HTML__AND__ESCAPE_HTML_NOSPACE__AND__NORMALIZE_HTML_NOSPACE_={"\0":"&#0;",'"':"&quot;","&":"&amp;","'":"&#39;","<":"&lt;",">":"&gt;","\t":"&#9;","\n":"&#10;","\v":"&#11;","\f":"&#12;","\r":"&#13;"," ":"&#32;","-":"&#45;","/":"&#47;","=":"&#61;","`":"&#96;","":"&#133;"," ":"&#160;","\u2028":"&#8232;","\u2029":"&#8233;"},soy.esc.$$REPLACER_FOR_ESCAPE_HTML__AND__NORMALIZE_HTML__AND__ESCAPE_HTML_NOSPACE__AND__NORMALIZE_HTML_NOSPACE_=function(t){return soy.esc.$$ESCAPE_MAP_FOR_ESCAPE_HTML__AND__NORMALIZE_HTML__AND__ESCAPE_HTML_NOSPACE__AND__NORMALIZE_HTML_NOSPACE_[t]},soy.esc.$$ESCAPE_MAP_FOR_ESCAPE_JS_STRING__AND__ESCAPE_JS_REGEX_={"\0":"\\x00","\b":"\\x08","\t":"\\t","\n":"\\n","\v":"\\x0b","\f":"\\f","\r":"\\r",'"':"\\x22","&":"\\x26","'":"\\x27","/":"\\/","<":"\\x3c","=":"\\x3d",">":"\\x3e","\\":"\\\\","":"\\x85","\u2028":"\\u2028","\u2029":"\\u2029",$:"\\x24","(":"\\x28",")":"\\x29","*":"\\x2a","+":"\\x2b",",":"\\x2c","-":"\\x2d",".":"\\x2e",":":"\\x3a","?":"\\x3f","[":"\\x5b","]":"\\x5d","^":"\\x5e","{":"\\x7b","|":"\\x7c","}":"\\x7d"},soy.esc.$$REPLACER_FOR_ESCAPE_JS_STRING__AND__ESCAPE_JS_REGEX_=function(t){return soy.esc.$$ESCAPE_MAP_FOR_ESCAPE_JS_STRING__AND__ESCAPE_JS_REGEX_[t]},soy.esc.$$ESCAPE_MAP_FOR_ESCAPE_CSS_STRING_={"\0":"\\0 ","\b":"\\8 ","\t":"\\9 ","\n":"\\a ","\v":"\\b ","\f":"\\c ","\r":"\\d ",'"':"\\22 ","&":"\\26 ","'":"\\27 ","(":"\\28 ",")":"\\29 ","*":"\\2a ","/":"\\2f ",":":"\\3a ",";":"\\3b ","<":"\\3c ","=":"\\3d ",">":"\\3e ","@":"\\40 ","\\":"\\5c ","{":"\\7b ","}":"\\7d ","":"\\85 "," ":"\\a0 ","\u2028":"\\2028 ","\u2029":"\\2029 "},soy.esc.$$REPLACER_FOR_ESCAPE_CSS_STRING_=function(t){return soy.esc.$$ESCAPE_MAP_FOR_ESCAPE_CSS_STRING_[t]},soy.esc.$$ESCAPE_MAP_FOR_NORMALIZE_URI__AND__FILTER_NORMALIZE_URI_={"\0":"%00","":"%01","":"%02","":"%03","":"%04","":"%05","":"%06","":"%07","\b":"%08","\t":"%09","\n":"%0A","\v":"%0B","\f":"%0C","\r":"%0D","":"%0E","":"%0F","":"%10","":"%11","":"%12","":"%13","":"%14","":"%15","":"%16","":"%17","":"%18","":"%19","":"%1A","":"%1B","":"%1C","":"%1D","":"%1E","":"%1F"," ":"%20",'"':"%22","'":"%27","(":"%28",")":"%29","<":"%3C",">":"%3E","\\":"%5C","{":"%7B","}":"%7D","":"%7F","":"%C2%85"," ":"%C2%A0","\u2028":"%E2%80%A8","\u2029":"%E2%80%A9","！":"%EF%BC%81","＃":"%EF%BC%83","＄":"%EF%BC%84","＆":"%EF%BC%86","＇":"%EF%BC%87","（":"%EF%BC%88","）":"%EF%BC%89","＊":"%EF%BC%8A","＋":"%EF%BC%8B","，":"%EF%BC%8C","／":"%EF%BC%8F","：":"%EF%BC%9A","；":"%EF%BC%9B","＝":"%EF%BC%9D","？":"%EF%BC%9F","＠":"%EF%BC%A0","［":"%EF%BC%BB","］":"%EF%BC%BD"},soy.esc.$$REPLACER_FOR_NORMALIZE_URI__AND__FILTER_NORMALIZE_URI_=function(t){return soy.esc.$$ESCAPE_MAP_FOR_NORMALIZE_URI__AND__FILTER_NORMALIZE_URI_[t]},soy.esc.$$MATCHER_FOR_ESCAPE_HTML_=/[\x00\x22\x26\x27\x3c\x3e]/g,soy.esc.$$MATCHER_FOR_NORMALIZE_HTML_=/[\x00\x22\x27\x3c\x3e]/g,soy.esc.$$MATCHER_FOR_ESCAPE_HTML_NOSPACE_=/[\x00\x09-\x0d \x22\x26\x27\x2d\/\x3c-\x3e`\x85\xa0\u2028\u2029]/g,soy.esc.$$MATCHER_FOR_NORMALIZE_HTML_NOSPACE_=/[\x00\x09-\x0d \x22\x27\x2d\/\x3c-\x3e`\x85\xa0\u2028\u2029]/g,soy.esc.$$MATCHER_FOR_ESCAPE_JS_STRING_=/[\x00\x08-\x0d\x22\x26\x27\/\x3c-\x3e\\\x85\u2028\u2029]/g,soy.esc.$$MATCHER_FOR_ESCAPE_JS_REGEX_=/[\x00\x08-\x0d\x22\x24\x26-\/\x3a\x3c-\x3f\x5b-\x5e\x7b-\x7d\x85\u2028\u2029]/g,soy.esc.$$MATCHER_FOR_ESCAPE_CSS_STRING_=/[\x00\x08-\x0d\x22\x26-\x2a\/\x3a-\x3e@\\\x7b\x7d\x85\xa0\u2028\u2029]/g,soy.esc.$$MATCHER_FOR_NORMALIZE_URI__AND__FILTER_NORMALIZE_URI_=/[\x00- \x22\x27-\x29\x3c\x3e\\\x7b\x7d\x7f\x85\xa0\u2028\u2029\uff01\uff03\uff04\uff06-\uff0c\uff0f\uff1a\uff1b\uff1d\uff1f\uff20\uff3b\uff3d]/g,soy.esc.$$FILTER_FOR_FILTER_CSS_VALUE_=/^(?!-*(?:expression|(?:moz-)?binding))(?:[.#]?-?(?:[_a-z0-9-]+)(?:-[_a-z0-9-]+)*-?|-?(?:[0-9]+(?:\.[0-9]*)?|\.[0-9]+)(?:[a-z]{1,2}|%)?|!important|)$/i,soy.esc.$$FILTER_FOR_FILTER_NORMALIZE_URI_=/^(?:(?:https?|mailto):|[^&:\/?#]*(?:[\/?#]|$))/i,soy.esc.$$FILTER_FOR_FILTER_NORMALIZE_MEDIA_URI_=/^[^&:\/?#]*(?:[\/?#]|$)|^https?:|^data:image\/[a-z0-9+]+;base64,[a-z0-9+\/]+=*$|^blob:/i,soy.esc.$$FILTER_FOR_FILTER_IMAGE_DATA_URI_=/^data:image\/(?:bmp|gif|jpe?g|png|tiff|webp);base64,[a-z0-9+\/]+=*$/i,soy.esc.$$FILTER_FOR_FILTER_HTML_ATTRIBUTES_=/^(?!style|on|action|archive|background|cite|classid|codebase|data|dsync|href|longdesc|src|usemap)(?:[a-z0-9_$:-]*)$/i,soy.esc.$$FILTER_FOR_FILTER_HTML_ELEMENT_NAME_=/^(?!script|style|title|textarea|xmp|no)[a-z0-9_$:-]*$/i,soy.esc.$$escapeHtmlHelper=function(t){var e;return String(t).replace(soy.esc.$$MATCHER_FOR_ESCAPE_HTML_,soy.esc.$$REPLACER_FOR_ESCAPE_HTML__AND__NORMALIZE_HTML__AND__ESCAPE_HTML_NOSPACE__AND__NORMALIZE_HTML_NOSPACE_)},soy.esc.$$normalizeHtmlHelper=function(t){var e;return String(t).replace(soy.esc.$$MATCHER_FOR_NORMALIZE_HTML_,soy.esc.$$REPLACER_FOR_ESCAPE_HTML__AND__NORMALIZE_HTML__AND__ESCAPE_HTML_NOSPACE__AND__NORMALIZE_HTML_NOSPACE_)},soy.esc.$$escapeHtmlNospaceHelper=function(t){var e;return String(t).replace(soy.esc.$$MATCHER_FOR_ESCAPE_HTML_NOSPACE_,soy.esc.$$REPLACER_FOR_ESCAPE_HTML__AND__NORMALIZE_HTML__AND__ESCAPE_HTML_NOSPACE__AND__NORMALIZE_HTML_NOSPACE_)},soy.esc.$$normalizeHtmlNospaceHelper=function(t){var e;return String(t).replace(soy.esc.$$MATCHER_FOR_NORMALIZE_HTML_NOSPACE_,soy.esc.$$REPLACER_FOR_ESCAPE_HTML__AND__NORMALIZE_HTML__AND__ESCAPE_HTML_NOSPACE__AND__NORMALIZE_HTML_NOSPACE_)},soy.esc.$$escapeJsStringHelper=function(t){var e;return String(t).replace(soy.esc.$$MATCHER_FOR_ESCAPE_JS_STRING_,soy.esc.$$REPLACER_FOR_ESCAPE_JS_STRING__AND__ESCAPE_JS_REGEX_)},soy.esc.$$escapeJsRegexHelper=function(t){var e;return String(t).replace(soy.esc.$$MATCHER_FOR_ESCAPE_JS_REGEX_,soy.esc.$$REPLACER_FOR_ESCAPE_JS_STRING__AND__ESCAPE_JS_REGEX_)},soy.esc.$$escapeCssStringHelper=function(t){var e;return String(t).replace(soy.esc.$$MATCHER_FOR_ESCAPE_CSS_STRING_,soy.esc.$$REPLACER_FOR_ESCAPE_CSS_STRING_)},soy.esc.$$filterCssValueHelper=function(t){var e=String(t);return soy.esc.$$FILTER_FOR_FILTER_CSS_VALUE_.test(e)?e:"zSoyz"},soy.esc.$$normalizeUriHelper=function(t){var e;return String(t).replace(soy.esc.$$MATCHER_FOR_NORMALIZE_URI__AND__FILTER_NORMALIZE_URI_,soy.esc.$$REPLACER_FOR_NORMALIZE_URI__AND__FILTER_NORMALIZE_URI_)},soy.esc.$$filterNormalizeMediaUriHelper=function(t){var e=String(t);return soy.esc.$$FILTER_FOR_FILTER_NORMALIZE_MEDIA_URI_.test(e)?e.replace(soy.esc.$$MATCHER_FOR_NORMALIZE_URI__AND__FILTER_NORMALIZE_URI__AND__FILTER_NORMALIZE_MEDIA_URI_,soy.esc.$$REPLACER_FOR_NORMALIZE_URI__AND__FILTER_NORMALIZE_URI__AND__FILTER_NORMALIZE_MEDIA_URI_):"about:invalid#zSoyz"},soy.esc.$$filterNormalizeUriHelper=function(t){var e=String(t);return soy.esc.$$FILTER_FOR_FILTER_NORMALIZE_URI_.test(e)?e.replace(soy.esc.$$MATCHER_FOR_NORMALIZE_URI__AND__FILTER_NORMALIZE_URI_,soy.esc.$$REPLACER_FOR_NORMALIZE_URI__AND__FILTER_NORMALIZE_URI_):"#zSoyz"},soy.esc.$$filterImageDataUriHelper=function(t){var e=String(t);return soy.esc.$$FILTER_FOR_FILTER_IMAGE_DATA_URI_.test(e)?e:"data:image/gif;base64,zSoyz"},soy.esc.$$filterHtmlAttributesHelper=function(t){var e=String(t);return soy.esc.$$FILTER_FOR_FILTER_HTML_ATTRIBUTES_.test(e)?e:"zSoyz"},soy.esc.$$filterHtmlElementNameHelper=function(t){var e=String(t);return soy.esc.$$FILTER_FOR_FILTER_HTML_ELEMENT_NAME_.test(e)?e:"zSoyz"},soy.esc.$$HTML_TAG_REGEX_=/<(?:!|\/?([a-zA-Z][a-zA-Z0-9:\-]*))(?:[^>'"]|"[^"]*"|'[^']*')*>/g,soy.esc.$$LT_REGEX_=/</g,soy.esc.$$SAFE_TAG_WHITELIST_={b:1,br:1,em:1,i:1,s:1,sub:1,sup:1,u:1},goog.isObject=function(t){var e=typeof t;return"object"==e&&null!=t||"function"==e};
/*! core/dio/dio.sitecatalyst.js*/
"use strict";dio.setValueByName("dio.sitecatalyst",function(){function e(e,t){for(var r in e)e.hasOwnProperty(r)&&(P[r]=e[r],V[r]=!0);if(!0===t)for(var n in P)e.hasOwnProperty(n)||(V[n]=!0,delete P[n])}function n(){var e=1,t=void 0,r=window.s.account;for(r.includes(",")&&(r=window.s.account.replace(/,/gi,"_"));window["s_i_"+r+"_"+e];)t=window["s_i_"+r+"_"+e],e++;return t||window["s_i_"+r]}function t(e){if(void 0===(e=p(e=f(e,x),M)))l();else for(var t in e)e.hasOwnProperty(t)&&(P[t]=e[t],V[t]=!0);var r=$.extend({},P);window.s&&setTimeout(function(){for(var e in o(),r)r.hasOwnProperty(e)&&(window.s[e]=r[e]);try{window.s.t()}catch(e){void 0}void 0},0)}function r(i,o,s){s=s||" ";var a=new $.Deferred;return i=p(i=f(i,x),M),window.s?setTimeout(function(){var e="",t=0,r=void 0,n=void 0;if(c(),o&&v(o),i){for(r in i)i.hasOwnProperty(r)&&(u(r,i[r]),e+=r+",");for(n in S)window.s&&window.s.hasOwnProperty(S[n])&&(e+=S[n]+",")}""!==e&&(t=e.lastIndexOf(","),window.s.linkTrackVars=o?e+"events":e.substring(0,t),window.s.linkTrackEvents=o),null===i&&null===o&&l();try{window.s.tl(!0,"o",""===s?" ":s),d().then(function(e){e.s_l?a.resolve():$(e).on("load",function(){a.resolve()}).on("error",function(){a.reject()})})}catch(e){void 0,a.reject()}},0):a.reject("sitecatalyst is missing"),a}function i(e,t,r,n){try{var i="hcom.partialReportKeys";if(sessionStorage){var o=JSON.parse(sessionStorage.getItem(i))||[];-1===o.indexOf(e)&&(o.push(e),sessionStorage.setItem(i,JSON.stringify(o)),dio.sitecatalyst.sendPartialReport(t,r,n))}}catch(e){}}function d(){var t=null,r=new $.Deferred,e=n();return e?r.resolve(e):t=setInterval(function(){var e=n();e&&(r.resolve(e),clearInterval(t))},100),r.promise()}function o(){if(window.s)for(var e in V)V.hasOwnProperty(e)&&delete window.s[e]}function c(){if(window.s)for(var e in V)V.hasOwnProperty(e)&&$.inArray(e,S)<0&&delete window.s[e]}function u(e,t){e&&window.s&&(V[e]=!0,window.s[e]=null==t?P[e]:t)}function v(e){u("events",e)}function f(r,e){var n={};return r&&window.s&&window.s.eVar61&&"Desktop"!==window.s.eVar61&&$.each(e,function(e,t){r[t]&&0!==r[t].indexOf(window.s.eVar61)&&(n[t]=window.s.eVar61+" :: "+r[t])}),$.extend({},r,n)}function l(){if(window.s)for(var e in o(),P)P.hasOwnProperty(e)&&(window.s[e]=P[e],V[e]=!0)}function p(r,e){var n={};return $.each(e,function(e,t){r[e]&&(n[t.key]=t.reference)}),$.extend({},r,n)}function s(e,t){return w(e,!1,t)}function a(e){var t=e.map(function(e){return s(e.mvtId,e.manualPrefix)}).filter(Boolean);return t.length?t.join(","):void 0}function w(e,t,r){var n=r||(t?"M":"C"),i=t?"mvtHistory.athenaMvts":"mvtHistory.mvts",o=dio.getObjectByName(i,window.commonDataBlock),s=void 0;return null!==o&&(s=m([o],e,t,n)),s}function m(e,t,o,r){function n(e){var t=e.match(s),r=void 0,n=void 0;if(o){var i=t&&t[1].split(".");if(i&&1===i.length)return[i[0]];r=i&&(i[1]?i[0]:"0"),n=i&&(i[1]?i[1]:i[0])}else{if(t&&void 0===t[2])return[t[1]];n=t&&t[1],r=t&&t[2]||"0"}if(n)return n=y(n),[r=y(r),n]}var i=void 0,s=o?new RegExp("(?:^|,)"+t+"\\.([0-9.]+)"):new RegExp("(?:^|\\:)"+t+"\\.(\\d+)(?:\\.\\d+)?(?:\\.i(\\d+))?");if(e&&t&&r){var a=e.map(n).find(function(e){return e});a&&(i=1===a.length?r+t+"."+a[0]:r+t+":"+a[0]+"."+a[1])}return i}function y(e){return("000"+e).substr(-3,3)}function g(e,t,r,n){var i,o=$.isArray(e)?dio.sitecatalyst.buildMvtReportStringForMvtList(e.map(function(e){return{mvtId:e}})):dio.sitecatalyst.buildMvtReportString(e),s=void 0;if(o)return s={eVar34:o,list3:"D=v34"},t&&t.constructor==={}.constructor&&$.extend(s,t),dio.sitecatalyst.sendPartialReport(s,r,n)}function h(e,t,r,n,i){try{var o="hcom.mvtReportKeys";if(sessionStorage){var s=JSON.parse(sessionStorage.getItem(o))||[];-1===s.indexOf(e)&&(s.push(e),sessionStorage.setItem(o,JSON.stringify(s)),dio.sitecatalyst.sendMvtReport(t,r,n,i))}}catch(e){}}function R(e){var t=e.match(O);if(t){var r=t[1];if(_||(_=dio.getClientData("usedV2Experiments")||[]),!_.includes(r)&&!D.includes(r)){_.push(r);var n=w(r,!0);if(n)return dio.sitecatalyst.sendPartialReport({eVar34:n,list3:"D=v34"},"","Rendering of mvt client template")}}}var O=new RegExp("mvt(\\d+).+"),P={},V={},S=["pageName","channel","server","prop5","prop27","prop28","prop32","prop34","eVar13","eVar26","eVar43","eVar55","eVar57","prop68","prop71","eVar70","eVar4","prop36","prop37","prop46","eVar61","campaign"],x=["eVar33"],M={eVar33:{key:"prop33",reference:"D=v33"}},_=null,D=["5060","5061","5062","5651","6141","6172","6369","6540","6632","6779","7074","7912","8388","8400","8992","9853","8434","9863"];return{storeProperties:e,setFullPropertiesS:l,sendFullReport:t,sendPartialReport:r,sendPartialReportOncePerSession:i,getLastReportElement:n,buildMvtReportString:s,buildMvtReportStringForMvtList:a,mvtReportString:m,sendMvtReport:g,sendMvtReportOncePerSession:h,sendMvtReportForDelTemplate:R}}());
/*! core/dio/resp-tracking.js*/
"use strict";dio.setValueByName("dio.util.tracking.responsive",function(){function i(){return n=dio.browser.features.touch?window.innerWidth>window.innerHeight?"landscape":"portrait":"desktop"}function e(e){var n=[e];return dio.getObjectByName("dio.util.responsive.supportsMQs")&&dio.util.responsive.supportsMQs()&&s.hasOwnProperty(dio.util.responsive.getBreakpoint())?(n.push(s[dio.util.responsive.getBreakpoint()]),n.push(t[i()])):(n.push(s.unknown),n.push(t.desktop)),n.join("|")}var s={unknown:"0","x-small-screen":"1","small-screen":"2","medium-screen":"3","medium-large-screen":"4",default:"5","x-large-screen":"6"},t={landscape:"L",portrait:"P",desktop:"NA",unknown:"UN"},n=!1;i(),dio.setValueByName("dio.util.tracking.responsive",e)})();
/*! core/dio/widget/dio.widget.sandbox.js*/
"use strict";!function(i,s){var t={name:"sandbox"};dio.addWidget("Sandbox",dio.Widget,{$iframe:null,init:function t(){this.path="/images/common/sandbox/s.html",this.host=i.location.href,this.assetBaseUrl=dio.getClientData("common.assetsBaseUrl"),this.id="sb"+dio.widget.Sandbox.instances.length},paintUI:function t(){var i=this.assetBaseUrl+this.path;this.$iframe=s("<iframe>").attr("id",this.id).attr("name",this.conf.name).attr("aria-hidden","true").attr("style","visibility:hidden;position:absolute;width:0;height:0;").attr("src",i+"#id="+encodeURIComponent(this.id)+"&host="+encodeURIComponent(this.host)),this.$iframe.appendTo(s("body"))},bindUI:function t(){s(i).on("message",s.proxy(function(t){var i=t.originalEvent&&t.originalEvent.data?t.originalEvent.data:"",s=void 0;"string"==typeof i&&(s=i.split("-"))[0]===this.id&&s[1].length&&this.publish(s[1])},this))},injectJS:function t(i){return this.postMessage({src:i}),this},injectData:function t(i,s){return this.postMessage({key:i,value:s}),this},postMessage:function t(i){this.$iframe.get(0).contentWindow.postMessage(JSON.stringify(i),this.assetBaseUrl)},destructor:function t(){this.$iframe.remove()}},t)}(window,jQuery);
/*! core/dio/util/prerender.js*/
"use strict";dio.setValueByName("dio.util.prerender",function(){function e(n){$("body").append(n)}function n(){$.each(u,function(n,t){e(t)})}function t(){o&&(n(),o=!1)}function i(n){u.push(n),c||(document.addEventListener("webkitvisibilitychange",t,!1),c=!0)}var o=!1,c=!1,u=[];return{append:function n(t){void 0!==t.content&&("prerender"!==document.webkitVisibilityState?e(t.content):(o=!0,i(t.content)))}}}());
/*! core/dcs/dcs-utils.js*/
"use strict";dio.setValueByName("dio.util.dcs.loadWhenConsentGiven",function(o){var i=!1;"function"==typeof o&&("true"===dio.getClientData("gdpr.consentGiven")?$(window).on("load",o):"null"===dio.getClientData("gdpr.consentGiven")&&($(window).on("load",function(){i=!0}),dio.event.subscribe("cookiePolicyGiven",function n(){i?o():$(window).on("load",o),dio.event.unsubscribe("cookiePolicyGiven",n)})))});
/*! core/third-party/app-measurement.js*/
function setPageUrl(e){var t=window.location,i=t.href,n=dio.getObjectByName("commonDataBlock.page.pageName")||"";e.pageURL=n.includes("View Reservation Page")?t.protocol+"//"+t.host+t.pathname:i||t}function AppMeasurement(){var f=this;f.version="1.7.0";var d=window;d.s_c_in||(d.s_c_il=[],d.s_c_in=0),f._il=d.s_c_il,f._in=d.s_c_in,f._il[f._in]=f,d.s_c_in++,f._c="s_c";var p=d.AppMeasurement.Jb;p||(p=null);var g=d,e,t,i;try{for(e=g.parent,t=g.location;e&&e.location&&t&&""+e.location!=""+t&&g.location&&""+e.location!=""+g.location&&e.location.host==t.host;)e=(g=e).parent}catch(e){}f.yb=function(e){try{void 0}catch(e){}},f.Ha=function(e){return""+parseInt(e)==""+e},f.replace=function(e,t,i){return!e||e.indexOf(t)<0?e:e.split(t).join(i)},f.escape=function(e){var t,i;if(!e)return e;for(e=encodeURIComponent(e),t=0;t<7;t++)i="+~!*()'".substring(t,t+1),0<=e.indexOf(i)&&(e=f.replace(e,i,"%"+i.charCodeAt(0).toString(16).toUpperCase()));return e},f.unescape=function(e){if(!e)return e;e=0<=e.indexOf("+")?f.replace(e,"+"," "):e;try{return decodeURIComponent(e)}catch(e){}return unescape(e)},f.pb=function(){var e=d.location.hostname,t=f.fpCookieDomainPeriods,i;if(t||(t=f.cookieDomainPeriods),e&&!f.cookieDomain&&!/^[0-9.]+$/.test(e)&&(t=2<(t=t?parseInt(t):2)?t:2,0<=(i=e.lastIndexOf(".")))){for(;0<=i&&1<t;)i=e.lastIndexOf(".",i-1),t--;f.cookieDomain=0<i?e.substring(i):e}return f.cookieDomain},f.c_r=f.cookieRead=function(e){e=f.escape(e);var t=" "+f.d.cookie,i=t.indexOf(" "+e+"="),n=i<0?i:t.indexOf(";",i);return"[[B]]"!=(e=i<0?"":f.unescape(t.substring(i+2+e.length,n<0?t.length:n)))?e:""},f.c_w=f.cookieWrite=function(e,t,i){var n=f.pb(),a=f.cookieLifetime,r;return t=""+t,a=a?(""+a).toUpperCase():"",i&&"SESSION"!=a&&"NONE"!=a&&((r=""!=t?parseInt(a||0):-60)?(i=new Date).setTime(i.getTime()+1e3*r):1==i&&(r=(i=new Date).getYear(),i.setYear(r+5+(r<1900?1900:0)))),e&&"NONE"!=a?(f.d.cookie=f.escape(e)+"="+f.escape(""!=t?t:"[[B]]")+"; path=/;"+(i&&"SESSION"!=a?" expires="+i.toGMTString()+";":"")+(n?" domain="+n+";":""),f.cookieRead(e)==t):0},f.K=[],f.ha=function(e,t,i){if(f.Aa)return 0;f.maxDelay||(f.maxDelay=250);var n=0,a=(new Date).getTime()+f.maxDelay,r=f.d.visibilityState,o=["webkitvisibilitychange","visibilitychange"];if(r||(r=f.d.webkitVisibilityState),r&&"prerender"==r){if(!f.ia)for(f.ia=1,i=0;i<o.length;i++)f.d.addEventListener(o[i],function(){var e=f.d.visibilityState;e||(e=f.d.webkitVisibilityState),"visible"==e&&(f.ia=0,f.delayReady())});n=1,a=0}else i||f.p("_d")&&(n=1);return n&&(f.K.push({m:e,a:t,t:a}),f.ia||setTimeout(f.delayReady,f.maxDelay)),n},f.delayReady=function(){var e=(new Date).getTime(),t=0,i;for(f.p("_d")?t=1:f.va();0<f.K.length;){if(i=f.K.shift(),t&&!i.t&&i.t>e){f.K.unshift(i),setTimeout(f.delayReady,parseInt(f.maxDelay/2));break}f.Aa=1,f[i.m].apply(f,i.a),f.Aa=0}},f.setAccount=f.sa=function(e){var t,i;if(!f.ha("setAccount",arguments))if(f.account=e,f.allAccounts)for(t=f.allAccounts.concat(e.split(",")),f.allAccounts=[],t.sort(),i=0;i<t.length;i++)0!=i&&t[i-1]==t[i]||f.allAccounts.push(t[i]);else f.allAccounts=e.split(",")},f.foreachVar=function(e,t){var i,n,a,r,o="";for(a=n="",f.lightProfileID?(i=f.O,(o=f.lightTrackVars)&&(o=","+o+","+f.ma.join(",")+",")):(i=f.g,(f.pe||f.linkType)&&(o=f.linkTrackVars,n=f.linkTrackEvents,f.pe&&(a=f.pe.substring(0,1).toUpperCase()+f.pe.substring(1),f[a]&&(o=f[a].Hb,n=f[a].Gb))),o&&(o=","+o+","+f.G.join(",")+","),n&&o&&(o+=",events,")),t&&(t=","+t+","),n=0;n<i.length;n++)a=i[n],(r=f[a])&&(!o||0<=o.indexOf(","+a+","))&&(!t||0<=t.indexOf(","+a+","))&&e(a,r)},f.r=function(e,t,i,n,a){var r="",o,s,c,l,u=0;if("contextData"==e&&(e="c"),t){for(o in t)if(!(Object.prototype[o]||a&&o.substring(0,a.length)!=a)&&t[o]&&(!i||0<=i.indexOf(","+(n?n+".":"")+o+","))){if(c=!1,u)for(s=0;s<u.length;s++)o.substring(0,u[s].length)==u[s]&&(c=!0);if(!c&&(""==r&&(r+="&"+e+"."),s=t[o],a&&(o=o.substring(a.length)),0<o.length))if(0<(c=o.indexOf(".")))c=(a||"")+(s=o.substring(0,c))+".",u||(u=[]),u.push(c),r+=f.r(s,t,i,n,c);else if("boolean"==typeof s&&(s=s?"true":"false"),s){if("retrieveLightData"==n&&a.indexOf(".contextData.")<0)switch(c=o.substring(0,4),l=o.substring(4),o){case"transactionID":o="xact";break;case"channel":o="ch";break;case"campaign":o="v0";break;default:f.Ha(l)&&("prop"==c?o="c"+l:"eVar"==c?o="v"+l:"list"==c?o="l"+l:"hier"==c&&(o="h"+l,s=s.substring(0,255)))}r+="&"+f.escape(o)+"="+f.escape(s)}}""!=r&&(r+="&."+e)}return r},f.usePostbacks=0,f.sb=function(){var e="",t,i,n,a,r,o,s,c,l="",u="",d=a="";if(f.lightProfileID?(t=f.O,(l=f.lightTrackVars)&&(l=","+l+","+f.ma.join(",")+",")):(t=f.g,(f.pe||f.linkType)&&(l=f.linkTrackVars,u=f.linkTrackEvents,f.pe&&(a=f.pe.substring(0,1).toUpperCase()+f.pe.substring(1),f[a]&&(l=f[a].Hb,u=f[a].Gb))),l&&(l=","+l+","+f.G.join(",")+","),u&&(u=","+u+",",l&&(l+=",events,")),f.events2&&(d+=(""!=d?",":"")+f.events2)),f.visitor&&1.5<=parseFloat(f.visitor.version)&&f.visitor.getCustomerIDs){if(a=p,r=f.visitor.getCustomerIDs())for(i in r)Object.prototype[i]||(a||(a={}),(n=r[i]).id&&(a[i+".id"]=n.id),n.authState&&(a[i+".as"]=n.authState));a&&(e+=f.r("cid",a))}for(f.AudienceManagement&&f.AudienceManagement.isReady()&&(e+=f.r("d",f.AudienceManagement.getEventCallConfigParams())),i=0;i<t.length;i++){if(a=t[i],r=f[a],n=a.substring(0,4),o=a.substring(4),!r&&"events"==a&&d&&(r=d,d=""),r&&(!l||0<=l.indexOf(","+a+","))){switch(a){case"supplementalDataID":a="sdid";break;case"timestamp":a="ts";break;case"dynamicVariablePrefix":a="D";break;case"visitorID":a="vid";break;case"marketingCloudVisitorID":a="mid";break;case"analyticsVisitorID":a="aid";break;case"audienceManagerLocationHint":a="aamlh";break;case"audienceManagerBlob":a="aamb";break;case"authState":a="as";break;case"pageURL":a="g",255<r.length&&(f.pageURLRest=r.substring(255),r=r.substring(0,255));break;case"pageURLRest":a="-g";break;case"referrer":a="r";break;case"vmk":case"visitorMigrationKey":a="vmt";break;case"visitorMigrationServer":a="vmf",f.ssl&&f.visitorMigrationServerSecure&&(r="");break;case"visitorMigrationServerSecure":a="vmf",!f.ssl&&f.visitorMigrationServer&&(r="");break;case"charSet":a="ce";break;case"visitorNamespace":a="ns";break;case"cookieDomainPeriods":a="cdp";break;case"cookieLifetime":a="cl";break;case"variableProvider":a="vvp";break;case"currencyCode":a="cc";break;case"channel":a="ch";break;case"transactionID":a="xact";break;case"campaign":a="v0";break;case"latitude":a="lat";break;case"longitude":a="lon";break;case"resolution":a="s";break;case"colorDepth":a="c";break;case"javascriptVersion":a="j";break;case"javaEnabled":a="v";break;case"cookiesEnabled":a="k";break;case"browserWidth":a="bw";break;case"browserHeight":a="bh";break;case"connectionType":a="ct";break;case"homepage":a="hp";break;case"events":if(d&&(r+=(""!=r?",":"")+d),u)for(o=r.split(","),r="",n=0;n<o.length;n++)0<=(c=(s=o[n]).indexOf("="))&&(s=s.substring(0,c)),0<=(c=s.indexOf(":"))&&(s=s.substring(0,c)),0<=u.indexOf(","+s+",")&&(r+=(r?",":"")+o[n]);break;case"events2":r="";break;case"contextData":e+=f.r("c",f[a],l,a),r="";break;case"lightProfileID":a="mtp";break;case"lightStoreForSeconds":a="mtss",f.lightProfileID||(r="");break;case"lightIncrementBy":a="mti",f.lightProfileID||(r="");break;case"retrieveLightProfiles":a="mtsr";break;case"deleteLightProfiles":a="mtsd";break;case"retrieveLightData":f.retrieveLightProfiles&&(e+=f.r("mts",f[a],l,a)),r="";break;default:f.Ha(o)&&("prop"==n?a="c"+o:"eVar"==n?a="v"+o:"list"==n?a="l"+o:"hier"==n&&(a="h"+o,r=r.substring(0,255)))}r&&(e+="&"+a+"="+("pev"!=a.substring(0,3)?f.escape(r):r))}"pev3"==a&&f.e&&(e+=f.e)}return e},f.D=function(e){var t=e.tagName;return"undefined"!=""+e.Mb||"undefined"!=""+e.Cb&&"HTML"!=(""+e.Cb).toUpperCase()?"":("SHAPE"==(t=t&&t.toUpperCase?t.toUpperCase():"")&&(t=""),t&&(("INPUT"==t||"BUTTON"==t)&&e.type&&e.type.toUpperCase?t=e.type.toUpperCase():!t&&e.href&&(t="A")),t)},f.Da=function(e){var t=e.href?e.href:"",i,n,a;return i=t.indexOf(":"),n=t.indexOf("?"),a=t.indexOf("/"),t&&(i<0||0<=n&&n<i||0<=a&&a<i)&&(n=e.protocol&&1<e.protocol.length?e.protocol:l.protocol?l.protocol:"",i=l.pathname.lastIndexOf("/"),t=(n?n+"//":"")+(e.host?e.host:l.host?l.host:"")+("/"!=h.substring(0,1)?l.pathname.substring(0,i<0?0:i)+"/":"")+t),t},f.L=function(e){var t=f.D(e),i,n,a="",r=0;return t&&(i=e.protocol,n=e.onclick,!e.href||"A"!=t&&"AREA"!=t||n&&i&&!(i.toLowerCase().indexOf("javascript")<0)?n?(a=f.replace(f.replace(f.replace(f.replace(""+n,"\r",""),"\n",""),"\t","")," ",""),r=2):"INPUT"==t||"SUBMIT"==t?(e.value?a=e.value:e.innerText?a=e.innerText:e.textContent&&(a=e.textContent),r=3):"IMAGE"==t&&e.src&&(a=e.src):a=f.Da(e),a)?{id:a.substring(0,100),type:r}:0},f.Kb=function(e){for(var t=f.D(e),i=f.L(e);e&&!i&&"BODY"!=t;)(e=e.parentElement?e.parentElement:e.parentNode)&&(t=f.D(e),i=f.L(e));return i&&"BODY"!=t||(e=0),e&&(0<=(t=e.onclick?""+e.onclick:"").indexOf(".tl(")||0<=t.indexOf(".trackLink("))&&(e=0),e},f.Bb=function(){var e,t,i=f.linkObject,n=f.linkType,a=f.linkURL,r,o;if(f.na=1,i||(f.na=0,i=f.clickObject),i){for(e=f.D(i),t=f.L(i);i&&!t&&"BODY"!=e;)(i=i.parentElement?i.parentElement:i.parentNode)&&(e=f.D(i),t=f.L(i));if(t&&"BODY"!=e||(i=0),i&&!f.linkObject){var s=i.onclick?""+i.onclick:"";(0<=s.indexOf(".tl(")||0<=s.indexOf(".trackLink("))&&(i=0)}}else f.na=1;if(!a&&i&&(a=f.Da(i)),a&&!f.linkLeaveQueryString&&(0<=(r=a.indexOf("?"))&&(a=a.substring(0,r))),!n&&a){var c=0,l=0,u;if(f.trackDownloadLinks&&f.linkDownloadFileTypes)for(r=(s=a.toLowerCase()).indexOf("?"),o=s.indexOf("#"),0<=r?0<=o&&o<r&&(r=o):r=o,0<=r&&(s=s.substring(0,r)),r=f.linkDownloadFileTypes.toLowerCase().split(","),o=0;o<r.length;o++)(u=r[o])&&s.substring(s.length-(u.length+1))=="."+u&&(n="d");if(f.trackExternalLinks&&!n&&(s=a.toLowerCase(),f.Ga(s)&&(f.linkInternalFilters||(f.linkInternalFilters=d.location.hostname),r=0,f.linkExternalFilters?(r=f.linkExternalFilters.toLowerCase().split(","),c=1):f.linkInternalFilters&&(r=f.linkInternalFilters.toLowerCase().split(",")),r))){for(o=0;o<r.length;o++)u=r[o],0<=s.indexOf(u)&&(l=1);l?c&&(n="e"):c||(n="e")}}f.linkObject=i,f.linkURL=a,f.linkType=n,(f.trackClickMap||f.trackInlineStats)&&(f.e="",i&&(n=f.pageName,a=1,i=i.sourceIndex,n||(n=f.pageURL,a=0),d.s_objectID&&(t.id=d.s_objectID,i=t.type=1),n&&t&&t.id&&e&&(f.e="&pid="+f.escape(n.substring(0,255))+(a?"&pidt="+a:"")+"&oid="+f.escape(t.id.substring(0,100))+(t.type?"&oidt="+t.type:"")+"&ot="+e+(i?"&oi="+i:""))))},f.tb=function(){var e=f.na,t=f.linkType,i=f.linkURL,n=f.linkName;if(t&&(i||n)&&("d"!=(t=t.toLowerCase())&&"e"!=t&&(t="o"),f.pe="lnk_"+t,f.pev1=i?f.escape(i):"",f.pev2=n?f.escape(n):"",e=1),f.abort&&(e=0),f.trackClickMap||f.trackInlineStats||f.ActivityMap){var t={},i=0,a,r=(a=f.cookieRead("s_sq"))?a.split("&"):0,o,s,c,a=0;if(r)for(o=0;o<r.length;o++)s=r[o].split("="),n=f.unescape(s[0]).split(","),t[s=f.unescape(s[1])]=n;for(c in n=f.account.split(","),o={},f.contextData)c&&!Object.prototype[c]&&"a.activitymap."==c.substring(0,14)&&(o[c]=f.contextData[c],f.contextData[c]="");if(f.e=f.r("c",o)+(f.e?f.e:""),e||f.e){for(s in e&&!f.e&&(a=1),t)if(!Object.prototype[s])for(c=0;c<n.length;c++)for(a&&((r=t[s].join(","))==f.account&&(f.e+=("&"!=s.charAt(0)?"&":"")+s,t[s]=[],i=1)),o=0;o<t[s].length;o++)(r=t[s][o])==n[c]&&(a&&(f.e+="&u="+f.escape(r)+("&"!=s.charAt(0)?"&":"")+s+"&u=0"),t[s].splice(o,1),i=1);if(e||(i=1),i){for(s in a="",o=2,!e&&f.e&&(a=f.escape(n.join(","))+"="+f.escape(f.e),o=1),t)!Object.prototype[s]&&0<o&&0<t[s].length&&(a+=(a?"&":"")+f.escape(t[s].join(","))+"="+f.escape(s),o--);f.cookieWrite("s_sq",a)}}}return e},f.ub=function(){if(!f.Fb){var e=new Date,t=g.location,i,n,a=n=i="",r="",o="",s="1.2",c=f.cookieWrite("s_cc","true",0)?"Y":"N",l="",u="";if(e.setUTCDate&&(s="1.3",(0).toPrecision&&(s="1.5",(e=[]).forEach))){s="1.6",n=0,i={};try{(n=new Iterator(i)).next&&(s="1.7",e.reduce&&((s="1.8").trim&&(s="1.8.1",Date.parse&&(s="1.8.2",Object.create&&(s="1.8.5")))))}catch(e){}}i=screen.width+"x"+screen.height,a=navigator.javaEnabled()?"Y":"N",n=screen.pixelDepth?screen.pixelDepth:screen.colorDepth,r=f.w.innerWidth?f.w.innerWidth:f.d.documentElement.offsetWidth,o=f.w.innerHeight?f.w.innerHeight:f.d.documentElement.offsetHeight;try{f.b.addBehavior("#default#homePage"),l=f.b.Lb(t)?"Y":"N"}catch(e){}try{f.b.addBehavior("#default#clientCaps"),u=f.b.connectionType}catch(e){}f.resolution=i,f.colorDepth=n,f.javascriptVersion=s,f.javaEnabled=a,f.cookiesEnabled=c,f.browserWidth=r,f.browserHeight=o,f.connectionType=u,f.homepage=l,f.Fb=1}},f.P={},f.loadModule=function(t,e){var i=f.P[t];if(!i){i=d["AppMeasurement_Module_"+t]?new d["AppMeasurement_Module_"+t](f):{},f.P[t]=f[t]=i,i.Xa=function(){return i.ab},i.bb=function(e){(i.ab=e)&&(f[t+"_onLoad"]=e,f.ha(t+"_onLoad",[f,i],1)||e(f,i))};try{Object.defineProperty?Object.defineProperty(i,"onLoad",{get:i.Xa,set:i.bb}):i._olc=1}catch(e){i._olc=1}}e&&(f[t+"_onLoad"]=e,f.ha(t+"_onLoad",[f,i],1)||e(f,i))},f.p=function(e){var t,i;for(t in f.P)if(!Object.prototype[t]&&(i=f.P[t])&&(i._olc&&i.onLoad&&(i._olc=0,i.onLoad(f,i)),i[e]&&i[e]()))return 1;return 0},f.wb=function(){var e=Math.floor(1e13*Math.random()),t=f.visitorSampling,i=f.visitorSamplingGroup,i="s_vsn_"+(f.visitorNamespace?f.visitorNamespace:f.account)+(i?"_"+i:""),n=f.cookieRead(i);if(t){if(n&&(n=parseInt(n)),!n){if(!f.cookieWrite(i,e))return 0;n=e}if(n%1e4>v)return 0}return 1},f.Q=function(e,t){var i,n,a,r,o,s;for(i=0;i<2;i++)for(n=0<i?f.wa:f.g,a=0;a<n.length;a++)if((o=e[r=n[a]])||e["!"+r]){if(!t&&("contextData"==r||"retrieveLightData"==r)&&f[r])for(s in f[r])o[s]||(o[s]=f[r][s]);f[r]=o}},f.Qa=function(e,t){var i,n,a,r;for(i=0;i<2;i++)for(n=0<i?f.wa:f.g,a=0;a<n.length;a++)e[r=n[a]]=f[r],t||e[r]||(e["!"+r]=1)},f.ob=function(e){var t,i,n,a,r,o=0,s,c="",l="";if(e&&255<e.length&&(0<(i=(t=""+e).indexOf("?"))&&(s=t.substring(i+1),n=0,"http://"==(a=(t=t.substring(0,i)).toLowerCase()).substring(0,7)?n+=7:"https://"==a.substring(0,8)&&(n+=8),0<(i=a.indexOf("/",n))&&(a=a.substring(n,i),r=t.substring(i),t=t.substring(0,i),0<=a.indexOf("google")?o=",q,ie,start,search_key,word,kw,cd,":0<=a.indexOf("yahoo.co")&&(o=",p,ei,"),o&&s)))){if((e=s.split("&"))&&1<e.length){for(n=0;n<e.length;n++)0<(i=(a=e[n]).indexOf("="))&&0<=o.indexOf(","+a.substring(0,i)+",")?c+=(c?"&":"")+a:l+=(l?"&":"")+a;c&&l?s=c+"&"+l:l=""}e=t+(0<(i=253-(s.length-l.length)-t.length)?r.substring(0,i):"")+"?"+s}return e},f.Wa=function(t){var e=f.d.visibilityState,i=["webkitvisibilitychange","visibilitychange"];if(e||(e=f.d.webkitVisibilityState),e&&"prerender"==e){if(t)for(e=0;e<i.length;e++)f.d.addEventListener(i[e],function(){var e=f.d.visibilityState;e||(e=f.d.webkitVisibilityState),"visible"==e&&t()});return!1}return!0},f.da=!1,f.I=!1,f.eb=function(){f.I=!0,f.j()},f.ba=!1,f.U=!1,f.$a=function(e){f.marketingCloudVisitorID=e,f.U=!0,f.j()},f.ea=!1,f.V=!1,f.fb=function(e){f.visitorOptedOut=e,f.V=!0,f.j()},f.Y=!1,f.R=!1,f.Sa=function(e){f.analyticsVisitorID=e,f.R=!0,f.j()},f.aa=!1,f.T=!1,f.Ua=function(e){f.audienceManagerLocationHint=e,f.T=!0,f.j()},f.Z=!1,f.S=!1,f.Ta=function(e){f.audienceManagerBlob=e,f.S=!0,f.j()},f.Va=function(e){return f.maxDelay||(f.maxDelay=250),!f.p("_d")||(e&&setTimeout(function(){e()},f.maxDelay),!1)},f.ca=!1,f.H=!1,f.va=function(){f.H=!0,f.j()},f.isReadyToTrack=function(){var e=!0,t=f.visitor,i,n,a;return f.da||f.I||(f.Wa(f.eb)?f.I=!0:f.da=!0),!(f.da&&!f.I)&&(t&&t.isAllowed()&&(f.ba||f.marketingCloudVisitorID||!t.getMarketingCloudVisitorID||(f.ba=!0,f.marketingCloudVisitorID=t.getMarketingCloudVisitorID([f,f.$a]),f.marketingCloudVisitorID&&(f.U=!0)),f.ea||f.visitorOptedOut||!t.isOptedOut||(f.ea=!0,f.visitorOptedOut=t.isOptedOut([f,f.fb]),f.visitorOptedOut!=p&&(f.V=!0)),f.Y||f.analyticsVisitorID||!t.getAnalyticsVisitorID||(f.Y=!0,f.analyticsVisitorID=t.getAnalyticsVisitorID([f,f.Sa]),f.analyticsVisitorID&&(f.R=!0)),f.aa||f.audienceManagerLocationHint||!t.getAudienceManagerLocationHint||(f.aa=!0,f.audienceManagerLocationHint=t.getAudienceManagerLocationHint([f,f.Ua]),f.audienceManagerLocationHint&&(f.T=!0)),f.Z||f.audienceManagerBlob||!t.getAudienceManagerBlob||(f.Z=!0,f.audienceManagerBlob=t.getAudienceManagerBlob([f,f.Ta]),f.audienceManagerBlob&&(f.S=!0)),e=f.ba&&!f.U&&!f.marketingCloudVisitorID,t=f.Y&&!f.R&&!f.analyticsVisitorID,i=f.aa&&!f.T&&!f.audienceManagerLocationHint,n=f.Z&&!f.S&&!f.audienceManagerBlob,a=f.ea&&!f.V,e=!(e||t||i||a)),f.ca||f.H||(f.Va(f.va)?f.H=!0:f.ca=!0),f.ca&&!f.H&&(e=!1),e)},f.o=p,f.u=0,f.callbackWhenReadyToTrack=function(e,t,i){var n;(n={}).jb=e,n.ib=t,n.gb=i,f.o==p&&(f.o=[]),f.o.push(n),0==f.u&&(f.u=setInterval(f.j,100))},f.j=function(){var e;if(f.isReadyToTrack()&&(f.cb(),f.o!=p))for(;0<f.o.length;)(e=f.o.shift()).ib.apply(e.jb,e.gb)},f.cb=function(){f.u&&(clearInterval(f.u),f.u=0)},f.Ya=function(e){var t,i,n=p,a=p;if(!f.isReadyToTrack()){if(t=[],e!=p)for(i in n={},e)n[i]=e[i];return a={},f.Qa(a,!0),t.push(n),t.push(a),f.callbackWhenReadyToTrack(f,f.track,t),!0}return!1},f.qb=function(){var e=f.cookieRead("s_fid"),t="",i="",n;n=8;var a=4;if(!e||e.indexOf("-")<0){for(e=0;e<16;e++)n=Math.floor(Math.random()*n),t+="0123456789ABCDEF".substring(n,n+1),n=Math.floor(Math.random()*a),i+="0123456789ABCDEF".substring(n,n+1),n=a=16;e=t+"-"+i}return f.cookieWrite("s_fid",e,1)||(e=0),e},f.t=f.track=function(e,t){var i,n=new Date,a="s"+Math.floor(n.getTime()/108e5)%10+Math.floor(1e13*Math.random()),r=n.getYear(),r="t="+f.escape(n.getDate()+"/"+n.getMonth()+"/"+(r<1900?r+1900:r)+" "+n.getHours()+":"+n.getMinutes()+":"+n.getSeconds()+" "+n.getDay()+" "+n.getTimezoneOffset());f.visitor&&(f.visitor.getAuthState&&(f.authState=f.visitor.getAuthState()),!f.supplementalDataID&&f.visitor.getSupplementalDataID&&(f.supplementalDataID=f.visitor.getSupplementalDataID("AppMeasurement:"+f._in,!f.expectSupplementalData))),f.p("_s"),f.Ya(e)||(t&&f.Q(t),e&&(i={},f.Qa(i,0),f.Q(e)),f.wb()&&!f.visitorOptedOut&&(f.analyticsVisitorID||f.marketingCloudVisitorID||(f.fid=f.qb()),f.Bb(),f.usePlugins&&f.doPlugins&&f.doPlugins(f),f.account&&(f.abort||(f.trackOffline&&!f.timestamp&&(f.timestamp=Math.floor(n.getTime()/1e3)),n=d.location,f.pageURL||(f.pageURL=n.href?n.href:n),f.referrer||f.Ra||(f.referrer=g.document.referrer),f.Ra=1,f.referrer=f.ob(f.referrer),f.p("_g")),f.tb()&&!f.abort&&(f.ub(),r+=f.sb(),f.Ab(a,r),f.p("_t"),f.referrer=""))),e&&f.Q(i,1)),f.abort=f.supplementalDataID=f.timestamp=f.pageURLRest=f.linkObject=f.clickObject=f.linkURL=f.linkName=f.linkType=d.s_objectID=f.pe=f.pev1=f.pev2=f.pev3=f.e=f.lightProfileID=0},f.tl=f.trackLink=function(e,t,i,n,a){return f.linkObject=e,f.linkType=t,f.linkName=i,a&&(f.l=e,f.A=a),f.track(n)},f.trackLight=function(e,t,i,n){return f.lightProfileID=e,f.lightStoreForSeconds=t,f.lightIncrementBy=i,f.track(n)},f.clearVars=function(){var e,t;for(e=0;e<f.g.length;e++)("prop"==(t=f.g[e]).substring(0,4)||"eVar"==t.substring(0,4)||"hier"==t.substring(0,4)||"list"==t.substring(0,4)||"channel"==t||"events"==t||"eventList"==t||"products"==t||"productList"==t||"purchaseID"==t||"transactionID"==t||"state"==t||"zip"==t||"campaign"==t)&&(f[t]=void 0)},f.tagContainerMarker="",f.Ab=function(e,t){var i,n=f.trackingServer;i="";var a=f.dc,r="sc.",o=f.visitorNamespace;n?f.trackingServerSecure&&f.ssl&&(n=f.trackingServerSecure):(o||(0<=(n=(o=f.account).indexOf(","))&&(o=o.substring(0,n)),o=o.replace(/[^A-Za-z0-9]/g,"")),i||(i="2o7.net"),a=a?(""+a).toLowerCase():"d1","2o7.net"==i&&("d1"==a?a="112":"d2"==a&&(a="122"),r=""),n=o+"."+a+"."+r+i),i=f.ssl?"https://":"http://",a=f.AudienceManagement&&f.AudienceManagement.isReady()||0!=f.usePostbacks,i+=n+"/b/ss/"+f.account+"/"+(f.mobile?"5.":"")+(a?"10":"1")+"/JS-"+f.version+(f.Eb?"T":"")+(f.tagContainerMarker?"-"+f.tagContainerMarker:"")+"/"+e+"?AQB=1&ndh=1&pf=1&"+(a?"callback=s_c_il["+f._in+"].doPostbacks&et=1&":"")+t+"&AQE=1",f.mb(i),f.ja()},f.Pa=/{(%?)(.*?)(%?)}/,f.Ib=RegExp(f.Pa.source,"g"),f.nb=function(e){if("object"==typeof e.dests)for(var t=0;t<e.dests.length;++t)if(o=e.dests[t],"string"==typeof o.c&&"aa."==o.id.substr(0,3))for(var i=o.c.match(f.Ib),t=0;t<i.length;++t){match=i[t];var n=match.match(f.Pa),a="";"%"==n[1]&&"timezone_offset"==n[2]?a=(new Date).getTimezoneOffset():"%"==n[1]&&"timestampz"==n[2]&&(a=f.rb()),o.c=o.c.replace(match,f.escape(a))}},f.rb=function(){var e=new Date,t=new Date(6e4*Math.abs(e.getTimezoneOffset()));return f.k(4,e.getFullYear())+"-"+f.k(2,e.getMonth()+1)+"-"+f.k(2,e.getDate())+"T"+f.k(2,e.getHours())+":"+f.k(2,e.getMinutes())+":"+f.k(2,e.getSeconds())+(0<e.getTimezoneOffset()?"-":"+")+f.k(2,t.getUTCHours())+":"+f.k(2,t.getUTCMinutes())},f.k=function(e,t){return(Array(e+1).join(0)+t).slice(-e)},f.ra={},f.doPostbacks=function(e){if("object"==typeof e)if(f.nb(e),"object"==typeof f.AudienceManagement&&"function"==typeof f.AudienceManagement.isReady&&f.AudienceManagement.isReady()&&"function"==typeof f.AudienceManagement.passData)f.AudienceManagement.passData(e);else if("object"==typeof e&&"object"==typeof e.dests)for(var t=0;t<e.dests.length;++t)dest=e.dests[t],"object"==typeof dest&&"string"==typeof dest.c&&"string"==typeof dest.id&&"aa."==dest.id.substr(0,3)&&(f.ra[dest.id]=new Image,f.ra[dest.id].alt="",f.ra[dest.id].src=dest.c)},f.mb=function(e){f.i||f.vb(),f.i.push(e),f.la=f.C(),f.Na()},f.vb=function(){f.i=f.xb(),f.i||(f.i=[])},f.xb=function(){var e,t;if(f.qa()){try{(t=d.localStorage.getItem(f.oa()))&&(e=d.JSON.parse(t))}catch(e){}return e}},f.qa=function(){var e=!0;return f.trackOffline&&f.offlineFilename&&d.localStorage&&d.JSON||(e=!1),e},f.Ea=function(){var e=0;return f.i&&(e=f.i.length),f.q&&e++,e},f.ja=function(){if(!f.q||(f.B&&f.B.complete&&f.B.F&&f.B.ua(),!f.q))if(f.Fa=p,f.pa)f.la>f.N&&f.La(f.i),f.ta(500);else{var e=f.hb();0<e?f.ta(e):(e=f.Ba())&&(f.q=1,f.zb(e),f.Db(e))}},f.ta=function(e){f.Fa||(e||(e=0),f.Fa=setTimeout(f.ja,e))},f.hb=function(){var e;return!f.trackOffline||f.offlineThrottleDelay<=0?0:(e=f.C()-f.Ka,f.offlineThrottleDelay<e?0:f.offlineThrottleDelay-e)},f.Ba=function(){if(0<f.i.length)return f.i.shift()},f.zb=function(e){if(f.debugTracking){var t="AppMeasurement Debug: "+e,i;for(e=e.split("&"),i=0;i<e.length;i++)t+="\n\t"+f.unescape(e[i]);f.yb(t)}},f.Za=function(){return f.marketingCloudVisitorID||f.analyticsVisitorID},f.X=!1;try{i=JSON.parse('{"x":"y"}')}catch(e){i=null}for(i&&"y"==i.x?(f.X=!0,f.W=function(e){return JSON.parse(e)}):d.$&&d.$.parseJSON?(f.W=function(e){return d.$.parseJSON(e)},f.X=!0):f.W=function(){return null},f.Db=function(e){var t,i,n;if(f.Za()&&2047<e.length&&("undefined"!=typeof XMLHttpRequest&&("withCredentials"in(t=new XMLHttpRequest)?i=1:t=0),t||"undefined"==typeof XDomainRequest||(t=new XDomainRequest,i=2),t&&(f.AudienceManagement&&f.AudienceManagement.isReady()||0!=f.usePostbacks)&&(f.X?t.xa=!0:t=0)),!t&&f.Oa&&(e=e.substring(0,2047)),!t&&f.d.createElement&&(0!=f.usePostbacks||f.AudienceManagement&&f.AudienceManagement.isReady())&&(t=f.d.createElement("SCRIPT"))&&"async"in t&&((n=(n=f.d.getElementsByTagName("HEAD"))&&n[0]?n[0]:f.d.body)?(t.type="text/javascript",t.setAttribute("async","async"),i=3):t=0),t||((t=new Image).alt="",t.abort||void 0===d.InstallTrigger||(t.abort=function(){t.src=p})),t.za=function(){try{t.F&&(clearTimeout(t.F),t.F=0)}catch(e){}},t.onload=t.ua=function(){if(t.za(),f.lb(),f.fa(),f.q=0,f.ja(),t.xa){t.xa=!1;try{f.doPostbacks(f.W(t.responseText))}catch(e){}}},t.onabort=t.onerror=t.Ca=function(){t.za(),(f.trackOffline||f.pa)&&f.q&&f.i.unshift(f.kb),f.q=0,f.la>f.N&&f.La(f.i),f.fa(),f.ta(500)},t.onreadystatechange=function(){4==t.readyState&&(200==t.status?t.ua():t.Ca())},f.Ka=f.C(),1==i||2==i){var a=e.indexOf("?");n=e.substring(0,a),a=(a=e.substring(a+1)).replace(/&callback=[a-zA-Z0-9_.\[\]]+/,""),1==i?(t.open("POST",n,!0),t.send(a)):2==i&&(t.open("POST",n),t.send(a))}else if(t.src=e,3==i){if(f.Ia)try{n.removeChild(f.Ia)}catch(e){}n.firstChild?n.insertBefore(t,n.firstChild):n.appendChild(t),f.Ia=f.B}t.F=setTimeout(function(){t.F&&(t.complete?t.ua():(f.trackOffline&&t.abort&&t.abort(),t.Ca()))},5e3),f.kb=e,f.B=d["s_i_"+f.replace(f.account,",","_")]=t,(f.useForcedLinkTracking&&f.J||f.A)&&(f.forcedLinkTrackingTimeout||(f.forcedLinkTrackingTimeout=250),f.ga=setTimeout(f.fa,f.forcedLinkTrackingTimeout))},f.lb=function(){if(f.qa()&&!(f.Ja>f.N))try{d.localStorage.removeItem(f.oa()),f.Ja=f.C()}catch(e){}},f.La=function(e){if(f.qa()){f.Na();try{d.localStorage.setItem(f.oa(),d.JSON.stringify(e)),f.N=f.C()}catch(e){}}},f.Na=function(){if(f.trackOffline)for((!f.offlineLimit||f.offlineLimit<=0)&&(f.offlineLimit=10);f.i.length>f.offlineLimit;)f.Ba()},f.forceOffline=function(){f.pa=!0},f.forceOnline=function(){f.pa=!1},f.oa=function(){return f.offlineFilename+"-"+f.visitorNamespace+f.account},f.C=function(){return(new Date).getTime()},f.Ga=function(e){return 0!=(e=e.toLowerCase()).indexOf("#")&&0!=e.indexOf("about:")&&0!=e.indexOf("opera:")&&0!=e.indexOf("javascript:")},f.setTagContainer=function(e){var t,i,n;for(f.Eb=e,t=0;t<f._il.length;t++)if((i=f._il[t])&&"s_l"==i._c&&i.tagContainerName==e){if(f.Q(i),i.lmq)for(t=0;t<i.lmq.length;t++)n=i.lmq[t],f.loadModule(n.n);if(i.ml)for(n in i.ml)if(f[n])for(t in e=f[n],n=i.ml[n])!Object.prototype[t]&&("function"!=typeof n[t]||(""+n[t]).indexOf("s_c_il")<0)&&(e[t]=n[t]);if(i.mmq)for(t=0;t<i.mmq.length;t++)n=i.mmq[t],f[n.m]&&((e=f[n.m])[n.f]&&"function"==typeof e[n.f]&&(n.a?e[n.f].apply(e,n.a):e[n.f].apply(e)));if(i.tq)for(t=0;t<i.tq.length;t++)f.track(i.tq[t]);i.s=f;break}},f.Util={urlEncode:f.escape,urlDecode:f.unescape,cookieRead:f.cookieRead,cookieWrite:f.cookieWrite,getQueryParam:function(e,t,i){var n;return t||(t=f.pageURL?f.pageURL:d.location),i||(i="&"),e&&t&&(0<=(n=(t=""+t).indexOf("?"))&&(0<=(n=(t=i+t.substring(n+1)+i).indexOf(i+e+"="))&&(0<=(n=(t=t.substring(n+i.length+e.length+1)).indexOf(i))&&(t=t.substring(0,n)),0<t.length)))?f.unescape(t):""}},f.G="supplementalDataID timestamp dynamicVariablePrefix visitorID marketingCloudVisitorID analyticsVisitorID audienceManagerLocationHint authState fid vmk visitorMigrationKey visitorMigrationServer visitorMigrationServerSecure charSet visitorNamespace cookieDomainPeriods fpCookieDomainPeriods cookieLifetime pageName pageURL referrer contextData currencyCode lightProfileID lightStoreForSeconds lightIncrementBy retrieveLightProfiles deleteLightProfiles retrieveLightData".split(" "),f.g=f.G.concat("purchaseID variableProvider channel server pageType transactionID campaign state zip events events2 products audienceManagerBlob tnt".split(" ")),f.ma="timestamp charSet visitorNamespace cookieDomainPeriods cookieLifetime contextData lightProfileID lightStoreForSeconds lightIncrementBy".split(" "),f.O=f.ma.slice(0),f.wa="account allAccounts debugTracking visitor visitorOptedOut trackOffline offlineLimit offlineThrottleDelay offlineFilename usePlugins doPlugins configURL visitorSampling visitorSamplingGroup linkObject clickObject linkURL linkName linkType trackDownloadLinks trackExternalLinks trackClickMap trackInlineStats linkLeaveQueryString linkTrackVars linkTrackEvents linkDownloadFileTypes linkExternalFilters linkInternalFilters useForcedLinkTracking forcedLinkTrackingTimeout trackingServer trackingServerSecure ssl abort mobile dc lightTrackVars maxDelay expectSupplementalData usePostbacks AudienceManagement".split(" "),e=0;e<=250;e++)e<76&&(f.g.push("prop"+e),f.O.push("prop"+e)),f.g.push("eVar"+e),f.O.push("eVar"+e),e<6&&f.g.push("hier"+e),e<4&&f.g.push("list"+e);e="pe pev1 pev2 pev3 latitude longitude resolution colorDepth javascriptVersion javaEnabled cookiesEnabled browserWidth browserHeight connectionType homepage pageURLRest".split(" "),f.g=f.g.concat(e),f.G=f.G.concat(e),f.ssl=0<=d.location.protocol.toLowerCase().indexOf("https"),f.charSet="UTF-8",f.contextData={},f.offlineThrottleDelay=0,f.offlineFilename="AppMeasurement.offline",f.Ka=0,f.la=0,f.N=0,f.Ja=0,f.linkDownloadFileTypes="exe,zip,wav,mp3,mov,mpg,avi,wmv,pdf,doc,docx,xls,xlsx,ppt,pptx",f.w=d,f.d=d.document;try{if(f.Oa=!1,navigator){var n=navigator.userAgent;("Microsoft Internet Explorer"==navigator.appName||0<=n.indexOf("MSIE ")||0<=n.indexOf("Trident/")&&0<=n.indexOf("Windows NT 6"))&&(f.Oa=!0)}}catch(e){}f.fa=function(){f.ga&&(d.clearTimeout(f.ga),f.ga=p),f.l&&f.J&&f.l.dispatchEvent(f.J),f.A&&("function"==typeof f.A?f.A():f.l&&f.l.href&&(f.d.location=f.l.href)),f.l=f.J=f.A=0},f.Ma=function(){f.b=f.d.body,f.b?(f.v=function(e){var t,i,n,a,r;if(!(f.d&&f.d.getElementById("cppXYctnr")||e&&e["s_fe_"+f._in])){if(f.ya){if(!f.useForcedLinkTracking)return f.b.removeEventListener("click",f.v,!0),f.ya=f.useForcedLinkTracking=0,void 0;f.b.removeEventListener("click",f.v,!1)}else f.useForcedLinkTracking=0;f.clickObject=e.srcElement?e.srcElement:e.target;try{if(!f.clickObject||f.M&&f.M==f.clickObject||!(f.clickObject.tagName||f.clickObject.parentElement||f.clickObject.parentNode))f.clickObject=0;else{var o=f.M=f.clickObject;if(f.ka&&(clearTimeout(f.ka),f.ka=0),f.ka=setTimeout(function(){f.M==o&&(f.M=0)},1e4),n=f.Ea(),f.track(),n<f.Ea()&&f.useForcedLinkTracking&&e.target){for(a=e.target;a&&a!=f.b&&"A"!=a.tagName.toUpperCase()&&"AREA"!=a.tagName.toUpperCase();)a=a.parentNode;if(a&&(r=a.href,f.Ga(r)||(r=0),i=a.target,e.target.dispatchEvent&&r&&(!i||"_self"==i||"_top"==i||"_parent"==i||d.name&&i==d.name))){try{t=f.d.createEvent("MouseEvents")}catch(e){t=new d.MouseEvent}if(t){try{t.initMouseEvent("click",e.bubbles,e.cancelable,e.view,e.detail,e.screenX,e.screenY,e.clientX,e.clientY,e.ctrlKey,e.altKey,e.shiftKey,e.metaKey,e.button,e.relatedTarget)}catch(e){t=0}t&&(t["s_fe_"+f._in]=t.s_fe=1,e.stopPropagation(),e.stopImmediatePropagation&&e.stopImmediatePropagation(),e.preventDefault(),f.l=e.target,f.J=t)}}}}}catch(e){f.clickObject=0}}},f.b&&f.b.attachEvent?f.b.attachEvent("onclick",f.v):f.b&&f.b.addEventListener&&(navigator&&(0<=navigator.userAgent.indexOf("WebKit")&&f.d.createEvent||0<=navigator.userAgent.indexOf("Firefox/2")&&d.MouseEvent)&&(f.ya=1,f.useForcedLinkTracking=1,f.b.addEventListener("click",f.v,!0)),f.b.addEventListener("click",f.v,!1))):setTimeout(f.Ma,30)},f.Ma(),f.loadModule("ActivityMap")}function s_gi(e){var t,i=window.s_c_il,n,a,r=e.split(","),o,s,c=0;if(i)for(n=0;!c&&n<i.length;){if("s_c"==(t=i[n])._c&&(t.account||t.oun))if(t.account&&t.account==e)c=1;else for(a=t.account?t.account:t.oun,a=t.allAccounts?t.allAccounts:a.split(","),o=0;o<r.length;o++)for(s=0;s<a.length;s++)r[o]==a[s]&&(c=1);n++}return c||(t=new AppMeasurement),t.setAccount?t.setAccount(e):t.sa&&t.sa(e),t}function s_pgicq(){var e=window,t=e.s_giq,i,n,a;if(t)for(i=0;i<t.length;i++)(a=s_gi((n=t[i]).oun)).setAccount(n.un),a.setTagContainer(n.tagContainerName);e.s_giq=0}function Visitor(n,e){function a(e){function t(e,t,i){return(i=i?i+="|":i)+(e+"=")+encodeURIComponent(t)}for(var i="",n=0,a=e.length;n<a;n++){var r,o=(r=e[n])[0],r;(r=r[1])!=f&&r!==O&&(i=t(o,r,i))}return(s=(s=i)?s+="|":s)+"TS="+(new Date).getTime();var s,c}if(!n)throw"Visitor requires Adobe Marketing Cloud Org ID";var d=this;d.version="1.10.0";var o=window,r=o.Visitor;r.version=d.version,o.s_c_in||(o.s_c_il=[],o.s_c_in=0),d._c="Visitor",d._il=o.s_c_il,d._in=o.s_c_in,d._il[d._in]=d,o.s_c_in++,d.ja={Fa:[]};var s=o.document,f=r.Cb;f||(f=null);var c=r.Db;c||(c=void 0);var u=r.Oa;u||(u=!0);var l=r.Ma;l||(l=!1),d.fa=function(e){var t=0,i,n;if(e)for(i=0;i<e.length;i++)t=(t<<5)-t+(n=e.charCodeAt(i)),t&=t;return t},d.s=function(e,t){var i="0123456789",n="",a="",r,o,s=8,c=10,l=10;if(t===g&&(x.isClientSideMarketingCloudVisitorID=u),1==e){for(i+="ABCDEF",r=0;r<16;r++)o=Math.floor(Math.random()*s),n+=i.substring(o,o+1),o=Math.floor(Math.random()*s),a+=i.substring(o,o+1),s=16;return n+"-"+a}for(r=0;r<19;r++)o=Math.floor(Math.random()*c),n+=i.substring(o,o+1),0==r&&9==o?c=3:(1==r||2==r)&&10!=c&&o<2?c=10:2<r&&(c=10),o=Math.floor(Math.random()*l),a+=i.substring(o,o+1),0==r&&9==o?l=3:(1==r||2==r)&&10!=l&&o<2?l=10:2<r&&(l=10);return n+a},d.Ra=function(){var e;if(!e&&o.location&&(e=o.location.hostname),e)if(/^[0-9.]+$/.test(e))e="";else{var t=e.split("."),i=t.length-1,n=i-1;if(1<i&&t[i].length<=2&&(2==t[i-1].length||",ac,ad,ae,af,ag,ai,al,am,an,ao,aq,ar,as,at,au,aw,ax,az,ba,bb,be,bf,bg,bh,bi,bj,bm,bo,br,bs,bt,bv,bw,by,bz,ca,cc,cd,cf,cg,ch,ci,cl,cm,cn,co,cr,cu,cv,cw,cx,cz,de,dj,dk,dm,do,dz,ec,ee,eg,es,et,eu,fi,fm,fo,fr,ga,gb,gd,ge,gf,gg,gh,gi,gl,gm,gn,gp,gq,gr,gs,gt,gw,gy,hk,hm,hn,hr,ht,hu,id,ie,im,in,io,iq,ir,is,it,je,jo,jp,kg,ki,km,kn,kp,kr,ky,kz,la,lb,lc,li,lk,lr,ls,lt,lu,lv,ly,ma,mc,md,me,mg,mh,mk,ml,mn,mo,mp,mq,mr,ms,mt,mu,mv,mw,mx,my,na,nc,ne,nf,ng,nl,no,nr,nu,nz,om,pa,pe,pf,ph,pk,pl,pm,pn,pr,ps,pt,pw,py,qa,re,ro,rs,ru,rw,sa,sb,sc,sd,se,sg,sh,si,sj,sk,sl,sm,sn,so,sr,st,su,sv,sx,sy,sz,tc,td,tf,tg,th,tj,tk,tl,tm,tn,to,tp,tr,tt,tv,tw,tz,ua,ug,uk,us,uy,uz,va,vc,ve,vg,vi,vn,vu,wf,ws,yt,".indexOf(","+t[i]+",")<0)&&n--,0<n)for(e="";n<=i;)e=t[i]+(e?".":"")+e,i--}return e},d.cookieRead=function(e){var e=encodeURIComponent(e),t=(";"+s.cookie).split(" ").join(";"),i=t.indexOf(";"+e+"="),n=i<0?i:t.indexOf(";",i+1);return i<0?"":decodeURIComponent(t.substring(i+2+e.length,n<0?t.length:n))},d.cookieWrite=function(e,t,i){var n,a,t=""+t,n=(n=d.cookieLifetime)?(""+n).toUpperCase():"";return i&&"SESSION"!=n&&"NONE"!=n?(a=""!=t?parseInt(n||0,10):-60)?(i=new Date).setTime(i.getTime()+1e3*a):1==i&&(a=(i=new Date).getYear(),i.setYear(a+2+(a<1900?1900:0))):i=0,e&&"NONE"!=n?(s.cookie=encodeURIComponent(e)+"="+encodeURIComponent(t)+"; path=/;"+(i?" expires="+i.toGMTString()+";":"")+(d.cookieDomain?" domain="+d.cookieDomain+";":""),d.cookieRead(e)==t):0},d.h=f,d.J=function(e,t){try{"function"==typeof e?e.apply(o,t):e[1].apply(e[0],t)}catch(e){}},d.Xa=function(e,t){t&&(d.h==f&&(d.h={}),d.h[e]==c&&(d.h[e]=[]),d.h[e].push(t))},d.r=function(e,t){if(d.h!=f){var i=d.h[e];if(i)for(;0<i.length;)d.J(i.shift(),t)}},d.v=function(e,t,i,n){if(i=encodeURIComponent(t)+"="+encodeURIComponent(i),t=M.vb(e),-1===(e=M.mb(e)).indexOf("?"))return e+"?"+i+t;var a=e.split("?"),e,n;return(e=a[0]+"?")+(n=M.$a(a[1],i,n))+t},d.Qa=function(e,t){var i=RegExp("[\\?&#]"+t+"=([^&#]*)").exec(e);if(i&&i.length)return decodeURIComponent(i[1])},d.Wa=function(){var e=f,t=o.location.href;try{var i=d.Qa(t,_.Z);if(i)for(var e={},n=i.split("|"),t=0,a=n.length;t<a;t++){var r=n[t].split("=");e[r[0]]=decodeURIComponent(r[1])}return e}catch(e){}},d.ba=function(){var e=d.Wa();if(e&&e.TS&&!(((new Date).getTime()-e.TS)/6e4>_.Ka||e[m]!==n)){var t=e[g],i=d.setMarketingCloudVisitorID;t&&t.match(_.u)&&i(t),d.j(I,-1),e=e[y],t=d.setAnalyticsVisitorID,e&&e.match(_.u)&&t(e)}},d.Va=function(e){function t(e){M.pb(e)&&d.setCustomerIDs(e)}function i(e){e=e||{},d._supplementalDataIDCurrent=e.supplementalDataIDCurrent||"",d._supplementalDataIDCurrentConsumed=e.supplementalDataIDCurrentConsumed||{},d._supplementalDataIDLast=e.supplementalDataIDLast||"",d._supplementalDataIDLastConsumed=e.supplementalDataIDLastConsumed||{}}e&&e[d.marketingCloudOrgID]&&(t((e=e[d.marketingCloudOrgID]).customerIDs),i(e.sdid))},d.l=f,d.Ta=function(e,t,i,n){t=d.v(t,"d_fieldgroup",e,1),n.url=d.v(n.url,"d_fieldgroup",e,1),n.m=d.v(n.m,"d_fieldgroup",e,1),x.d[e]=u,n===Object(n)&&n.m&&"XMLHttpRequest"===d.la.C.D?d.la.ib(n,i,e):d.useCORSOnly||d.ia(e,t,i)},d.ia=function(e,t,i){var n=0,a=0,r;if(t&&s){for(r=0;!n&&r<2;){try{n=(n=s.getElementsByTagName(0<r?"HEAD":"head"))&&0<n.length?n[0]:0}catch(e){n=0}r++}if(!n)try{s.body&&(n=s.body)}catch(e){n=0}if(n)for(r=0;!a&&r<2;){try{a=s.createElement(0<r?"SCRIPT":"script")}catch(e){a=0}r++}}t&&n&&a?(a.type="text/javascript",a.src=t,n.firstChild?n.insertBefore(a,n.firstChild):n.appendChild(a),n=d.loadTimeout,L.d[e]={requestStart:L.o(),url:t,ta:n,ra:L.ya(),sa:0},i&&(d.l==f&&(d.l={}),d.l[e]=setTimeout(function(){i(u)},n)),d.ja.Fa.push(t)):i&&i()},d.Pa=function(e){d.l!=f&&d.l[e]&&(clearTimeout(d.l[e]),d.l[e]=0)},d.ga=l,d.ha=l,d.isAllowed=function(){return!d.ga&&(d.ga=u,d.cookieRead(d.cookieName)||d.cookieWrite(d.cookieName,"T",1))&&(d.ha=u),d.ha},d.b=f,d.c=f;var p=r.Ub;p||(p="MC");var g=r.ac;g||(g="MCMID");var m=r.Yb;m||(m="MCORGID");var h=r.Vb;h||(h="MCCIDH");var b=r.Zb;b||(b="MCSYNCS");var v=r.$b;v||(v="MCSYNCSOP");var t=r.Wb;t||(t="MCIDTS");var k=r.Xb;k||(k="MCOPTOUT");var D=r.Sb;D||(D="A");var y=r.Pb;y||(y="MCAID");var S=r.Tb;S||(S="AAM");var C=r.Rb;C||(C="MCAAMLH");var I=r.Qb;I||(I="MCAAMB");var O=r.bc;O||(O="NONE"),d.L=0,d.ea=function(){if(!d.L){var e=d.version;d.audienceManagerServer&&(e+="|"+d.audienceManagerServer),d.audienceManagerServerSecure&&(e+="|"+d.audienceManagerServerSecure),d.L=d.fa(e)}return d.L},d.ka=l,d.f=function(){if(!d.ka){d.ka=u;var e=d.ea(),t=l,i=d.cookieRead(d.cookieName),n,a,r,o,s=new Date;if(d.b==f&&(d.b={}),i&&"T"!=i)for((i=i.split("|"))[0].match(/^[\-0-9]+$/)&&(parseInt(i[0],10)!=e&&(t=u),i.shift()),1==i.length%2&&i.pop(),e=0;e<i.length;e+=2)a=(n=i[e].split("-"))[0],r=i[e+1],1<n.length?(o=parseInt(n[1],10),n=0<n[1].indexOf("s")):(o=0,n=l),t&&(a==h&&(r=""),0<o&&(o=s.getTime()/1e3-60)),a&&r&&(d.e(a,r,1),0<o&&(d.b["expire"+a]=o+(n?"s":""),s.getTime()>=1e3*o||n&&!d.cookieRead(d.sessionCookieName)))&&(d.c||(d.c={}),d.c[a]=u);t=d.loadSSL?!!d.trackingServerSecure:!!d.trackingServer,!d.a(y)&&t&&(i=d.cookieRead("s_vi"))&&(1<(i=i.split("|")).length&&0<=i[0].indexOf("v1")&&(0<=(e=(r=i[1]).indexOf("["))&&(r=r.substring(0,e)),r&&r.match(_.u)&&d.e(y,r)))}},d.Za=function(){var e=d.ea(),t,i;for(t in d.b)!Object.prototype[t]&&d.b[t]&&"expire"!=t.substring(0,6)&&(i=d.b[t],e+=(e?"|":"")+t+(d.b["expire"+t]?"-"+d.b["expire"+t]:"")+"|"+i);d.cookieWrite(d.cookieName,e,1)},d.a=function(e,t){return d.b==f||!t&&d.c&&d.c[e]?f:d.b[e]},d.e=function(e,t,i){d.b==f&&(d.b={}),d.b[e]=t,i||d.Za()},d.Sa=function(e,t){var i=d.a(e,t);return i?i.split("*"):f},d.Ya=function(e,t,i){d.e(e,t?t.join("*"):"",i)},d.Jb=function(e,t){var i=d.Sa(e,t);if(i){var n={},a;for(a=0;a<i.length;a+=2)n[i[a]]=i[a+1];return n}return f},d.Lb=function(e,t,i){var n=f,a;if(t)for(a in n=[],t)Object.prototype[a]||(n.push(a),n.push(t[a]));d.Ya(e,n,i)},d.j=function(e,t,i){var n=new Date;n.setTime(n.getTime()+1e3*t),d.b==f&&(d.b={}),d.b["expire"+e]=Math.floor(n.getTime()/1e3)+(i?"s":""),t<0?(d.c||(d.c={}),d.c[e]=u):d.c&&(d.c[e]=l),i&&(d.cookieRead(d.sessionCookieName)||d.cookieWrite(d.sessionCookieName,"1"))},d.da=function(e){return e&&("object"==typeof e&&(e=e.d_mid?e.d_mid:e.visitorID?e.visitorID:e.id?e.id:e.uuid?e.uuid:""+e),e&&("NOTARGET"==(e=e.toUpperCase())&&(e=O)),!e||e!=O&&!e.match(_.u))&&(e=""),e},d.k=function(e,t){if(d.Pa(e),d.i!=f&&(d.i[e]=l),L.d[e]&&(L.d[e].Ab=L.o(),L.I(e)),x.d[e]&&x.Ha(e,l),e==p){x.isClientSideMarketingCloudVisitorID!==u&&(x.isClientSideMarketingCloudVisitorID=l);var i=d.a(g);if(!i||d.overwriteCrossDomainMCIDAndAID){if(!(i="object"==typeof t&&t.mid?t.mid:d.da(t))){if(d.B)return d.getAnalyticsVisitorID(f,l,u),void 0;i=d.s(0,g)}d.e(g,i)}i&&i!=O||(i=""),"object"==typeof t&&((t.d_region||t.dcs_region||t.d_blob||t.blob)&&d.k(S,t),d.B&&t.mid&&d.k(D,{id:t.id})),d.r(g,[i])}if(e==S&&"object"==typeof t){i=604800,t.id_sync_ttl!=c&&t.id_sync_ttl&&(i=parseInt(t.id_sync_ttl,10));var n=d.a(C);n||((n=t.d_region)||(n=t.dcs_region),n&&(d.j(C,i),d.e(C,n))),n||(n=""),d.r(C,[n]),n=d.a(I),(t.d_blob||t.blob)&&((n=t.d_blob)||(n=t.blob),d.j(I,i),d.e(I,n)),n||(n=""),d.r(I,[n]),!t.error_msg&&d.A&&d.e(h,d.A)}var a;(e==D&&((i=d.a(y))&&!d.overwriteCrossDomainMCIDAndAID||((i=d.da(t))?i!==O&&d.j(I,-1):i=O,d.e(y,i)),i&&i!=O||(i=""),d.r(y,[i])),d.idSyncDisableSyncs?A.za=u:(A.za=l,(i={}).ibs=t.ibs,i.subdomain=t.subdomain,A.wb(i)),t===Object(t))&&(d.isAllowed()&&(a=d.a(k)),a||(a=O,t.d_optout&&t.d_optout instanceof Array&&(a=t.d_optout.join(",")),i=parseInt(t.d_ottl,10),isNaN(i)&&(i=7200),d.j(k,i,u),d.e(k,a)),d.r(k,[a]))},d.i=f,d.t=function(n,e,t,i,a){var r="",o,s=M.ob(n);return d.isAllowed()&&(d.f(),r=d.a(n,j[n]===u),d.disableThirdPartyCalls&&!r&&(n===g?(r=d.s(0,g),d.setMarketingCloudVisitorID(r)):n===y&&!s&&(r="",d.setAnalyticsVisitorID(r))),(!r||d.c&&d.c[n])&&(!d.disableThirdPartyCalls||s))&&(n==g||n==k?o=p:n==C||n==I?o=S:n==y&&(o=D),o)?(!e||d.i!=f&&d.i[o]||(d.i==f&&(d.i={}),d.i[o]=u,d.Ta(o,e,function(e,t){if(!d.a(n))if(L.d[o]&&(L.d[o].timeout=L.o(),L.d[o].nb=!!e,L.I(o)),t!==Object(t)||d.useCORSOnly){e&&x.Ha(o,u);var i="";n==g?i=d.s(0,g):o==S&&(i={error_msg:"timeout"}),d.k(o,i)}else d.ia(o,t.url,t.G)},a)),r||(d.Xa(n,t),e||d.k(o,{id:O}),"")):(n!=g&&n!=y||r!=O||(r="",i=u),t&&(i||d.disableThirdPartyCalls)&&d.J(t,[r]),r)},d._setMarketingCloudFields=function(e){d.f(),d.k(p,e)},d.setMarketingCloudVisitorID=function(e){d._setMarketingCloudFields(e)},d.B=l,d.getMarketingCloudVisitorID=function(e,t){if(d.isAllowed()){d.marketingCloudServer&&d.marketingCloudServer.indexOf(".demdex.net")<0&&(d.B=u);var i=d.z("_setMarketingCloudFields");return d.t(g,i.url,e,t,i)}return""},d.Ua=function(){d.getAudienceManagerBlob()},r.AuthState={UNKNOWN:0,AUTHENTICATED:1,LOGGED_OUT:2},d.w={},d.ca=l,d.A="",d.setCustomerIDs=function(e){if(d.isAllowed()&&e){var t,i;for(t in d.f(),e)if(!Object.prototype[t]&&(i=e[t]))if("object"==typeof i){var n={};i.id&&(n.id=i.id),i.authState!=c&&(n.authState=i.authState),d.w[t]=n}else d.w[t]={id:i};var e=d.getCustomerIDs(),n=d.a(h),a="";for(t in n||(n=0),e)Object.prototype[t]||(a+=(a?"|":"")+t+"|"+((i=e[t]).id?i.id:"")+(i.authState?i.authState:""));d.A=d.fa(a),d.A!=n&&(d.ca=u,d.Ua())}},d.getCustomerIDs=function(){d.f();var e={},t,i;for(t in d.w)Object.prototype[t]||(i=d.w[t],e[t]||(e[t]={}),i.id&&(e[t].id=i.id),e[t].authState=i.authState!=c?i.authState:r.AuthState.UNKNOWN);return e},d._setAnalyticsFields=function(e){d.f(),d.k(D,e)},d.setAnalyticsVisitorID=function(e){d._setAnalyticsFields(e)},d.getAnalyticsVisitorID=function(e,t,i){if(d.isAllowed()){var n="";if(i||(n=d.getMarketingCloudVisitorID(function(){d.getAnalyticsVisitorID(e,u)})),n||i){var a=i?d.marketingCloudServer:d.trackingServer,r="";d.loadSSL&&(i?d.marketingCloudServerSecure&&(a=d.marketingCloudServerSecure):d.trackingServerSecure&&(a=d.trackingServerSecure));var o={};if(a){var a="http"+(d.loadSSL?"s":"")+"://"+a+"/id",n="d_visid_ver="+d.version+"&mcorgid="+encodeURIComponent(d.marketingCloudOrgID)+(n?"&mid="+encodeURIComponent(n):"")+(d.idSyncDisable3rdPartySyncing?"&d_coppa=true":""),s=["s_c_il",d._in,"_set"+(i?"MarketingCloud":"Analytics")+"Fields"],r=a+"?"+n+"&callback=s_c_il%5B"+d._in+"%5D._set"+(i?"MarketingCloud":"Analytics")+"Fields";o.m=a+"?"+n,o.oa=s}return o.url=r,d.t(i?g:y,r,e,t,o)}}return""},d._setAudienceManagerFields=function(e){d.f(),d.k(S,e)},d.z=function(e){var t=d.audienceManagerServer,i="",n=d.a(g),a=d.a(I,u),r,r=(r=d.a(y))&&r!=O?"&d_cid_ic=AVID%01"+encodeURIComponent(r):"";if(d.loadSSL&&d.audienceManagerServerSecure&&(t=d.audienceManagerServerSecure),t){var i,o,s;if(i=d.getCustomerIDs())for(o in i)Object.prototype[o]||(s=i[o],r+="&d_cid_ic="+encodeURIComponent(o)+"%01"+encodeURIComponent(s.id?s.id:"")+(s.authState?"%01"+s.authState:""));return e||(e="_setAudienceManagerFields"),t="http"+(d.loadSSL?"s":"")+"://"+t+"/id",n="d_visid_ver="+d.version+"&d_rtbd=json&d_ver=2"+(!n&&d.B?"&d_verify=1":"")+"&d_orgid="+encodeURIComponent(d.marketingCloudOrgID)+"&d_nsid="+(d.idSyncContainerID||0)+(n?"&d_mid="+encodeURIComponent(n):"")+(d.idSyncDisable3rdPartySyncing?"&d_coppa=true":"")+(a?"&d_blob="+encodeURIComponent(a):"")+r,a=["s_c_il",d._in,e],{url:i=t+"?"+n+"&d_cb=s_c_il%5B"+d._in+"%5D."+e,m:t+"?"+n,oa:a}}return{url:i}},d.getAudienceManagerLocationHint=function(e,t){if(d.isAllowed()&&d.getMarketingCloudVisitorID(function(){d.getAudienceManagerLocationHint(e,u)})){var i=d.a(y);if(i||(i=d.getAnalyticsVisitorID(function(){d.getAudienceManagerLocationHint(e,u)})),i)return i=d.z(),d.t(C,i.url,e,t,i)}return""},d.getLocationHint=d.getAudienceManagerLocationHint,d.getAudienceManagerBlob=function(e,t){var i;if(d.isAllowed()&&d.getMarketingCloudVisitorID(function(){d.getAudienceManagerBlob(e,u)})&&((i=d.a(y))||(i=d.getAnalyticsVisitorID(function(){d.getAudienceManagerBlob(e,u)})),i)){var i,n=(i=d.z()).url;return d.ca&&d.j(I,-1),d.t(I,n,e,t,i)}return""},d._supplementalDataIDCurrent="",d._supplementalDataIDCurrentConsumed={},d._supplementalDataIDLast="",d._supplementalDataIDLastConsumed={},d.getSupplementalDataID=function(e,t){!d._supplementalDataIDCurrent&&!t&&(d._supplementalDataIDCurrent=d.s(1));var i=d._supplementalDataIDCurrent;return d._supplementalDataIDLast&&!d._supplementalDataIDLastConsumed[e]?(i=d._supplementalDataIDLast,d._supplementalDataIDLastConsumed[e]=u):i&&(d._supplementalDataIDCurrentConsumed[e]&&(d._supplementalDataIDLast=d._supplementalDataIDCurrent,d._supplementalDataIDLastConsumed=d._supplementalDataIDCurrentConsumed,d._supplementalDataIDCurrent=i=t?"":d.s(1),d._supplementalDataIDCurrentConsumed={}),i&&(d._supplementalDataIDCurrentConsumed[e]=u)),i},r.OptOut={GLOBAL:"global"},d.getOptOut=function(e,t){if(d.isAllowed()){var i=d.z("_setMarketingCloudFields");return d.t(k,i.url,e,t,i)}return""},d.isOptedOut=function(t,i,e){return d.isAllowed()?(i||(i=r.OptOut.GLOBAL),(e=d.getOptOut(function(e){d.J(t,[e==r.OptOut.GLOBAL||0<=e.indexOf(i)])},e))?e==r.OptOut.GLOBAL||0<=e.indexOf(i):f):l},d.appendVisitorIDsTo=function(t){var e=_.Z,i=a([[g,d.a(g)],[y,d.a(y)],[m,d.marketingCloudOrgID]]);try{return d.v(t,e,i)}catch(e){return t}};var _={q:!!o.postMessage,La:1,aa:864e5,Z:"adobe_mc",u:/^[0-9a-fA-F\-]+$/,Ka:5};d.Eb=_,d.na={postMessage:function(e,t,i){var n=1;t&&(_.q?i.postMessage(e,t.replace(/([^:]+:\/\/[^\/]+).*/,"$1")):t&&(i.location=t.replace(/#.*$/,"")+"#"+ +new Date+n+++"&"+e))},U:function(t,i){var e;try{_.q&&(t&&(e=function(e){if("string"==typeof i&&e.origin!==i||"[object Function]"===Object.prototype.toString.call(i)&&!1===i(e.origin))return!1;t(e)}),window.addEventListener?window[t?"addEventListener":"removeEventListener"]("message",e,!1):window[t?"attachEvent":"detachEvent"]("onmessage",e))}catch(e){}}};var M={M:s.addEventListener?function(e,t,i){e.addEventListener(t,function(e){"function"==typeof i&&i(e)},l)}:s.attachEvent?function(e,t,i){e.attachEvent("on"+t,function(e){"function"==typeof i&&i(e)})}:void 0,map:function(e,t){if(Array.prototype.map)return e.map(t);if(void 0===e||e===f)throw new TypeError;var i=Object(e),n=i.length>>>0;if("function"!=typeof t)throw new TypeError;for(var a=Array(n),r=0;r<n;r++)r in i&&(a[r]=t.call(t,i[r],r,i));return a},va:function(e,t){return this.map(e,function(e){return encodeURIComponent(e)}).join(t)},vb:function(e){var t=e.indexOf("#");return 0<t?e.substr(t):""},mb:function(e){var t=e.indexOf("#");return 0<t?e.substr(0,t):e},$a:function(e,t,i){return e=e.split("&"),i=i!=f?i:e.length,e.splice(i,0,t),e.join("&")},ob:function(e,t,i){return e!==y?l:(t||(t=d.trackingServer),i||(i=d.trackingServerSecure),"string"==typeof(e=d.loadSSL?i:t)&&e.length?e.indexOf("2o7.net")<0&&e.indexOf("omtrdc.net")<0:l)},pb:function(e){return Boolean(e&&e===Object(e))}};d.Kb=M;var i={C:(w="none",T=u,"undefined"!=typeof XMLHttpRequest&&XMLHttpRequest===Object(XMLHttpRequest)&&("withCredentials"in new XMLHttpRequest?w="XMLHttpRequest":new Function("/*@cc_on return /^10/.test(@_jscript_version) @*/")()?w="XMLHttpRequest":"undefined"!=typeof XDomainRequest&&XDomainRequest===Object(XDomainRequest)&&(T=l),0<Object.prototype.toString.call(window.Bb).indexOf("Constructor")&&(T=l)),{D:w,Nb:T}),jb:function(){return"none"===this.C.D?f:new window[this.C.D]},ib:function(a,e,t){var r=this;e&&(a.G=e);try{var i=this.jb();i.open("get",a.m+"&ts="+(new Date).getTime(),u),"XMLHttpRequest"===this.C.D&&(i.withCredentials=u,i.timeout=d.loadTimeout,i.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),i.onreadystatechange=function(){if(4===this.readyState&&200===this.status)e:{var e;try{if((e=JSON.parse(this.responseText))!==Object(e)){r.n(a,f,"Response is not JSON");break e}}catch(e){r.n(a,e,"Error parsing response as JSON");break e}try{for(var t=a.oa,i=window,n=0;n<t.length;n++)i=i[t[n]];i(e)}catch(e){r.n(a,e,"Error forming callback function")}}}),i.onerror=function(e){r.n(a,e,"onerror")},i.ontimeout=function(e){r.n(a,e,"ontimeout")},i.send(),L.d[t]={requestStart:L.o(),url:a.m,ta:i.timeout,ra:L.ya(),sa:1},d.ja.Fa.push(a.m)}catch(e){this.n(a,e,"try-catch")}},n:function(e,t,i){d.CORSErrors.push({Ob:e,error:t,description:i}),e.G&&("ontimeout"===i?e.G(u):e.G(l,e))}},w,T;d.la=i;var A={Na:3e4,$:649,Ja:l,id:f,T:[],Q:f,xa:function(e){if("string"==typeof e)return(e=e.split("/"))[0]+"//"+e[2]},g:f,url:f,kb:function(){var e="http://fast.",t="?d_nsid="+d.idSyncContainerID+"#"+encodeURIComponent(s.location.href);return this.g||(this.g="nosubdomainreturned"),d.loadSSL&&(e=d.idSyncSSLUseAkamai?"https://fast.":"https://"),e=e+this.g+".demdex.net/dest5.html"+t,this.Q=this.xa(e),this.id="destination_publishing_iframe_"+this.g+"_"+d.idSyncContainerID,e},cb:function(){var e="?d_nsid="+d.idSyncContainerID+"#"+encodeURIComponent(s.location.href);"string"==typeof d.K&&d.K.length&&(this.id="destination_publishing_iframe_"+(new Date).getTime()+"_"+d.idSyncContainerID,this.Q=this.xa(d.K),this.url=d.K+e)},za:f,ua:l,W:l,F:f,cc:f,ub:f,dc:f,V:l,H:[],sb:[],tb:[],Ba:_.q?15:100,R:[],qb:[],pa:u,Ea:l,Da:function(){return!d.idSyncDisable3rdPartySyncing&&(this.ua||d.Gb)&&this.g&&"nosubdomainreturned"!==this.g&&this.url&&!this.W},O:function(){function e(){(n=document.createElement("iframe")).sandbox="allow-scripts allow-same-origin",n.title="Adobe ID Syncing iFrame",n.id=i.id,n.style.cssText="display: none; width: 0; height: 0;",n.src=i.url,i.ub=u,t(),document.body.appendChild(n)}function t(){M.M(n,"load",function(){n.className="aamIframeLoaded",i.F=u,i.p()})}this.W=u;var i=this,n=document.getElementById(this.id);n?"IFRAME"!==n.nodeName?(this.id+="_2",e()):"aamIframeLoaded"!==n.className?t():(this.F=u,this.Aa=n,this.p()):e(),this.Aa=n},p:function(e){var t=this;e===Object(e)&&(this.R.push(e),this.xb(e)),(this.Ea||!_.q||this.F)&&this.R.length&&(this.I(this.R.shift()),this.p()),!d.idSyncDisableSyncs&&this.F&&this.H.length&&!this.V&&(this.Ja||(this.Ja=u,setTimeout(function(){t.Ba=_.q?15:150},this.Na)),this.V=u,this.Ga())},xb:function(e){var t,i,n;if((t=e.ibs)&&t instanceof Array&&(i=t.length))for(e=0;e<i;e++)(n=t[e]).syncOnPage&&this.qa(n,"","syncOnPage")},I:function(e){var t=encodeURIComponent,i,n,a,r,o;if((i=e.ibs)&&i instanceof Array&&(n=i.length))for(a=0;a<n;a++)r=i[a],o=[t("ibs"),t(r.id||""),t(r.tag||""),M.va(r.url||[],","),t(r.ttl||""),"","",r.fireURLSync?"true":"false"],r.syncOnPage||(this.pa?this.N(o.join("|")):r.fireURLSync&&this.qa(r,o.join("|")));this.qb.push(e)},qa:function(e,t,i){var n=(i="syncOnPage"===i?u:l)?v:b;d.f();var a=d.a(n),r=l,o=l,s=Math.ceil((new Date).getTime()/_.aa);a?(a=a.split("*"),r=(o=this.yb(a,e.id,s)).gb,o=o.hb,(!r||!o)&&this.wa(i,e,t,a,n,s)):(a=[],this.wa(i,e,t,a,n,s))},yb:function(e,t,i){var n=l,a=l,r,o,s;for(o=0;o<e.length;o++)r=e[o],s=parseInt(r.split("-")[1],10),r.match("^"+t+"-")?(n=u,i<s?a=u:(e.splice(o,1),o--)):s<=i&&(e.splice(o,1),o--);return{gb:n,hb:a}},rb:function(e){if(e.join("*").length>this.$)for(e.sort(function(e,t){return parseInt(e.split("-")[1],10)-parseInt(t.split("-")[1],10)});e.join("*").length>this.$;)e.shift()},wa:function(e,t,i,n,l,a){var u=this;if(e){if("img"===t.tag){var e=t.url,i=d.loadSSL?"https:":"http:",r,o,s;for(n=0,r=e.length;n<r;n++){o=e[n],s=/^\/\//.test(o);var c=new Image;M.M(c,"load",function(r,o,s,c){return function(){u.T[r]=f,d.f();var e,t=[],e,i,n,a;if(e=d.a(l))for(i=0,n=(e=e.split("*")).length;i<n;i++)(a=e[i]).match("^"+o.id+"-")||t.push(a);u.Ia(t,o,s,c)}}(this.T.length,t,l,a)),c.src=(s?i:"")+o,this.T.push(c)}}}else this.N(i),this.Ia(n,t,l,a)},N:function(e){var t=encodeURIComponent;this.H.push((d.Hb?t("---destpub-debug---"):t("---destpub---"))+e)},Ia:function(e,t,i,n){e.push(t.id+"-"+(n+Math.ceil(t.ttl/60/24))),this.rb(e),d.e(i,e.join("*"))},Ga:function(){var e=this,t;this.H.length?(t=this.H.shift(),d.na.postMessage(t,this.url,this.Aa.contentWindow),this.sb.push(t),setTimeout(function(){e.Ga()},this.Ba)):this.V=l},U:function(e){var t=/^---destpub-to-parent---/;"string"==typeof e&&t.test(e)&&("canSetThirdPartyCookies"===(t=e.replace(t,"").split("|"))[0]&&(this.pa="true"===t[1]?u:l,this.Ea=u,this.p()),this.tb.push(e))},wb:function(e){(this.url===f||e.subdomain&&"nosubdomainreturned"===this.g)&&(this.g="string"==typeof d.ma&&d.ma.length?d.ma:e.subdomain||"",this.url=this.kb()),e.ibs instanceof Array&&e.ibs.length&&(this.ua=u),this.Da()&&(d.idSyncAttachIframeOnWindowLoad?(r.Y||"complete"===s.readyState||"loaded"===s.readyState)&&this.O():this.ab()),"function"==typeof d.idSyncIDCallResult?d.idSyncIDCallResult(e):this.p(e),"function"==typeof d.idSyncAfterIDCallResult&&d.idSyncAfterIDCallResult(e)},bb:function(e,t){return d.Ib||!e||t-e>_.La},ab:function(){function e(){t.W||(document.body?t.O():setTimeout(e,30))}var t=this;e()}};d.Fb=A,d.timeoutMetricsLog=[];var L={fb:window.performance&&window.performance.timing?1:0,Ca:window.performance&&window.performance.timing?window.performance.timing:f,X:f,P:f,d:{},S:[],send:function(e){if(d.takeTimeoutMetrics&&e===Object(e)){var t=[],i=encodeURIComponent,n;for(n in e)e.hasOwnProperty(n)&&t.push(i(n)+"="+i(e[n]));e="http"+(d.loadSSL?"s":"")+"://dpm.demdex.net/event?d_visid_ver="+d.version+"&d_visid_stg_timeout="+d.loadTimeout+"&"+t.join("&")+"&d_orgid="+i(d.marketingCloudOrgID)+"&d_timingapi="+this.fb+"&d_winload="+this.lb()+"&d_ld="+this.o(),(new Image).src=e,d.timeoutMetricsLog.push(e)}},lb:function(){return this.P===f&&(this.P=this.Ca?this.X-this.Ca.navigationStart:this.X-r.eb),this.P},o:function(){return(new Date).getTime()},I:function(e){var t=this.d[e],i={};i.d_visid_stg_timeout_captured=t.ta,i.d_visid_cors=t.sa,i.d_fieldgroup=e,i.d_settimeout_overriden=t.ra,t.timeout?t.nb?(i.d_visid_timedout=1,i.d_visid_timeout=t.timeout-t.requestStart,i.d_visid_response=-1):(i.d_visid_timedout="n/a",i.d_visid_timeout="n/a",i.d_visid_response="n/a"):(i.d_visid_timedout=0,i.d_visid_timeout=-1,i.d_visid_response=t.Ab-t.requestStart),i.d_visid_url=t.url,r.Y?this.send(i):this.S.push(i),delete this.d[e]},zb:function(){for(var e=0,t=this.S.length;e<t;e++)this.send(this.S[e])},ya:function(){return"function"==typeof setTimeout.toString?-1<setTimeout.toString().indexOf("[native code]")?0:1:-1}};d.Mb=L;var x={isClientSideMarketingCloudVisitorID:f,MCIDCallTimedOut:f,AnalyticsIDCallTimedOut:f,AAMIDCallTimedOut:f,d:{},Ha:function(e,t){switch(e){case p:t===l?this.MCIDCallTimedOut!==u&&(this.MCIDCallTimedOut=l):this.MCIDCallTimedOut=t;break;case D:t===l?this.AnalyticsIDCallTimedOut!==u&&(this.AnalyticsIDCallTimedOut=l):this.AnalyticsIDCallTimedOut=t;break;case S:t===l?this.AAMIDCallTimedOut!==u&&(this.AAMIDCallTimedOut=l):this.AAMIDCallTimedOut=t}}};d.isClientSideMarketingCloudVisitorID=function(){return x.isClientSideMarketingCloudVisitorID},d.MCIDCallTimedOut=function(){return x.MCIDCallTimedOut},d.AnalyticsIDCallTimedOut=function(){return x.AnalyticsIDCallTimedOut},d.AAMIDCallTimedOut=function(){return x.AAMIDCallTimedOut},d.idSyncGetOnPageSyncInfo=function(){return d.f(),d.a(v)},d.idSyncByURL=function(e){var t,i;t=(i=e||{}).minutesToLive;var n="";if(d.idSyncDisableSyncs&&(n=n||"Error: id syncs have been disabled"),"string"==typeof i.dpid&&i.dpid.length||(n=n||"Error: config.dpid is empty"),"string"==typeof i.url&&i.url.length||(n=n||"Error: config.url is empty"),void 0===t?t=20160:(t=parseInt(t,10),(isNaN(t)||t<=0)&&(n=n||"Error: config.minutesToLive needs to be a positive number")),(t={error:n,ec:t}).error)return t.error;var n=e.url,a=encodeURIComponent,i=A,r,n=n.replace(/^https:/,"").replace(/^http:/,"");return r=M.va(["",e.dpid,e.dpuuid||""],","),e=["ibs",a(e.dpid),"img",a(n),t.ttl,"",r],i.N(e.join("|")),i.p(),"Successfully queued"},d.idSyncByDataSource=function(e){return e===Object(e)&&"string"==typeof e.dpuuid&&e.dpuuid.length?(e.url="//dpm.demdex.net/ibs:dpid="+e.dpid+"&dpuuid="+e.dpuuid,d.idSyncByURL(e)):"Error: config or config.dpuuid is empty"},n.indexOf("@")<0&&(n+="@AdobeOrg"),d.marketingCloudOrgID=n,d.cookieName="AMCV_"+n,d.sessionCookieName="AMCVS_"+n,d.cookieDomain=d.Ra(),d.cookieDomain==o.location.hostname&&(d.cookieDomain=""),d.loadSSL=0<=o.location.protocol.toLowerCase().indexOf("https"),d.loadTimeout=3e4,d.CORSErrors=[],d.marketingCloudServer=d.audienceManagerServer="dpm.demdex.net";var j={};if(j[C]=u,j[I]=u,e&&"object"==typeof e){for(var R in e)!Object.prototype[R]&&(d[R]=e[R]);d.idSyncContainerID=d.idSyncContainerID||0,d.ba(),d.f(),i=d.a(t),R=Math.ceil((new Date).getTime()/_.aa),!d.idSyncDisableSyncs&&A.bb(i,R)&&(d.j(I,-1),d.e(t,R)),d.getMarketingCloudVisitorID(),d.getAudienceManagerLocationHint(),d.getAudienceManagerBlob(),d.Va(d.serverState)}else d.ba();if(!d.idSyncDisableSyncs){A.cb(),M.M(window,"load",function(){r.Y=u,L.X=L.o(),L.zb();var e=A;e.Da()&&e.O()});try{d.na.U(function(e){A.U(e.data)},A.Q)}catch(e){}}}window.s=new AppMeasurement,function(e,t){function i(e){setPageUrl(e)}e.account=t.locale.rules.OMNITURE_S_ACCOUNT,e.trackDownloadLinks=!0,e.trackExternalLinks=!1,e.trackInlineStats=!0,e.linkDownloadFileTypes="exe,zip,wav,mp3,mov,mpg,avi,wmv,pdf,doc,docx,xls,xlsx,ppt,pptx",e.linkInternalFilters=t.locale.rules.OMNITURE_S_LNK_INT_FLTR,e.linkLeaveQueryString=!1,e.linkTrackVars="None",e.linkTrackEvents="None",e.charSet="UTF-8",e.cookieDomainPeriods="2",e.prop50="hermom06",e.usePlugins=!0,e.doPlugins=i,e.debugTracking=!1,e.trackingServer="om.hotels.com",e.trackingServerSecure="oms.hotels.com",e.visitorNamespace="hotelscom"}(window.s,window.hcom),function(e,t){var i=e.location.hostname,n=function(){t.visitorMigrationKey="52023C29",t.visitorMigrationServer="om.hotels.com",t.visitorMigrationServerSecure="oms.hotels.com"},a=function(e,t){return-1!==e.indexOf(t,e.length-t.length)};switch(!0){case a(i,"hoteles.com"):t.trackingServer="om.hoteles.com",t.trackingServerSecure="oms.hoteles.com",n();break;case a(i,"hoteis.com"):t.trackingServer="om.hoteis.com",t.trackingServerSecure="oms.hoteis.com",n();break;case a(i,"hotels.cn"):t.trackingServer="om.hotels.cn",t.trackingServerSecure="oms.hotels.cn",n();break;case a(i,"venere.com"):t.trackingServer="om.venere.com",t.trackingServerSecure="oms.venere.com";break;default:t.trackingServer="om.hotels.com",t.trackingServerSecure="oms.hotels.com"}}(window,window.s),function(e,t){var i="C00802BE5330A8350A490D4C@AdobeOrg";t.visitor=new Visitor(i,{trackingServer:t.trackingServer,trackingServerSecure:t.trackingServerSecure,marketingCloudServer:t.trackingServer,marketingCloudServerSecure:t.trackingServerSecure}),t.visitor.MCIDCallTimedOut()&&(t.events+=",event218"),t.visitor.AnalyticsIDCallTimedOut()&&(t.events+=",event219"),t.visitor.isClientSideMarketingCloudVisitorID()&&(t.events+=",event220"),t.eVar84="VisitorAPI "+(t.visitor instanceof Visitor?"Present":"Missing")}(window,window.s),AppMeasurement.getInstance=s_gi,window.s_objectID||(window.s_objectID=0),s_pgicq(),Visitor.getInstance=function(e,t){var i,n=window.s_c_il,a;if(e.indexOf("@")<0&&(e+="@AdobeOrg"),n)for(a=0;a<n.length;a++)if((i=n[a])&&"Visitor"==i._c&&i.marketingCloudOrgID==e)return i;return new Visitor(e,t)},function(){function e(){t.Y=i}var t=window.Visitor,i=t.Oa,n=t.Ma;i||(i=!0),n||(n=!1),window.addEventListener?window.addEventListener("load",e):window.attachEvent&&window.attachEvent("onload",e),t.eb=(new Date).getTime()}();
/*! core/third-party/sc-comp.min.js*/!function(){function c(t){var i=0,e,n,r,h,a;if(this.b=r=[],this.c=h={},t)for(i=0,e=(n=g(t)).length;i<e;i+=1)a=n[i],r[i]=t[a],h[a]=i;else n=[];this.a=n,this.length=i}function p(e,n,t){var r=!t&&new c(void 0)||null;return i.call(n.a,t?function(t,i){e[t]=n.b[i]}:function(t,i){r.set(t,e[t]),e[t]=n.b[i]},void 0),r}var i=Array.prototype.forEach||function(t,i){var e,n;for(e=0,n=this.length;e<n;e+=1)e in this&&t.call(i,this[e],e,this)},g=Object.keys||function(t){var i=[],e=0,n;for(n in t)t.hasOwnProperty(n)&&(i[e++]=n);return i};c.prototype={set:function(t,i){var e,e=0<=(e=this.c[t])?e:this.a.length;this.a[e]=t,this.b[e]=i,this.c[t]=e,this.length=this.a.length}};var u={channel:"ch",plugins:"p",pageURL:"g",vmk:"vmt",charSet:"ce",visitorNamespace:"ns",colorDepth:"c",javascriptVersion:"k",campaign:"v0",server:"",pageName:""},b={eVar:"v",prop:"c",list:"l",hier:"h"},y=/^(eVar|prop)([\d]+)$/,t=this.s,d;t&&(d=t.hav,t.hav=function(){function t(t,i,e){var e="D="+e,n=l.length,r=e.length-i.length,h=0;if(r<0)for(;t<n;t+=1)if(i===l.b[t]){v.set(f[l.a[t]],e);for(var a=l,s=t,o=void 0,c=1+s,o=s;o<c;o+=1)delete a.c[a.a[o]];a.a.splice(s,1),a.b.splice(s,1),a.length=a.a.length,t-=1,n-=1,h+=r}return h}var i,e={};i=new c(void 0);var n=e,r,h,a,s={},o;for(h in this)this.hasOwnProperty(h)&&(r=y.exec(h))&&(a=this[h])&&(s[o=b[r[1]]+r[2]]=a,n[o]=h);var l=new c(s),v=i,f=e;for(e=s=0,r=(h=g(u)).length;e<r;e+=1)(a=this[n=h[e]])&&(s+=t(0,String(a),u[n]||n));for(e=0;e<l.length-1;e+=1)s+=t(e+1,l.b[e],l.a[e]);return e=p(this,i),i=d.apply(this,arguments),p(this,e,!0),i})}();
/*! core/third-party/direct-word.js*/
function getDirectwordPopUpParameters(){var t=(screen.height-192)/2,e=(screen.width-535)/2;return["toolbar=no","scrollbars=no","location=no","statusbar=no","menubar=no","resizable=no","width=640px","height=700px","screenX="+e,"screenY="+t,"left="+e,"top="+t].join(",")}function getDirectwordPath(){var t=dio.getClientData("common.locale"),e=window.location.hostname,o=dio.getClientData("brandName"),a,n,c;return"https://www.directword.io/survey/domain="+(["Hotels.com","Hoteis.com","Hoteles.com"].includes(o)?"www.hotels.com":e)+"/locale="+t+getDirectwordMetadata()}function TLGetCookie(t){return 0<document.cookie.length&&(c_start=document.cookie.indexOf(t+"="),-1!==c_start)?(c_start=c_start+t.length+1,c_end=document.cookie.indexOf(";",c_start),-1===c_end&&(c_end=document.cookie.length),unescape(document.cookie.substring(c_start,c_end))):null}function getDirectwordMetadata(){var t=TLGetCookie("_cls_s"),e="object"==typeof utag_data&&"string"==typeof utag_data.guid&&1<utag_data.guid.length?utag_data.guid:null,o="object"==typeof utag_data&&"number"==typeof utag_data.tuid?utag_data.tuid:null,a={url:window.location.href,pagename:dio.getObjectByName("window.commonDataBlock.page.pageName")||"unknown",tuid:o,guid:e,appname:"DIO"},n,c;return"?metadata="+encodeURIComponent(JSON.stringify(a))+(null!==t?"&_cls_s="+t:"")}function openDirectWord(){window.open(getDirectwordPath(),"",getDirectwordPopUpParameters())}
/*! hmvt-7296-reporting-patch.js*/
"use strict";$(function(){"undefined"!=typeof window&&dio.sitecatalyst.sendPartialReport({},"","User exposed to Cookie Consent Banner")});
/*! core/third-party/onestream-dionysus-ext.js*/
!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.OneStream=t():e.OneStream=t()}(window,function(){return function(n){function o(e){if(r[e])return r[e].exports;var t=r[e]={i:e,l:!1,exports:{}};return n[e].call(t.exports,t,t.exports,o),t.l=!0,t.exports}var r={};return o.m=n,o.c=r,o.d=function(e,t,n){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},o.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)o.d(n,r,function(e){return t[e]}.bind(null,r));return n},o.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="",o(o.s=2)}([function(e,t,n){window,e.exports=function(n){function o(e){if(r[e])return r[e].exports;var t=r[e]={i:e,l:!1,exports:{}};return n[e].call(t.exports,t,t.exports,o),t.l=!0,t.exports}var r={};return o.m=n,o.c=r,o.d=function(e,t,n){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},o.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)o.d(n,r,function(e){return t[e]}.bind(null,r));return n},o.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="",o(o.s=1)}([function(e,t){"function"!=typeof Object.assign&&Object.defineProperty(Object,"assign",{value:function(e,t){"use strict";if(null==e)throw new TypeError("Cannot convert undefined or null to object");for(var n=Object(e),r=1;r<arguments.length;r++){var o=arguments[r];if(null!=o)for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(n[i]=o[i])}return n},writable:!0,configurable:!0})},function(e,t,n){"use strict";function r(e,t){try{return e(t)}catch(e){void 0}}function c(){var e=!1,t=document.createElement("div");return t.setAttribute("class","pub_300x250 pub_300x250m pub_728x90 text-ad textAd text_ad text_ads text-ads text-ad-links"),t.setAttribute("style","width: 1px ! important; height: 1px !important; position: absolute !important; left: -10000px !important; top: -1000px !important;"),window.document.body.appendChild(t),null===window.document.body.getAttribute("abp")&&null!==t.offsetParent&&0!=t.offsetHeight&&0!=t.offsetLeft&&0!=t.offsetTop&&0!=t.offsetWidth&&0!=t.clientHeight&&0!=t.clientWidth&&"none"!==t.style.display&&"hidden"!==t.style.visibility||(e=!0),window.document.body.removeChild(t),e}function u(e){return(document.cookie.match(e)||[])[1]}function y(e,t,n,r){var o,i=window.commonDataBlock||{},a=i.user||{},s=i.page||{},c={eventType:e,eventName:t,user:{guid:(o=u(j)||"unknown",o.includes(":")&&(o=o.replace(/"/g,"").split(":")[0]),o)},visit:{visitId:u(C)||a.sessionId||"unknown"},page:{pageId:n||s.requestId||"unknown"},sentAt:Date.now()},l=u(E);return l&&(c.user.xdid=l),void 0!==r&&(c.page.isHoBFlow=r),c}function o(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=e.kes,n=void 0!==t&&t,r=e.usedExperiments,o=void 0===r?null:r,i=e.requestId,a={deviceInformation:{userAgent:navigator.userAgent,cookiesEnabled:!!navigator.cookieEnabled,adBlockEnabled:c()},experience:{kes:n,usedExperiments:o,viewportWidth:window.innerWidth||document.documentElement.clientWidth,viewportHeight:window.innerHeight||document.documentElement.clientHeight,resolutionWidth:window.screen.width,resolutionHeight:window.screen.height}},s=i?"contentLoaded":"pageLoaded";return Object.assign(a,y("pageImpression",s,i))}function b(t){for(var e=arguments.length,n=new Array(1<e?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];var o=n.filter(function(e){return!(e in t)});if(o.length)throw new Error("Missing mandatory field: ".concat(o))}function i(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};b(e,"eventName","searchQuery");var t=e.adults||[],r=e.children||[];if(!Array.isArray(t))throw new Error("adults param is not an array");if(!Array.isArray(r))throw new Error("children param is not an array");var n={interactionType:"click",search:{searchQuery:e.searchQuery,isCurrentLocationSearch:!!e.isCurrentLocationSearch,occupancy:{totalNumberOfAdults:e.adultsTotal||0,totalNumberOfChildren:e.kidsTotal||0,roomOccupancies:t.map(function(e,t){var n={numberOfAdults:e};return r[t]&&r[t].length&&(n.numberOfChildren=r[t].length,n.childrenAges=r[t]),n})}}};return e.rooms&&(n.search.occupancy.totalNumberOfRooms=e.rooms),e.nights&&(n.search.occupancy.totalNumberOfNights=e.nights),e.checkInDate&&(n.search.checkInDate=e.checkInDate),e.checkOutDate&&(n.search.checkOutDate=e.checkOutDate),Object.assign(n,y("searchInteraction",e.eventName))}function a(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return b(e,"eventName"),Object.assign({filters:e.filters,interactionType:"click"},y("filterInteraction",e.eventName))}function s(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return b(e,"eventName","searchFieldContent"),Object.assign({searchField:"Destination",searchFieldContent:e.searchFieldContent,numberOfBackspaces:e.backspaces},y("typeaheadInteraction",e.eventName))}function l(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};b(e,"eventName","searchFieldContent","selectionDepth","numberOfSuggestions","destinationGeoId","destinationId");var t={searchField:"Destination",searchFieldContent:e.searchFieldContent,selectionDepth:e.selectionDepth,numberOfBackspaces:e.backspaces,numberOfSuggestions:e.numberOfSuggestions,suggestionType:e.category?e.category:"Normal",destinationGeoId:e.destinationGeoId,destinationId:e.destinationId};return Object.assign(t,"boolean"==typeof e.misspellingFallback&&{misspellingFallback:e.misspellingFallback},e.serviceRequestLogId&&{serviceRequestLogId:e.serviceRequestLogId},e.destinationName&&{destinationName:e.destinationName},e.destinationType&&{destinationType:e.destinationType,destinationGeoSystem:"HOTEL"===e.destinationType?"LCM":"GAIA"},e.destinationGroup&&{destinationGroup:e.destinationGroup},null!==e.selectionDepthInGroup&&{selectionDepthInGroup:e.selectionDepthInGroup},e.suggestionList&&{suggestionList:e.suggestionList},y("typeaheadSelection",e.eventName))}function p(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return b(e,"eventName"),Object.assign({contextData:e.contextData||null,interactionType:e.interactionType||"click",isTemporary:!!e.isTemporary},y("interaction",e.eventName,"",e.isHoBFlow))}function d(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};b(e,"eventName");var t=e.eventName,n=e.contextData,r=e.impressionCategory,o=e.isTemporary,i=e.isHoBFlow;return Object.assign({contextData:n||null,impressionCategory:r||null,isTemporary:!!o},y("impression",t,"",i))}function m(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};b(e,"eventName","isZoomMessageShown"),b(e.filters||{},"unavailableProperties","alternativeCriteriaProperties","landmarks","trainStations","airports");var t=e.eventName,n=e.propertyId,r=e.propertySelectedAvailability,o=e.lat,i=e.long,a=e.zoomLevel,s=e.isZoomMessageShown,c=e.mapType,l=e.availablePropertiesShown,u=e.availablePropertiesHidden,p=e.unavailablePropertiesShown,d=e.unavailablePropertiesHidden,m=e.alternativeCriteriaPropertiesShown,f=e.alternativeCriteriaPropertiesHidden,h=e.totalPropertiesShown,v=e.totalPropertiesHidden,g=e.filters;return Object.assign({propertyId:n||null,interactionType:"click",propertySelectedAvailability:r||null,mapContext:{mapLatitude:o&&Number(o.toFixed(2)),mapLongitude:i&&Number(i.toFixed(2)),zoomLevel:a,isZoomMessageShown:!!s,mapType:c,mapProperties:{availableProperties:{shown:l,hidden:u||0},unavailableProperties:{shown:p,hidden:d},alternativeCriteriaProperties:{shown:m,hidden:f},totalProperties:{shown:h,hidden:v}},mapFiltersApplied:{unavailableProperties:g.unavailableProperties,alternativeCriteriaProperties:g.alternativeCriteriaProperties,landmarks:g.landmarks,trainStations:g.trainStations,airports:g.airports}}},y("mapInteraction",t))}function f(e,t){var n=window.commonDataBlock||{},r=n.user||{},o=n.page||{},i=t.eventName,a=t.properties,s=t.component,c=t.componentElement;if(!Array.isArray(a))throw new Error("Properties param is not an array");if(!a.length)throw new Error("Properties param is an empty array");return a.forEach(function(e){var t=e.imageId,n=e.imageTrackingInfo;if(t&&(e.imageId=t.toString()),n){var r=n.split("|$#|");e.algorithm={namespace:r[0],name:r[1],version:r[2]}}else e.algorithm||(e.algorithm=null);delete e.imageTrackingInfo,b(e,"propertyId")}),Object.assign({properties:a.slice(),component:s,componentElement:c,platform:r.platformId||null,pos:r.pos||null,pageName:o.pageName||null},y(e,i))}function h(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return b(e,"eventName","properties","component","componentElement"),Object.assign({scroll:e.scroll||null},f("propertyImpression",e))}function v(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return b(e,"eventName","properties","component","componentElement"),Object.assign({interactionType:e.interactionType||"click"},f("propertyInteraction",e))}function g(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};b(e,"eventName");var t=e.eventName,n=e.banditCampaignId,r=e.banditEvents,o=e.banditPayloads;return Object.assign({banditCampaignId:n||null,banditEvents:r||null,banditPayloads:o||null},y("multiArmedBandits",t))}function w(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};b(e,"eventName","recommendations","component","componentElement","egRecommendationResponseId","redirectedTo");var t=window.commonDataBlock||{},n=t.user||{},r=t.page||{},o=e.eventName,i=e.component,a=e.componentElement,s=e.egRecommendationResponseId,c=e.positionOnPage,l=e.redirectedTo,u=e.recommendations,p=e.recommendationTitle,d=e.scroll;return Object.assign({component:i,componentElement:a,egRecommendationResponseId:s,platform:n.platformId||null,pos:n.pos||null,pageName:r.pageName||null,positionOnPage:c,redirectedTo:l,recommendations:u,recommendationTitle:p,scroll:d||null},y("recommendationInteraction",o))}function O(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};b(e,"eventName");var t=e.eventName,n=e.firstInputDelay,r=e.largestContentfulPaint,o=e.cumulativeLayoutShift,i={};return void 0!==n&&(i.firstInputDelay=Math.round(n)),void 0!==r&&(i.largestContentfulPaint=Math.round(r)),void 0!==o&&(i.cumulativeLayoutShift=o),Object.assign(i,y("speedMetrics",t))}function I(e){return(I="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function k(){return(k="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=S(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}}).apply(this,arguments)}function S(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=P(e)););return e}function A(e,t){return(A=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function N(e,t){if(t&&("object"===I(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function P(e){return(P=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function T(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function D(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function x(e,t,n){return t&&D(e.prototype,t),n&&D(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}n.r(t),n(0);var E=/xdid=([^;]+)/,j=/guid=([^;]+)/,C=/visitId=([^;]+)/;n.d(t,"OneStream",function(){return L}),n.d(t,"OneStreamKes",function(){return M});var L=function(){function t(e){T(this,t),this.harvesterUrl=e,this.osData=[],this.schemaMap={pageImpression:o,searchInteraction:i,filterInteraction:a,typeaheadInteraction:s,typeaheadSelection:l,genericInteraction:p,genericImpression:d,mapInteraction:m,propertyImpression:h,propertyInteraction:v,recommendationInteraction:w,multiArmedBandits:g,speedMetrics:O},window.addEventListener("beforeunload",this.sendOsData.bind(this),!1)}return x(t,[{key:"report",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},n=!!t.isImmediateReport&&t.isImmediateReport;this.schemaMap[e]&&this.collectOsData(r(this.schemaMap[e],t),n)}},{key:"collectOsData",value:function(e,t){e&&(this.osData.push(e),this.processPendingEvents(t))}},{key:"sendOsData",value:function(){var e,t,n,r,o,i,a;this.osData.length&&(e=this.harvesterUrl,t={batch:this.osData},void(navigator.sendBeacon?(i=e,a=t,void navigator.sendBeacon(i,JSON.stringify(a))):(n=e,r=t,(o=new XMLHttpRequest).open("POST",n,!0),void o.send(JSON.stringify(r))))),this.osData=[]}},{key:"processPendingEvents",value:function(e){e?this.sendOsData():"requestIdleCallback"in window?requestIdleCallback(this.sendOsData.bind(this)):setTimeout(this.sendOsData.bind(this),100)}}]),t}(),M=function(e){function n(e){var t;return T(this,n),(t=r.call(this,e)).currentScrollPos=0,t.intersectionObserverSupported=void 0!==window.IntersectionObserver,t}!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&A(e,t)}(n,e);var r=(o=n,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,t=P(o);if(i){var n=P(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return N(this,e)}),o,i;return x(n,[{key:"getScrollDirection",value:function(){var e=document.querySelector('div[data-modal-scrollable="vertical"]'),t=null,n=e?e.scrollTop:window.scrollY;return n>this.currentScrollPos?t="down":n<this.currentScrollPos&&(t="up"),this.currentScrollPos=n<=0?0:n,t}},{key:"report",value:function(e,t){(this.intersectionObserverSupported||"propertyInteraction"!==e&&"propertyImpression"!==e)&&("propertyImpression"!==e||t.scroll||(t.scroll=this.getScrollDirection()),k(P(n.prototype),"report",this).call(this,e,t))}}]),n}(L)}])},function(e,t){Array.prototype.includes||Object.defineProperty(Array.prototype,"includes",{value:function(e,t){if(null==this)throw new TypeError('"this" is null or not defined');var n=Object(this),r=n.length>>>0;if(0===r)return!1;for(var o,i,a=0|t,s=Math.max(0<=a?a:r-Math.abs(a),0);s<r;){if((o=n[s])===(i=e)||"number"==typeof o&&"number"==typeof i&&isNaN(o)&&isNaN(i))return!0;s++}return!1}}),Element.prototype.closest||(Element.prototype.closest=function(e){var t=this;do{if(t.matches(e))return t;t=t.parentElement||t.parentNode}while(null!==t&&1===t.nodeType);return null}),window.NodeList&&!NodeList.prototype.forEach&&(NodeList.prototype.forEach=Array.prototype.forEach)},function(e,t,n){"use strict";function a(e){var t={kes:!1,usedExperiments:(dio.getClientData("usedV2Experiments")||[]).map(function(e){return dio.sitecatalyst.buildMvtReportString(parseInt(e,10),"M")}).filter(Boolean).join(",")||null};return e&&e.requestId&&(t.requestId=e.requestId),t}function i(e){return("0"+e).slice(-2)}function d(e){var t=new Date(dio.Date(e).date),n=t.getFullYear(),r=i(t.getMonth()+1),o=i(t.getDate());return"".concat(n,"-").concat(r,"-").concat(o)}function m(e){return e.split("|")[0].replace("GEO_LOCATION:","").trim()}function s(e){var t=e.target,n=e.eventName;if(t){var r,o,i,a,s=h(j,t),c=g(L,t),l=g(M,t),u=t.querySelector("input[name=".concat(R,"]")),p=!1;return u&&(p=(r=u.getAttribute("value"))&&r.includes("GEO_LOCATION")),{eventName:n,searchQuery:p?m(r):g(F,t),isCurrentLocationSearch:p,checkInDate:c&&d(c),checkOutDate:l&&d(l),nights:c&&l&&parseInt((o=q,i=t,a=y(o,i),a&&a.textContent),10),rooms:parseInt(g(_,t),10),adults:s,children:f(t),adultsTotal:v(s),kidsTotal:v(h(C,t))}}}function f(e){var r=[];return Array.from(e.querySelectorAll&&e.querySelectorAll("[".concat(B,"]"))||[]).map(function(e){var t=y(G,e);if(t){var n=Array.from(t.querySelectorAll&&t.querySelectorAll("[".concat(H,"]")));r.push(n.map(function(e){return parseInt(e.value)}))}else r.push([])}),r}function h(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};return Array.from(t.querySelectorAll&&t.querySelectorAll("[".concat(e,"]"))||[],function(e){return parseInt(e.value,10)})}function v(e){return e.reduce(function(e,t){return e+t},0)}function g(e,t){var n=y(e,t);return n&&(n.value||n.innerHTML)}function y(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};return t.querySelector&&t.querySelector("[".concat(e,"]"))}function c(e){var t,n=[],r=e.target;return Array.isArray(r)?(t=pe,n=r.map(function(e){return o(e)})):(t=r.getAttribute(Y)?de:r.getAttribute(K)?me:fe,n=[o(r)]),{eventName:t,filters:n}}function o(e){var t=e.closest("[".concat(Q,"]")),n=e.closest("[".concat(W,"]")),r=t&&t.getAttribute(Q)||n&&n.getAttribute(W),o={filterCategory:ue[r]},i=e.getAttribute(z),a=e.getAttribute(Z)||e.parentNode.getAttribute(Z),s=e.getAttribute(J),c=e.getAttribute(V)||e.parentNode.getAttribute(V),l=e.getAttribute(U)||e.parentNode.getAttribute(U);return i&&(o.filterId=i),a&&(o.filterValue=a),null!==s&&(o.filterIndex=parseInt(s,10)),null!==c&&(o.filterMax=parseInt(c,10)),null!==l&&(o.filterMin=parseInt(l,10)),o}function r(e){he.backspaces=e}function l(e){var t,n=e.target;return ve.includes(n)||((t=n).addEventListener("keydown",function(e){var t=e.keyCode||e.charCode;8!==t&&46!==t||r(he.backspaces+1)}),ve.push(t)),"typeaheadFocused"===e.eventName&&r(0),{eventName:e.eventName,searchFieldContent:n&&n.value,backspaces:he.backspaces}}function u(e){var t=e.selectedItem,n={eventName:e.eventName,searchFieldContent:t.searchFieldContent,backspaces:he.backspaces,selectionDepth:t.selectionDepth,selectionDepthInGroup:t.selectionDepthInGroup,numberOfSuggestions:t.numberOfSuggestions,serviceRequestLogId:t.serviceRequestLogId,destinationGeoId:t.destinationGeoId,destinationId:t.destinationId};return r(0),Object.assign(n,"boolean"==typeof t.misspellingFallback&&{misspellingFallback:t.misspellingFallback},t.destinationName&&{destinationName:t.destinationName},t.destinationType&&{destinationType:t.destinationType},t.destinationGroup&&{destinationGroup:t.destinationGroup})}function p(e){var t=e.target;return{eventName:t.getAttribute(E),isTemporary:t.getAttribute(X),contextData:t.getAttribute($)}}function b(e){var t=e.target;return{eventName:t.getAttribute(E),isTemporary:t.getAttribute(X),contextData:t.getAttribute($),impressionCategory:t.getAttribute(ee)}}function w(e,t){return Array.isArray(e)?e.map(function(e){return O(e,t)}):[O(e,t)]}function O(e,t){var n={},r=e.getAttribute(te)||window.commonDataBlock&&window.commonDataBlock.property&&window.commonDataBlock.property.hotelId,o=e.getAttribute(ne),i=e.getAttribute(re),a=e.getAttribute(oe),s=e.getAttribute(ie),c=e.getAttribute(ae),l=e.getAttribute(se),u=e.getAttribute(ce);return r&&(n.propertyId=parseInt(r,10)),o&&(n.imageId=o.toString()),null!=i&&(n.rank=parseInt(i,10)),null!=a&&(n.price=parseFloat(a)),null!=s&&(n.strikethroughPrice=parseFloat(s)),null!=c&&(n.starRating=parseFloat(c)),null!=l&&(n.guestRating=parseFloat(l)),u?n.imageTrackingInfo=u:n.algorithm=function(e){if(e)return{name:e.algorithmName||null,namespace:e.namespace||null,version:e.version||null}}(t)||null,n}function I(e){var t=e.params,n=t.eventName,r=t.properties,o=t.component,i=t.componentElement,a=t.scroll;return{eventName:n,properties:w(r,t.algorithm),component:o,componentElement:i,scroll:a||null}}function k(e){var t=e.params,n=t.eventName,r=t.properties,o=t.interactionType,i=t.component,a=t.componentElement;return{eventName:n,properties:w(r,t.algorithm),interactionType:o,component:i,componentElement:a}}function S(){ge.innerHeight=window.innerHeight,ge.innerWidth=window.innerWidth}function A(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}n.r(t),n.d(t,"OneStreamDionysusExt",function(){return ye});var N=n(0),P=200,T="data-os-imp",D="data-os-int",x="data-os-freq",E="data-os-event",j="data-os-adults",C="data-os-children",L="data-os-checkin",M="data-os-checkout",F="data-os-dest",R="resolved-location",q="data-os-nights",_="data-os-rooms",B="data-os-room",G="data-os-children-room",H="data-os-child-age",W="data-filter-name",Q="data-filter-type",z="data-os-filter-id",Z="data-os-filter-val",J="data-os-filter-index",U="data-os-filter-min",V="data-os-filter-max",Y="checked",K="data-os-filter-remove",X="data-os-temp",$="data-os-context",ee="data-os-imp-category",te="data-os-property-id",ne="data-os-property-image-id",re="data-os-property-rank",oe="data-os-property-price",ie="data-os-property-strikethrough-price",ae="data-os-property-star-rating",se="data-os-property-guest-rating",ce="data-image-tracking",le="once",ue={name:"Name",popular:"Popular",price:"Price","star-rating":"StarRating","guest-rating":"GuestRating","payment-preference":"Payment Preference","welcome-rewards":"Welcome Rewards",neighbourhood:"Neighbourhood",landmarks:"Landmarks","accommodation-type":"Property Type",facilities:"Facilities","themes-types":"Hotel Theme / Types theme",accessibility:"Accessibility"},pe="filterClearedAll",de="filterRemoved",me="filterCleared",fe="filterApplied",he={backspaces:0},ve=[],ge={innerHeight:window.innerHeight,innerWidth:window.innerWidth};n(1);var ye=function(){function t(e){var n,r,o,i=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),this.oneStream=new N.OneStream(e),this.schemaMap={pageImpression:a,searchInteraction:s,filterInteraction:c,typeaheadInteraction:l,typeaheadSelection:u,genericInteraction:p,genericImpression:b,propertyImpression:I,propertyInteraction:k},this.eventsToReportOnce=[],document.addEventListener("click",this.reportInteraction.bind(this),!1),window.addEventListener("OneStreamLoaded",this.reportImpression.bind(this),!1),window.addEventListener("resize",(n=S,r=P,o=null,function(){var e=this,t=arguments;clearTimeout(o),o=setTimeout(function(){n.apply(e,t)},r)}),!1),dio.event.subscribe("OneStream",function(e,t){i.reportBasedOnFreq(t.schema,t.isDioEvent?t.params:i.schemaMap[t.schema](t))})}var e,n,r;return A((e=t).prototype,n=[{key:"reportInteraction",value:function(e){var t=e.target,n=t.getAttribute(D),r=this.schemaMap[n]&&this.schemaMap[n](e);r&&this.reportBasedOnFreq(n,r,t)}},{key:"reportImpression",value:function(){var r=this;document.querySelectorAll("[".concat(T,"]")).forEach(function(e){var t=e.getAttribute(T),n=r.schemaMap[t]&&r.schemaMap[t](e);n&&r.reportBasedOnFreq(t,n,e)})}},{key:"reportBasedOnFreq",value:function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null,r=t.eventName||e,o;-1===this.eventsToReportOnce.indexOf(r)&&(this.oneStream.report(e,t),(t.frequency||n&&n.getAttribute(x))===le&&this.eventsToReportOnce.push(r))}}]),r,t}()}])});
/*! core/third-party/web-vitals-polyfill.js*/
!function(){var n,i,r,a,c={passive:!0,capture:!0},e=new Date,t=function(){a=[],i=-1,n=null,f(addEventListener)},s=function(e,t){n||(n=t,i=e,r=new Date,f(removeEventListener),o())},o=function(){if(0<=i&&i<r-e){var t={entryType:"first-input",name:n.type,target:n.target,cancelable:n.cancelable,startTime:n.timeStamp,processingStart:n.timeStamp+i};a.forEach(function(e){e(t)}),a=[]}},u=function(e){if(e.cancelable){var t=(1e12<e.timeStamp?new Date:performance.now())-e.timeStamp;"pointerdown"==e.type?(n=t,i=e,r=function(){s(n,i),o()},a=function(){o()},o=function(){removeEventListener("pointerup",r,c),removeEventListener("pointercancel",a,c)},addEventListener("pointerup",r,c),void addEventListener("pointercancel",a,c)):s(t,e)}var n,i,r,a,o},f=function(t){["mousedown","keydown","touchstart","pointerdown"].forEach(function(e){return t(e,u,c)})},p="hidden"===document.visibilityState?0:1/0;addEventListener("visibilitychange",function e(t){"hidden"===document.visibilityState&&(p=t.timeStamp,removeEventListener("visibilitychange",e,!0))},!0),t(),self.webVitals={firstInputPolyfill:function(e){a.push(e),o()},resetFirstInputPolyfill:t,get firstHiddenTime(){return p}}}();
/*! core/third-party/web-vitals.base.js*/
!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports):"function"==typeof define&&define.amd?define(["exports"],e):e((t="undefined"!=typeof globalThis?globalThis:t||self).webVitals=t.webVitals||{})}(this,function(t){"use strict";var c=function(t,e){return{name:t,value:void 0===e?-1:e,delta:0,entries:[],id:"v1-".concat(Date.now(),"-").concat(Math.floor(8999999999999*Math.random())+1e12)}},s=function(t,e){try{if(PerformanceObserver.supportedEntryTypes.includes(t)){var n=new PerformanceObserver(function(t){return t.getEntries().map(e)});return n.observe({type:t,buffered:!0}),n}}catch(t){}},e=!1,f=function(n,i){e||"undefined"!=typeof InstallTrigger||(addEventListener("beforeunload",function(){}),e=!0),addEventListener("visibilitychange",function t(e){"hidden"===document.visibilityState&&(n(e),i&&removeEventListener("visibilitychange",t,!0))},!0)},d=function(e){addEventListener("pageshow",function(t){t.persisted&&e(t)},!0)},l="function"==typeof WeakSet?new WeakSet:new Set,m=function(t,e,n){var i;return function(){0<=e.value&&(n||l.has(e)||"hidden"===document.visibilityState)&&(e.delta=e.value-(i||0),(e.delta||void 0===i)&&(i=e.value,t(e)))}},n=-1,i=function(){f(function(t){var e=t.timeStamp;n=e},!0)},p=function(){return n<0&&((n=self.webVitals.firstHiddenTime)===1/0&&i(),d(function(){setTimeout(function(){n="hidden"===document.visibilityState?0:1/0,i()},0)})),{get timeStamp(){return n}}};t.getCLS=function(t,e){var n,i=c("CLS",0),a=function(t){t.hadRecentInput||(i.value+=t.value,i.entries.push(t),n())},o=s("layout-shift",a);o&&(n=m(t,i,e),f(function(){o.takeRecords().map(a),n()}),d(function(){i=c("CLS",0),n=m(t,i,e)}))},t.getFCP=function(e,n){var i,a=p(),o=c("FCP"),r=s("paint",function(t){"first-contentful-paint"===t.name&&(r&&r.disconnect(),t.startTime<a.timeStamp&&(o.value=t.startTime,o.entries.push(t),l.add(o),i()))});r&&(i=m(e,o,n),d(function(t){o=c("FCP"),i=m(e,o,n),requestAnimationFrame(function(){requestAnimationFrame(function(){o.value=performance.now()-t.timeStamp,l.add(o),i()})})}))},t.getFID=function(t,e){var n,i=p(),a=c("FID"),o=function(t){t.startTime<i.timeStamp&&(a.value=t.processingStart-t.startTime,a.entries.push(t),l.add(a),n())},r=s("first-input",o);n=m(t,a,e),r&&f(function(){r.takeRecords().map(o),r.disconnect()},!0),r||window.webVitals.firstInputPolyfill(o),d(function(){a=c("FID"),n=m(t,a,e),window.webVitals.resetFirstInputPolyfill(),window.webVitals.firstInputPolyfill(o)})},t.getLCP=function(e,n){var i,a=p(),o=c("LCP"),t=function(t){var e=t.startTime;e<a.timeStamp&&(o.value=e,o.entries.push(t)),i()},r=s("largest-contentful-paint",t);if(r){i=m(e,o,n);var u=function(){l.has(o)||(r.takeRecords().map(t),r.disconnect(),l.add(o),i())};["keydown","click"].forEach(function(t){addEventListener(t,u,{once:!0,capture:!0})}),f(u,!0),d(function(t){o=c("LCP"),i=m(e,o,n),requestAnimationFrame(function(){requestAnimationFrame(function(){o.value=performance.now()-t.timeStamp,l.add(o),i()})})})}},t.getTTFB=function(e){var t,n=c("TTFB");t=function(){try{var t=performance.getEntriesByType("navigation")[0]||function(){var t=performance.timing,e={entryType:"navigation",startTime:0};for(var n in t)"navigationStart"!==n&&"toJSON"!==n&&(e[n]=Math.max(t[n]-t.navigationStart,0));return e}();n.value=n.delta=t.responseStart,n.entries=[t],e(n)}catch(t){}},"complete"===document.readyState?setTimeout(t,0):addEventListener("pageshow",t)},Object.defineProperty(t,"__esModule",{value:!0})});
/*! web-vitals.js*/
"use strict";function _defineProperty(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}$(function(){function e(e){var t,i=e.name,a=e.value,n,r={FID:{metric:"firstInputDelay",eventName:"webVitalsFid"},LCP:{metric:"largestContentfulPaint",eventName:"webVitalsLcp"},CLS:{metric:"cumulativeLayoutShift",eventName:"webVitalsCls"}}[i]||{};dio.event.publish("OneStream",{schema:"speedMetrics",isDioEvent:!0,params:(t={eventName:r.eventName},_defineProperty(t,r.metric,a),_defineProperty(t,"isImmediateReport",!0),t)})}window.webVitals&&(webVitals.getFID&&webVitals.getFID(e),webVitals.getLCP&&webVitals.getLCP(e),webVitals.getCLS&&webVitals.getCLS(e))});
/*! eg-clickstream-noop.js*/
"use strict";$(function(){window.egClickstream={instance:{publish:function i(){}}}});
/*! undefined*/
this.travelPixel=function(r){function o(t){if(n[t])return n[t].exports;var e=n[t]={i:t,l:!1,exports:{}};return r[t].call(e.exports,e,e.exports,o),e.l=!0,e.exports}var n={};return o.m=r,o.c=n,o.d=function(t,e,r){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},o.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(o.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)o.d(r,n,function(t){return e[t]}.bind(null,n));return r},o.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="",o(o.s=2)}([function(t,e,r){(function(L,X){
/*!
 * @overview es6-promise - a tiny implementation of Promises/A+.
 * @copyright Copyright (c) 2014 Yehuda Katz, Tom Dale, Stefan Penner and contributors (Conversion to ES6 API by Jake Archibald)
 * @license   Licensed under MIT license
 *            See https://raw.githubusercontent.com/stefanpenner/es6-promise/master/LICENSE
 * @version   v4.2.8+1e68dce6
 */
t.exports=function(){"use strict";function u(t){return"function"==typeof t}function e(){var t=setTimeout;return function(){return t(r,1)}}function r(){for(var t=0;t<o;t+=2){var e,r;(0,P[t])(P[t+1]),P[t]=void 0,P[t+1]=void 0}o=0}function c(t,e){var r=this,n=new this.constructor(f);void 0===n[k]&&m(n);var o=r._state;if(o){var i=arguments[o-1];_(function(){return a(o,n,i,r._result)})}else b(r,n,t,e);return n}function l(t){if(t&&"object"==typeof t&&t.constructor===this)return t;var e=new this(f);return p(e,t),e}function f(){}function h(t,e,r,n){try{t.call(e,r,n)}catch(t){return t}}function d(t,e,r){var n,o,i,s,a;e.constructor===t.constructor&&r===c&&e.constructor.resolve===l?(s=t,void((a=e)._state===I?y(s,a._result):a._state===M?v(s,a._result):b(a,void 0,function(t){return p(s,t)},function(t){return v(s,t)}))):void 0===r?y(t,e):u(r)?(o=e,i=r,void _(function(e){var r=!1,t=h(i,o,function(t){r||(r=!0,o!==t?p(e,t):y(e,t))},function(t){r||(r=!0,v(e,t))},e._label);!r&&t&&(r=!0,v(e,t))},n=t)):y(t,e)}function p(t,e){if(t===e)v(t,new TypeError("You cannot resolve a promise with itself"));else if(o=typeof(n=e),null===n||"object"!=o&&"function"!=o)y(t,e);else{var r=void 0;try{r=e.then}catch(e){return void v(t,e)}d(t,e,r)}var n,o}function n(t){t._onerror&&t._onerror(t._result),s(t)}function y(t,e){t._state===C&&(t._result=e,t._state=I,0!==t._subscribers.length&&_(s,t))}function v(t,e){t._state===C&&(t._state=M,t._result=e,_(n,t))}function b(t,e,r,n){var o=t._subscribers,i=o.length;t._onerror=null,o[i]=e,o[i+I]=r,o[i+M]=n,0===i&&t._state&&_(s,t)}function s(t){var e=t._subscribers,r=t._state;if(0!==e.length){for(var n=void 0,o=void 0,i=t._result,s=0;s<e.length;s+=3)n=e[s],o=e[s+r],n?a(r,n,o,i):o(i);t._subscribers.length=0}}function a(t,e,r,n){var o=u(r),i=void 0,s=void 0,a=!0;if(o){try{i=r(n)}catch(t){a=!1,s=t}if(e===i)return void v(e,new TypeError("A promises callback cannot return that same promise."))}else i=n;e._state!==C||(o&&a?p(e,i):!1===a?v(e,s):t===I?y(e,i):t===M&&v(e,i))}function m(t){t[k]=F++,t._state=void 0,t._result=void 0,t._subscribers=[]}var w=Array.isArray?Array.isArray:function(t){return"[object Array]"===Object.prototype.toString.call(t)},o=0,i=void 0,g=void 0,_=function(t,e){P[o]=t,P[o+1]=e,2===(o+=2)&&(g?g(r):O())},t="undefined"!=typeof window?window:void 0,x=t||{},T=x.MutationObserver||x.WebKitMutationObserver,A="undefined"==typeof self&&void 0!==L&&"[object process]"==={}.toString.call(L),E="undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof importScripts&&"undefined"!=typeof MessageChannel,P=new Array(1e3),O=void 0,j,S,U,B;O=A?function(){return L.nextTick(r)}:T?(S=0,U=new T(r),B=document.createTextNode(""),U.observe(B,{characterData:!0}),function(){B.data=S=++S%2}):E?((j=new MessageChannel).port1.onmessage=r,function(){return j.port2.postMessage(0)}):void 0===t?function(){try{var t=Function("return this")().require("vertx");return void 0===(i=t.runOnLoop||t.runOnContext)?e():function(){i(r)}}catch(t){return e()}}():e();var k=Math.random().toString(36).substring(2),C=void 0,I=1,M=2,F=0,R=function(){function t(t,e){this._instanceConstructor=t,this.promise=new t(f),this.promise[k]||m(this.promise),w(e)?(this.length=e.length,this._remaining=e.length,this._result=new Array(this.length),0===this.length?y(this.promise,this._result):(this.length=this.length||0,this._enumerate(e),0===this._remaining&&y(this.promise,this._result))):v(this.promise,new Error("Array Methods must be provided an Array"))}return t.prototype._enumerate=function(t){for(var e=0;this._state===C&&e<t.length;e++)this._eachEntry(t[e],e)},t.prototype._eachEntry=function(e,t){var r=this._instanceConstructor,n=r.resolve;if(n===l){var o=void 0,i=void 0,s=!1;try{o=e.then}catch(t){s=!0,i=t}if(o===c&&e._state!==C)this._settledAt(e._state,t,e._result);else if("function"!=typeof o)this._remaining--,this._result[t]=e;else if(r===D){var a=new r(f);s?v(a,i):d(a,e,o),this._willSettleAt(a,t)}else this._willSettleAt(new r(function(t){return t(e)}),t)}else this._willSettleAt(n(e),t)},t.prototype._settledAt=function(t,e,r){var n=this.promise;n._state===C&&(this._remaining--,t===M?v(n,r):this._result[e]=r),0===this._remaining&&y(n,this._result)},t.prototype._willSettleAt=function(t,e){var r=this;b(t,void 0,function(t){return r._settledAt(I,e,t)},function(t){return r._settledAt(M,e,t)})},t}(),D=function(){function e(t){this[k]=F++,this._result=this._state=void 0,this._subscribers=[],f!==t&&("function"!=typeof t&&function(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}(),this instanceof e?function(e,t){try{t(function(t){p(e,t)},function(t){v(e,t)})}catch(t){v(e,t)}}(this,t):function(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}())}return e.prototype.catch=function(t){return this.then(null,t)},e.prototype.finally=function(e){var r=this.constructor;return u(e)?this.then(function(t){return r.resolve(e()).then(function(){return t})},function(t){return r.resolve(e()).then(function(){throw t})}):this.then(e,e)},e}();return D.prototype.then=c,D.all=function(t){return new R(this,t).promise},D.race=function(o){var i=this;return w(o)?new i(function(t,e){for(var r=o.length,n=0;n<r;n++)i.resolve(o[n]).then(t,e)}):new i(function(t,e){return e(new TypeError("You must pass an array to race."))})},D.resolve=l,D.reject=function(t){var e=new this(f);return v(e,t),e},D._setScheduler=function(t){g=t},D._setAsap=function(t){_=t},D._asap=_,D.polyfill=function(){var t=void 0;if(void 0!==X)t=X;else if("undefined"!=typeof self)t=self;else try{t=Function("return this")()}catch(t){throw new Error("polyfill failed because global object is unavailable in this environment")}var e=t.Promise;if(e){var r=null;try{r=Object.prototype.toString.call(e.resolve())}catch(t){}if("[object Promise]"===r&&!e.cast)return}t.Promise=D},D.Promise=D}()}).call(this,r(3),r(4))},function(t,g,_){"use strict";_.r(g),function(i){function n(t){if("string"!=typeof t&&(t=String(t)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(t))throw new TypeError("Invalid character in header field name");return t.toLowerCase()}function o(t){return"string"!=typeof t&&(t=String(t)),t}function t(e){var t={next:function(){var t=e.shift();return{done:void 0===t,value:t}}};return p.iterable&&(t[Symbol.iterator]=function(){return t}),t}function a(e){this.map={},e instanceof a?e.forEach(function(t,e){this.append(e,t)},this):Array.isArray(e)?e.forEach(function(t){this.append(t[0],t[1])},this):e&&Object.getOwnPropertyNames(e).forEach(function(t){this.append(t,e[t])},this)}function s(t){if(t.bodyUsed)return i.reject(new TypeError("Already read"));t.bodyUsed=!0}function u(r){return new i(function(t,e){r.onload=function(){t(r.result)},r.onerror=function(){e(r.error)}})}function e(t){var e=new FileReader,r=u(e);return e.readAsArrayBuffer(t),r}function r(t){if(t.slice)return t.slice(0);var e=new Uint8Array(t.byteLength);return e.set(new Uint8Array(t)),e.buffer}function c(){return this.bodyUsed=!1,this._initBody=function(t){var e;(this._bodyInit=t)?"string"==typeof t?this._bodyText=t:p.blob&&Blob.prototype.isPrototypeOf(t)?this._bodyBlob=t:p.formData&&FormData.prototype.isPrototypeOf(t)?this._bodyFormData=t:p.searchParams&&URLSearchParams.prototype.isPrototypeOf(t)?this._bodyText=t.toString():p.arrayBuffer&&p.blob&&((e=t)&&DataView.prototype.isPrototypeOf(e))?(this._bodyArrayBuffer=r(t.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):p.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(t)||v(t))?this._bodyArrayBuffer=r(t):this._bodyText=t=Object.prototype.toString.call(t):this._bodyText="",this.headers.get("content-type")||("string"==typeof t?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):p.searchParams&&URLSearchParams.prototype.isPrototypeOf(t)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},p.blob&&(this.blob=function(){var t=s(this);if(t)return t;if(this._bodyBlob)return i.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return i.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return i.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?s(this)||i.resolve(this._bodyArrayBuffer):this.blob().then(e)}),this.text=function(){var t=s(this),e,r,n;if(t)return t;if(this._bodyBlob)return e=this._bodyBlob,r=new FileReader,n=u(r),r.readAsText(e),n;if(this._bodyArrayBuffer)return i.resolve(function(t){for(var e=new Uint8Array(t),r=new Array(e.length),n=0;n<e.length;n++)r[n]=String.fromCharCode(e[n]);return r.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return i.resolve(this._bodyText)},p.formData&&(this.formData=function(){return this.text().then(f)}),this.json=function(){return this.text().then(JSON.parse)},this}function l(t,e){var r=(e=e||{}).body,n,o;if(t instanceof l){if(t.bodyUsed)throw new TypeError("Already read");this.url=t.url,this.credentials=t.credentials,e.headers||(this.headers=new a(t.headers)),this.method=t.method,this.mode=t.mode,this.signal=t.signal,r||null==t._bodyInit||(r=t._bodyInit,t.bodyUsed=!0)}else this.url=String(t);if(this.credentials=e.credentials||this.credentials||"same-origin",!e.headers&&this.headers||(this.headers=new a(e.headers)),this.method=(n=e.method||this.method||"GET",o=n.toUpperCase(),-1<b.indexOf(o)?o:n),this.mode=e.mode||this.mode||null,this.signal=e.signal||this.signal,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&r)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(r)}function f(t){var o=new FormData;return t.trim().split("&").forEach(function(t){if(t){var e=t.split("="),r=e.shift().replace(/\+/g," "),n=e.join("=").replace(/\+/g," ");o.append(decodeURIComponent(r),decodeURIComponent(n))}}),o}function h(t,e){e=e||{},this.type="default",this.status=void 0===e.status?200:e.status,this.ok=200<=this.status&&this.status<300,this.statusText="statusText"in e?e.statusText:"OK",this.headers=new a(e.headers),this.url=e.url||"",this._initBody(t)}function d(o,s){return new i(function(n,t){function e(){i.abort()}var r=new l(o,s);if(r.signal&&r.signal.aborted)return t(new w("Aborted","AbortError"));var i=new XMLHttpRequest;i.onload=function(){var t={status:i.status,statusText:i.statusText,headers:(e=i.getAllResponseHeaders()||"",o=new a,e.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach(function(t){var e=t.split(":"),r=e.shift().trim();if(r){var n=e.join(":").trim();o.append(r,n)}}),o)},e,o;t.url="responseURL"in i?i.responseURL:t.headers.get("X-Request-URL");var r="response"in i?i.response:i.responseText;n(new h(r,t))},i.onerror=function(){t(new TypeError("Network request failed"))},i.ontimeout=function(){t(new TypeError("Network request failed"))},i.onabort=function(){t(new w("Aborted","AbortError"))},i.open(r.method,r.url,!0),"include"===r.credentials?i.withCredentials=!0:"omit"===r.credentials&&(i.withCredentials=!1),"responseType"in i&&p.blob&&(i.responseType="blob"),r.headers.forEach(function(t,e){i.setRequestHeader(e,t)}),r.signal&&(r.signal.addEventListener("abort",e),i.onreadystatechange=function(){4===i.readyState&&r.signal.removeEventListener("abort",e)}),i.send(void 0===r._bodyInit?null:r._bodyInit)})}_.d(g,"Headers",function(){return a}),_.d(g,"Request",function(){return l}),_.d(g,"Response",function(){return h}),_.d(g,"DOMException",function(){return w}),_.d(g,"fetch",function(){return d});var p={searchParams:"URLSearchParams"in self,iterable:"Symbol"in self&&"iterator"in Symbol,blob:"FileReader"in self&&"Blob"in self&&function(){try{return new Blob,!0}catch(t){return!1}}(),formData:"FormData"in self,arrayBuffer:"ArrayBuffer"in self};if(p.arrayBuffer)var y=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],v=ArrayBuffer.isView||function(t){return t&&-1<y.indexOf(Object.prototype.toString.call(t))};a.prototype.append=function(t,e){t=n(t),e=o(e);var r=this.map[t];this.map[t]=r?r+", "+e:e},a.prototype.delete=function(t){delete this.map[n(t)]},a.prototype.get=function(t){return t=n(t),this.has(t)?this.map[t]:null},a.prototype.has=function(t){return this.map.hasOwnProperty(n(t))},a.prototype.set=function(t,e){this.map[n(t)]=o(e)},a.prototype.forEach=function(t,e){for(var r in this.map)this.map.hasOwnProperty(r)&&t.call(e,this.map[r],r,this)},a.prototype.keys=function(){var r=[];return this.forEach(function(t,e){r.push(e)}),t(r)},a.prototype.values=function(){var e=[];return this.forEach(function(t){e.push(t)}),t(e)},a.prototype.entries=function(){var r=[];return this.forEach(function(t,e){r.push([e,t])}),t(r)},p.iterable&&(a.prototype[Symbol.iterator]=a.prototype.entries);var b=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];l.prototype.clone=function(){return new l(this,{body:this._bodyInit})},c.call(l.prototype),c.call(h.prototype),h.prototype.clone=function(){return new h(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new a(this.headers),url:this.url})},h.error=function(){var t=new h(null,{status:0,statusText:""});return t.type="error",t};var m=[301,302,303,307,308];h.redirect=function(t,e){if(-1===m.indexOf(e))throw new RangeError("Invalid status code");return new h(null,{status:e,headers:{location:t}})};var w=self.DOMException;try{new w}catch(t){(w=function(t,e){this.message=t,this.name=e;var r=Error(t);this.stack=r.stack}).prototype=Object.create(Error.prototype),w.prototype.constructor=w}d.polyfill=!0,self.fetch||(self.fetch=d,self.Headers=a,self.Request=l,self.Response=h)}.call(this,_(0))},function(t,e,r){"use strict";function o(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function n(t){"function"==typeof t&&t(h)}var i,s,u=(i=r(0))&&i.__esModule?i:{default:i};r(1);var a=r(5),c=a.COOKIE_NAME,l=a.Util,f=r(7),h=function(){function n(t,e,r){if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,n),this.domainName=t,!this.domainName)throw new Error("Illegal arguments exception");this.domainMap=new f(t,e,r)}return o((t=n).prototype,e=[{key:"_findXdid",value:function(i){var s=this.domainMap.thirdPartyPixelUrl(),n=this.domainMap.xShopUrls()||[],a=!1;return function e(t,r){return t.then(function(t){return a=a||t&&t.optout,t&&t.hasXdid()?u.default.resolve(t):r>=n.length?u.default.resolve(null):e(l.queryXdid(n[r]),r+1)})}(l.queryXdid(s),0).then(function(t){var e=null===t?null:t.xdidString(),r,n,o;return a?u.default.resolve(e):(r=s,n=e,o=i,l.setLocalXdid(n,o).then(function(t){if(null===t)return void 0,t;var e=l.setThirdPartyXdid(r,t.xdidString(),o);return t&&t.xdidString()===n?t.xdidString():e.then(function(t){return t?t.xdidString():null})}).then(function(t){return localStorage.setItem(c,t),t}))})}},{key:"loadXdidApi",value:function(t){var e=this,r=l.getCookieValue(c);return r?l.setThirdPartyXdid(this.domainMap.thirdPartyPixelUrl(),r,t).then(function(t){return t&&t.hasXdid()?t.xdidString():null}).then(function(t){return localStorage.setItem(c,t),t}):this.domainMap.load().then(function(){return e._findXdid(t)})}}]),void 0,n;var t,e,r}();if(window){var d=window.travelPixel;d&&0<d.length&&d.forEach&&d.forEach(function(t){n(t)})}t.exports={push:n,Waiter:h}},function(t,e){function r(){throw new Error("setTimeout has not been defined")}function n(){throw new Error("clearTimeout has not been defined")}function o(e){if(c===setTimeout)return setTimeout(e,0);if((c===r||!c)&&setTimeout)return c=setTimeout,setTimeout(e,0);try{return c(e,0)}catch(t){try{return c.call(null,e,0)}catch(t){return c.call(this,e,0)}}}function i(){p&&h&&(p=!1,h.length?d=h.concat(d):y=-1,d.length&&s())}function s(){if(!p){var t=o(i);p=!0;for(var e=d.length;e;){for(h=d,d=[];++y<e;)h&&h[y].run();y=-1,e=d.length}h=null,p=!1,function(e){if(l===clearTimeout)return clearTimeout(e);if((l===n||!l)&&clearTimeout)return l=clearTimeout,clearTimeout(e);try{l(e)}catch(t){try{return l.call(null,e)}catch(t){return l.call(this,e)}}}(t)}}function a(t,e){this.fun=t,this.array=e}function u(){}var c,l,f=t.exports={};!function(){try{c="function"==typeof setTimeout?setTimeout:r}catch(t){c=r}try{l="function"==typeof clearTimeout?clearTimeout:n}catch(t){l=n}}();var h,d=[],p=!1,y=-1;f.nextTick=function(t){var e=new Array(arguments.length-1);if(1<arguments.length)for(var r=1;r<arguments.length;r++)e[r-1]=arguments[r];d.push(new a(t,e)),1!==d.length||p||o(s)},a.prototype.run=function(){this.fun.apply(null,this.array)},f.title="browser",f.browser=!0,f.env={},f.argv=[],f.version="",f.versions={},f.on=u,f.addListener=u,f.once=u,f.off=u,f.removeListener=u,f.removeAllListeners=u,f.emit=u,f.prependListener=u,f.prependOnceListener=u,f.listeners=function(t){return[]},f.binding=function(t){throw new Error("process.binding is not supported")},f.cwd=function(){return"/"},f.chdir=function(t){throw new Error("process.chdir is not supported")},f.umask=function(){return 0}},function(gh,hh){var ih;ih=function(){return this}();try{ih=ih||Function("return this")()||eval("this")}catch(t){"object"==typeof window&&(ih=window)}gh.exports=ih},function(t,e,r){"use strict";function n(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function s(t,e){if(e.ok)return e.json();throw new Error("Fetch failed for ".concat(t," with status ").concat(e.status))}r(1);var o=r(6),i=function(){function i(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i)}return e=null,r=[{key:"getPix",value:function(t){try{if(t)return new o(t)}catch(t){void 0}return null}},{key:"queryXdid",value:function(e){var t="".concat(e,"/get");return window.fetch(t,{credentials:"include"}).then(function(t){return s(e,t)}).then(function(t){return i.getPix(t)}).catch(function(t){return void 0,null})}},{key:"setLocalXdid",value:function(t,e){return i.setXdid("/trvl-px/v2/pix",t,e)}},{key:"setThirdPartyXdid",value:function(t,e,r){return i.setXdid("".concat(t,"/pix"),e,r)}},{key:"setXdid",value:function(t,e,r){var n=null;e&&(n=JSON.stringify({xdid:e}));var o="".concat(t,"?").concat(this.objectToQueryString(r));return window.fetch(o,{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"},body:n}).then(function(t){return s(o,t)}).then(function(t){return i.getPix(t)}).catch(function(t){return void 0,null})}},{key:"objectToQueryString",value:function(t){var e=[];if(!t||"function"!=typeof t.hasOwnProperty)return"";for(var r in t)if(t.hasOwnProperty(r)){var n=t[r];n=n||"",e.push("".concat(encodeURIComponent(r),"=").concat(encodeURIComponent(n)))}return e.join("&")}},{key:"getCookieValue",value:function(t,e){if("string"!=typeof e){if(!document||!document.cookie)return null;e=document.cookie}var r=e.match("(^|[^;]+)\\s*".concat(t,"\\s*=\\s*([^;]+)"));return r?r.pop():""}}],void n(t=i,r),i;var t,e,r}();t.exports={Util:i,COOKIE_NAME:"xdid"}},function(t,e,r){"use strict";function o(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=[],n=!0,o=!1,i=void 0;try{for(var s,a=t[Symbol.iterator]();!(n=(s=a.next()).done)&&(r.push(s.value),!e||r.length!==e);n=!0);}catch(t){o=!0,i=t}finally{try{n||null==a.return||a.return()}finally{if(o)throw i}}return r}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function i(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var n=function(){function r(t){if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),this.raw=t,this.optout=t.o,!this.optout&&t.v){var e=o(t.v.split("|"),3);this.id=e[0],this.timestamp=e[1],this.domain=e[2]}else this.id=null,this.timestamp=null,this.domain=null}return i((t=r).prototype,e=[{key:"xdidString",value:function(){return null!=this.timestamp&&null!=this.domain?"".concat(this.id,"|").concat(this.timestamp,"|").concat(this.domain):"".concat(this.id)}},{key:"hasXdid",value:function(){return null!=this.id}}]),void 0,r;var t,e,n}();t.exports=n},function(t,e,r){"use strict";function o(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var n,i,s=(n=r(0))&&n.__esModule?n:{default:n};r(1);var a,u=r(8),c={prod:"https://www.expedia.com/trvl-px/v2"};a=c.prod;var l=function(){function n(t,e,r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,n),this.hostname=t,this.env=e,this.cdnUrl=r||"https://b.travel-assets.com/travel-pixel-js/1.0.0",this._loaded=!1,this.config=null,this.fetchOpts={},this.thirdPartyPixelUrlValue=c[this.env]||a}return o((t=n).prototype,e=[{key:"load",value:function(){var e=this,r=this;if(this._loaded&&this.config)return s.default.resolve(this.config);var t=u.buildConfigFilename(this.hostname,this.env);if(!t)return s.default.reject("Failed to build config asset name");var n="".concat(this.cdnUrl,"/").concat("config","/").concat(t);return window.fetch(n,this.fetchOpts).then(function(t){return t.ok?t.json():{env:e.env,name:"expediaDC",domain:e.hostname,xshopUrls:[]}}).then(function(t){return r._loaded=!0,r.config=t}).catch(function(t){return void 0,t})}},{key:"xShopUrls",value:function(){if(!this._loaded)throw new TypeError("Must call load() prior to calling next()");var t;return this.config&&this.config.xshopUrls||[]}},{key:"thirdPartyPixelUrl",value:function(){return this.thirdPartyPixelUrlValue}}]),void 0,n;var t,e,r}();t.exports=l},function(t,e,r){"use strict";t.exports={buildConfigFilename:function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"prod";return t=t||window.location.hostname,"".concat(t,"-").concat(e,"-config.json")}}}]);
/*! hcom-xdid.js*/
"use strict";$(function(){function o(){var o=window.travelPixel;o&&o.push(function o(e){var t=window.location.hostname,a=dio.getClientData("common.tracking.environment"),i,n=new e(t,a,"https://a.cdn-hotels.com/cos/travel-pixel/"+a),c=commonDataBlock.user||{},l=c.dossierId||"";n.loadXdidApi({serverPlatform:"hcom",guid:c.guid||"",hcomUserId:l,expuserid:l.concat("00000"),kruxUserId:localStorage?localStorage.getItem("kxhotelscom_kuid"):"",emailHash:c.sha256Email||""})})}$(window).on("load",o)});
/*! core/dio/widget/dio.widget.toggle.js*/
"use strict";!function(){var D="show",B="hide",H="toggle",i="animationDone";dio.addWidget("Toggle",dio.Widget,{bindUI:function t(){this.find(".widget-toggle").not(".widget-toggle-done").each($.proxy(function(t,e){function i(t){var e=t&&t.isImmediate;w&&o.css("display","none"),h&&o.html(h),n.removeClass("widget-toggle-truncated"),m?(n.height(m).css("display","block").removeClass("widget-toggle-fixed-height"),n.animate({height:C+"px"},{done:function t(){T(),n.get(0).style.height="auto"}})):c&&!e?n.slideDown(c,T):n.show(0,T),g.addClass("widget-toggle-open"),o.addClass("widget-toggle-btn-open").attr("aria-expanded","true"),n.attr("aria-hidden","false")}function a(){p?n.addClass("widget-toggle-truncated"):m?(n.addClass("widget-toggle-fixed-height"),n.animate({height:m},{done:T})):c?n.slideUp(c,T):n.hide(0,T),o.html(r),g.removeClass("widget-toggle-open"),o.removeClass("widget-toggle-btn-open").attr("aria-expanded","false"),n.attr("aria-hidden","true")}function d(t){if(t.is(":hidden")||t.is(":disabled"))return!1;var e=+t.attr("tabindex");return e=isNaN(e)?-1:e,t.is("a[href], input:not([disabled]), select:not([disabled]), textarea:not([disabled]), button:not([disabled]), iframe, object, embed, *[tabindex]")||-1<e}var g=$(e),o=g.find(".widget-toggle-btn"),n=g.data("widget-toggle-target")?$("#"+g.data("widget-toggle-target")):g.find(".widget-toggle-bd:first"),s=g.data("widget-toggle-btn-classes")||"",l=g.data("widget-toggle-event-id"),r=n.data("widget-toggle-text"),h=n.data("widget-toggle-text-open"),c=n.data("widget-toggle-speed"),w=n.data("widget-toggle-hide"),u=n.data("widget-toggle-hide-icon"),f=n.data("widget-toggle-icon-direction"),b=n.data("widget-toggle-insert-after-content"),p=n.data("widget-toggle-truncate"),m=!!(n.data("widget-toggle-fixed-height")&&n.outerHeight(!0)>parseInt(n.data("widget-toggle-fixed-height").replace("px"),10))&&n.data("widget-toggle-fixed-height"),v=n.data("widget-toggle-noanimate-old-ie")&&$("html").hasClass("lt-ie9"),x=n.data("widget-toggle-short-text-enabled"),C=0,y=n.data("widget-toggle-responsive"),k=n.data("widget-toggle-auto-open"),A=/(medium-s|small-)\w+/g,T=$.proxy(function(){this.animationComplete(n)},this),I=d(o)||r&&!o.length;dio.event.subscribe("open:Toggle",function(t,e){g.is(e+":not(.widget-toggle-btn-open)")&&i()}),dio.event.subscribe("close:Toggle",function(t,e){g.is(e)&&a()}),x&&!m&&(g.addClass("short-text-container"),n.addClass("short-text")),l&&(dio.event.subscribe("hide:Toggle:"+l,function(){a()}),dio.event.subscribe("show:Toggle:"+l,function(t,e){i(e)})),v&&(c=0),y&&(g.addClass("widget-toggle-responsive"),dio.event.subscribe("viewportChanged.toggle",function(t,e){e.match(A)?0<n.has(":focus").length?i.call(this):g.hasClass("widget-toggle-open")||(n.hide().attr("aria-hidden","true"),o.attr("aria-expanded","false")):(n.show().attr("aria-hidden","false"),o.attr("aria-expanded","true"))},this)),g.addClass("widget-toggle-done"),g.hasClass("widget-toggle-open")||(p?n.addClass("widget-toggle-truncated"):m?(n.addClass("widget-toggle-fixed-height"),C=n.outerHeight(!0),n.css({height:m})):y&&!dio.util.responsive.getBreakpoint().match(A)||x||n.hide()),r&&!o.length&&(o=$('<button class="widget-toggle-btn '+s+'" type="button">'+r+"</button>"),u||("right"===f?o.addClass("widget-toggle-btn-icon-right"):o.addClass("widget-toggle-btn-icon")),o[b?"insertAfter":"insertBefore"](n)),n.attr("id")||n.attr("id","widget-toggle-i"+this.instanceIndex+"-e"+t),o.attr("aria-controls",n.attr("id")),n.is(":visible")?(n.attr("aria-hidden","false"),o.attr("aria-expanded","true")):(n.attr("aria-hidden","true"),o.attr("aria-expanded","false")),I||o.attr("role","button").attr("tabindex","0"),o.on("click",$.proxy(function(){this.emit(H,{callback:function t(){var e=g.hasClass("widget-toggle-open");void 0!==g.data("widget-toggle-event-id")&&(this.emit(g.data("widget-toggle-event-id")),e?this.emit(g.data("widget-toggle-event-id")+":hide"):this.emit(g.data("widget-toggle-event-id")+":show")),e?this.emit(B,{data:n,callback:a}):this.emit(D,{data:n,callback:i})},data:this})},this)),k&&i.call(this),I||o.on("keyup",function(t){t.keyCode&&13===t.keyCode&&(t.preventDefault(),o.trigger("click"))})},this))},destructor:function t(){this.find(".widget-toggle-done").each($.proxy(function(t,e){var i=$(e),a=i.find(".widget-toggle-btn"),d=i.data("widget-toggle-target")?$("#"+i.data("widget-toggle-target")):i.find(".widget-toggle-bd:first");i.removeClass("widget-toggle-done").removeClass("widget-toggle-open"),a.removeAttr("role","button").removeAttr("tabindex","0").removeAttr("aria-expanded").removeAttr("aria-controls").remove(),d.removeAttr("aria-hidden","true")},this))},animationComplete:function t(e){this.emit(i,{data:e})}})}();
/*! modules/footer/footer.js*/
"use strict";$(function(){var o={};dio.widget.Toggle({cont:$(".footer-nav-list")}),$("#ftr-feedback, #ftr-feedback-main").on("click",function(e){return dio.event.publish("feedbackLinkClicked",e)}),$("#footer").on("click",".seo-text-more",function(){$(this).prev().addClass("show"),this.parentNode.removeChild(this)}),o.html=document.querySelector("html"),o.body=document.querySelector("body"),o.footerGroup=document.querySelector(".footer-group"),window&&o.body&&o.footerGroup&&dio.event.subscribe("scrollEnd.footer resizeEnd.footer",function(){var e;(o.html.scrollTop||o.body.scrollTop)+window.innerHeight>=o.footerGroup.offsetTop&&(dio.sitecatalyst.sendPartialReport({eVar33:"User has scrolled to bottom of page"},"event210","User has scrolled to bottom of page"),dio.event.publish("OneStream",{schema:"genericInteraction",isDioEvent:!0,params:{interactionType:"scroll",eventName:"userReachedBottomOfPage"}},{defer:!0}),dio.event.unsubscribe("scrollEnd.footer resizeEnd.footer"))})});
/*! modules/header/common/website-feedback.js*/
"use strict";$(function(){dio.event.subscribe("feedbackLinkClicked",function(e,n){"function"==typeof openDirectWord&&(n.preventDefault(),openDirectWord())})});
/*! core/dio/widget/dio.widget.form-validator.js*/
"use strict";!function(){var v="fieldValidationFailure",f="fieldValidationSuccess",d="formValidatorReady",l="formValidationSuccess",r="formValidationFailure",i={form:null,validators:[],fields:{},validateOnSubmit:!0,submitCallback:null};dio.addWidget("FormValidator",dio.Widget,{init:function i(){var t=0;for(var a in this.$form="string"==typeof this.conf.form?$(this.conf.form):this.conf.form,this.validationEvents={},this.conf.validators)dio.require({path:dio.getClientData("assetPath")+"js/core/dio/validators/"+this.conf.validators[a]+".js"}).done($.proxy(function(){++t===this.conf.validators.length&&this.bindValidation()},this))},bindValidation:function i(){var t=void 0,a=void 0,n=this.conf.fields;for(var o in n)t=n[o].type=n[o].hasOwnProperty("type")?n[o].type:"input",a=n[o].hasOwnProperty("validateOn")?n[o].validateOn:"change",this.validationEvents.hasOwnProperty(a)?this.validationEvents[a].push(t+'[name="'+o+'"]'):this.validationEvents[a]=[t+'[name="'+o+'"]'];for(var s in this.validationEvents)this.event(this.$form,"on",s,this.validationEvents[s].join(","),function(i){var t=$(i.target);this.validateField(t,i.type)});var e=this.conf.submitCallback&&"function"==typeof this.conf.submitCallback;(e||this.conf.validateOnSubmit)&&this.event(this.$form,"on","submit",function(i){e&&this.conf.submitCallback(i),this.conf.validateOnSubmit&&this.validateForm("submit")}),this.emit(d)},validateForm:function i(t,a){var n=void 0,o=void 0,s={valid:!0,form:this.$form,invalidFields:[]};for(var e in this.conf.fields)n=this.$form.find(this.conf.fields[e].type+'[name="'+e+'"]'),(o=this.validateField(n,t)).valid||(s.valid=!1,s.invalidFields.push({name:e,validation:o.validationFailures}));return!0!==a&&(s.valid?this.emit(l,{data:s}):this.emit(r,{data:s})),s.valid},validateField:function i(t,a){var n=t.attr("name"),o=t.val(),s={valid:!0,validationFailures:[]},e=void 0,d=[],l=void 0,r=this.conf.fields;return"checkbox"===t.attr("type")&&(o=t.is(":checked")?o:""),r[n].hasOwnProperty("validation")&&$.each(r[n].validation,$.proxy(function(i){if(e=r[n].validation[i].split("."),d=[],"all"===e[1])for(var t in dio.validators[e[0]])dio.validators[e[0]][t](o)||(s.valid=!1,s.validationFailures.push(e[0]+"."+t));else~e[1].indexOf("|")?(d=e[1].split("|"),l=d.shift(),d.unshift(o)):(d=[o],l=e[1]),dio.validators[e[0]][l].apply(this,d)||(s.valid=!1,s.validationFailures.push(e[0]+"."+l))},this)),!s.valid&&a?this.emit(v,{data:$.extend(r[n],{name:n,input:t,validationFailures:s.validationFailures,event:a,form:this.$form})}):a&&this.emit(f,{data:$.extend(r[n],{name:n,input:t,event:a,form:this.$form})}),s}},i)}();
/*! core/dio/widget/dio.widget.overlay.js*/
"use strict";!function(){var i="show",e="hide",s="close",o="cancel",n="ok",a="rendered",t={activeClass:"widget-overlay-active",escToClose:!0,modal:!0,clickMaskToClose:!1,anim:"fast",buttonsOrder:["cancel","ok","close"],buttons:{close:{className:"widget-overlay-close",label:"",ariaLabel:dio.i18n("closeOverlay")},ok:!1,cancel:!1},setPositionOnShow:!0,overlayContentShared:!1},c=0;dio.addWidget("Overlay",dio.Widget,{bound:!1,init:function t(){this.overlay=this.cont=$(this.conf.overlay),this.conf.overlayContentShared||(this.overlayFragment=$(document.createDocumentFragment()),this.overlayParent=this.overlay.parent(),this.overlayFragment.append(this.overlay))},bindUI:function t(){var i=function t(i){this.triggerEl=$(i.currentTarget),i.preventDefault(),this.cont.hasClass(this.conf.activeClass)?this.hide():this.show()};this.conf.location?this.event($(this.conf.location),"on","click.overlaytrigger",this.conf.trigger,i):this.event($(this.conf.trigger),"on","click.overlaytrigger",i),dio.util.responsive.createListener(),this.subscribe("pre:show",function(){dio.event.subscribe("viewportChanged.overlay",this.viewportChanged,this),this.preventScroll(!0),this.overlayParent&&this.overlayParent.append(this.overlay)}),this.subscribe("hide",function(){dio.event.unsubscribe("viewportChanged.overlay",this.viewportChanged,this),this.preventScroll(!1),this.overlayFragment&&this.overlayFragment.append(this.overlay)})},preventScroll:function t(i){var s="x-small-screen"===dio.util.responsive.getBreakpoint();dio.browser.features.touch&&!s?i?(this.pageScroll=$(window).scrollTop(),$("html").css({position:"fixed",top:-this.pageScroll+"px",width:"100%"})):($("html").css({position:"",top:""}),$(window).scrollTop()!==this.pageScroll&&$(window).scrollTop(this.pageScroll)):s&&$("html").css({position:"",top:""}),$("body").toggleClass("widget-overlay-open",i)},paintAndBind:function t(){this.mask=$('<div class="widget-overlay-mask"></div>'),$("body").append(this.mask),this.cont.css("z-index",1+~~this.mask.css("z-index")).attr("tabIndex",-1).addClass(this.conf.className),this.aria(),this.conf.modal&&(this.subscribe("show",function(){!document.documentElement.className.includes("ie8")&&this.event($(document),"on","focusin.overlay",function(t){this.find($(t.target)).length||this.cont[0]===t.target||(t.stopPropagation(),t.preventDefault(),this.cont.focus())})}),this.subscribe("hide",function(){this.event($(document),"off","focusin.overlay")})),this.conf.escToClose&&this.event(this.cont,"on","keydown.overlay",function(t){var i;27===t.keyCode&&this.hide()}),this.conf.clickMaskToClose&&this.event(this.mask,"on","click",function(){this.hide()}),(this.conf.buttons.ok||this.conf.buttons.cancel)&&(this.ft=this.find(".widget-overlay-ft"),this.ft.length||(this.ft=$('<div class="widget-overlay-ft"/>'),this.cont.append(this.ft)));for(var i=0,s=this.conf.buttonsOrder.length,e;i<s&&(e=this.conf.buttonsOrder[i]);i++){var o=this.conf.buttons[e];if(o&&o.label){var n=$('<button class="cta widget-overlay-'+e+'">'+o.label+"</button>");n.addClass(o.className),"cancel"===e&&n.addClass("cta-link"),o.disabled&&n.prop("disabled",!0).addClass("cta-disabled"),"close"===e?this.cont.append(n.attr("aria-label",o.ariaLabel)):this.ft.append(n),this.event(n,"on","click touchstart",function(i){return function(t){t.preventDefault(),this[i]()}}(e))}}this.bound=!0},viewportChanged:function t(){clearTimeout(this.viewportChangedTimeoutID),this.viewportChangedTimeoutID=setTimeout($.proxy(function(){this.position(),this.preventScroll(!0)},this),500)},show:function t(){return this.emit(i,{callback:function t(){this.bound||this.paintAndBind(),this.conf.setPositionOnShow&&this.position(),this.mask.show(),this.cont.show(this.conf.anim),$("."+this.conf.activeClass).removeClass(this.conf.activeClass);var i=this.find('a[href], input:not([disabled], [type="hidden"]), select:not([disabled]), textarea:not([disabled]), button:not([disabled]), iframe, object, embed, *[tabindex]');i.length?i.eq(0).focus():this.cont.focus(),this.cont.addClass(this.conf.activeClass),this.emit(a,{data:this.conf})},data:this.conf}),this},hide:function t(i,s){if(this.cont.hasClass(this.conf.activeClass))return this.emit(e,{callback:function t(){this.mask.hide(),this.cont.hide(i?0:this.conf.anim),$("."+this.conf.activeClass).removeClass(this.conf.activeClass),(this.triggerEl||$(this.conf.trigger)).focus()},data:this.conf}),(this.conf.temporarilyAvoidScroll=s)&&dio.event.publish("viewportChanged.overlay"),this},position:function t(i,s,e){var o=$(window).height(),n="x-small-screen"===dio.util.responsive.getBreakpoint(),a=this.find(".widget-overlay-bd"),c=s||o-o/3;!e&&n?this.cont.css("top",$(document).scrollTop()):n||this.cont.css("top",""),a.length&&a.css("maxHeight",n?"":c),!i&&!this.conf.temporarilyAvoidScroll&&this.cont[0].scrollIntoView(),this.conf.temporarilyAvoidScroll=void 0},aria:function t(){this.cont.attr("role","dialog");var i=this.find("h2, h3, h4");if(i.length){var s=i.eq(0);this.cont.attr("aria-labelledby",s.attr("id")||s.attr("id","widget-overlay-title-"+ ++c).attr("id"))}},close:function t(){this.emit(s,{callback:this.hide})},cancel:function t(){this.emit(o,{callback:this.hide})},ok:function t(){this.emit(n,{callback:this.hide})},destructor:function t(){this.preventScroll(!1),this.mask&&this.mask.remove()}},t)}(),dio.addWidget("RepositioningOverlay",dio.widget.Overlay,{position:function t(){this.cont.promise().then($.proxy(function(){var t=$(window).height(),i=this.find(".widget-overlay-bd"),s="x-small-screen"===dio.util.responsive.getBreakpoint();if(this.cont.outerHeight(!0)!==t){var e="";s?(this.cont.css("top",$(document).scrollTop()),i.css("maxHeight","")):(this.cont.css("top",e),i.css("maxHeight",""),this.cont.outerHeight(!0)+parseInt(this.cont.css("top"),10)>t&&(e=0,t-=this.cont.outerHeight(!0)-i.outerHeight(!0)),this.cont.css("top",e),i.css("maxHeight",t))}else s||this.cont.css("top",0)},this))}});
/*! modules/newsletter/core/newsletter-tracking.js*/
"use strict";dio.setValueByName("dio.newsletter.tracking",function(){function t(e){var n=e.conf.type.reportingKey;e.subscribe("newsletterShown",function(e){var i=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},t;a(dio.mix({eVar33:dio.getObjectByName("s.pageName")+" | "+n+"-newsletter submit"},{prop64:"Secret prices pop up"},i),"User clicks on invoker")}),e.subscribe("newsletterSignUpSuccess",function(e,i){i.alreadySubscribed?a({eVar33:"confirm clicked | existing | NA"},"newsletter already subscribed"):(a({eVar33:"confirm clicked | new | NA"},"newsletter confirm clicked"),a({},"newsletter subscription success","event30"))}),e.subscribe("newsletterFieldValidationFailure",function(e,i){if(dio.getObjectByName("validationResult.validationFailures",i)&&0<i.validationResult.validationFailures.length){var t=r.email[i.validationResult.validationFailures[0]];a({eVar33:"confirm clicked | NA | "+t},"newsletter subscription failed: "+t)}}),e.subscribe("newsletterSignUpServerSideValidationFailed",function(e,i){var t=i.globalError||i.fieldErrors.email,n=r.email[t];a({eVar33:"confirm clicked | NA | "+n},"newsletter subscription failed: "+n)}),e.subscribe("newsletterConfirmationShown",function(){a({eVar33:dio.getObjectByName("s.pageName")+" | "+n+"-newsletter success"},"User subscription success")})}function a(e,i,t){dio.sitecatalyst.sendPartialReport(e,t||"",i||"")}var r={email:{"common.required":"NW_1","email.default":"NW_2","email.containsAtSign":"NW_3","email.containsNoConsecutiveDots":"NW_4","email.startsWithNoAtSign":"NW_5","email.domainStartsWithNoDot":"NW_6","email.isTopLevelDomainValid":"NW_7","common.minLength":"NW_8","common.maxLength":"NW_9","email.hasDomainAndItIsLongEnough":"NW_10","email.containsOnlyEanCompliantCharacters":"NW_11","email.containsNoSpaces":"NW_12","email.startsWithNoDot":"NW_13","email.containsNoDotBeforeAtSign":"NW_14","email.domainContainsNoUnderscore":"NW_15","sica.form.error.email_address":"NW_1","sica.form.error.email_address.check":"NW_2","newsletter.form.error.technical":"NW_16","newsletter.form.error.invalid_email":"NW_17"}};return{init:function e(i){i&&t(i)}}}());
/*! modules/newsletter/dd-srp/newsletter-dd-srp-tracking.js*/
"use strict";dio.setValueByName("dio.newsletter.dd.srp.tracking",function(){function n(e,t,n){dio.sitecatalyst.sendPartialReport(e,n||"",t||"")}return{init:function e(t){t.subscribe("downloadLinkClicked",function(){n({events:"event121:"+dio.newsletter.type.DRIVE_DIRECT.reportingKey+" DownloadApp Click"},"User clicked on native app download")})}}}());
/*! core/dio/widget/dio.widget.iframe-proxy.js*/
"use strict";var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};!function(){var e={messageHandler:function e(){}};dio.addWidget("IframeProxy",dio.Widget,{internalMessageHandler:function e(t){this.source=t.source,t.origin===this.conf.targetOrigin&&this.conf.messageHandler(t.data)},bindUI:function e(){var t=$.proxy(this.internalMessageHandler,this);window.addEventListener?addEventListener("message",t,!1):attachEvent("onmessage",t)},postMessage:function e(t){var o=window.frames[this.conf.iframeIdAndName]||this.source;o&&("object"===(void 0===t?"undefined":_typeof(t))&&(t.hasOwnProperty("proxyId")||(t.proxyId=this.conf.proxyId),t=JSON.stringify(t)),o.postMessage(t,this.conf.targetOrigin))}},e)}();
/*! core/dio/widget/dio.widget.newsletter.js*/
"use strict";dio.setValueByName("dio.newsletter.type.DRIVE_DIRECT",{id:"drive-direct",name:"DRIVE_DIRECT",reportingKey:"DD"}),dio.setValueByName("dio.newsletter.type.STANDARD",{id:"standard",name:"STANDARD",reportingKey:"ST"}),function(){function i(e){return e.type.id+"-newsletter"}function r(e){return!!e.conf.templates.confirmation}function t(e){return!!e.hasOwnProperty("type")}function o(e){var t=/\?/.test(e.proxyUrl)?"&":"?";return e.proxyUrl+t+"secureTarget="+(/^https/.test(window.location.protocol)?"true":"false")+"&proxyId="+encodeURIComponent(e.type.id)}function s(e){return e.type.id+"-newsletter-proxy"}var a="newsletterReady",n="newsletterShown",l="newsletterConfirmationShown",d="newsletterFieldValidationFailure",c="newsletterFieldValidationSuccess",h="newsletterFormSubmitted",m="newsletterSignUpSuccess",f="newsletterSignUpServerSideValidationFailed",y="newsletterSignupJourneySuccess",e={fieldErrors:{email:{default:dio.i18n("sica.form.error.email_address.check"),"common.required":dio.i18n("sica.form.error.email_address"),"email.containsAtSign":dio.i18n("sica.form.error.email_address.at_symbol")}},templateParams:{form:{},confirmation:{}},overlayOpts:{form:{},confirmation:{}}},u="common-newsletter-cont cont-secret-price",p="newsletter-overlay",v="newsletter-confirmation-overlay",b="cta-processing";dio.addWidget("Newsletter",dio.Widget,{loadTemplates:function e(){if(!t(this.conf))return!1;this.overlayCont=$('<div class="widget-overlay">').addClass(u).addClass(p).addClass(i(this.conf)).appendTo("body"),dio.template.call(this.conf.templates.form,{data:this.conf.templateParams.form,callback:$.proxy(function(e){this.overlayCont.append(e),this.closeButton=this.overlayCont.find(".newsletter-modal-close"),this.overlay=new dio.widget.Overlay($.extend(!0,{},{type:this.conf.type,trigger:this.conf.overlayTrigger,overlay:this.overlayCont,escToClose:!0,modal:!0,clickMaskToClose:!0,anim:0},this.conf.overlayOpts.form)),this.newsLetterSubscription(),this.overlay.subscribe("hide",function(){this.clearForm(!0)},this),this.closeButton.on("click",$.proxy(function(){this.overlay.close()},this)),this.validateForm(),this.lateBindUI(),this.createIframe()},this)})},validateForm:function e(){var t=this.overlay||$("."+i(this.conf));this.form=t.find("form"),this.emailField=this.form.find('input[type="email"]'),this.submitButton=this.form.find('button[type="submit"]'),this.validator=new dio.widget.FormValidator({form:this.form,validators:["common","email"],fields:{email:{validation:["common.required","email.all"]}},validateOnSubmit:!1,submitCallback:$.proxy(this.submitHandler,this)})},lateBindUI:function e(){this.validator.subscribe("fieldValidationFailure",function(e,t){this.displayFieldError(t.input,this.getErrorMessage(t.name,t.validationFailures[0])),this.emit(d,{data:{validationResult:t}})},this),this.validator.subscribe("fieldValidationSuccess",function(e,t){this.onFieldValidHandler(t.input)},this),this.form.on("keyup.newsletter","input",$.proxy(function(e){var t=[9,13,16,17,18,20,32,37,38,39,40,91,93],i=$(e.target);$.inArray(e.which,t)<0&&i.val()&&(this.removeFieldError(i),i.closest(".form-field").removeClass("valid"))},this))},createIframe:function e(){var t=s(this.conf);0===$(t).length&&$('<iframe frameborder="0" tabindex="-1"></iframe>').attr("id",t).attr("name",t).addClass(t).addClass("newsletter-secure-proxy").on("load",$.proxy(function(){this.proxy=new dio.widget.IframeProxy({proxyId:this.conf.type.id,targetOrigin:this.conf.targetOrigin,iframeIdAndName:t,messageHandler:$.proxy(this.messageHandler,this)}),this.emit(a)},this)).attr("src",o(this.conf)).appendTo("body")},getFormCont:function e(){return this.overlayCont},submitHandler:function e(t){t.preventDefault(),this.clearForm(),!this.submitButton.hasClass(b)&&this.validator.validateForm("submit")&&(this.submitButton.addClass(b),this.proxy.postMessage({email:this.emailField.val()}),this.emit(h))},processFormErrors:function e(t){if(t.globalError&&this.form.prepend('<p class="form-error">'+this.getLocalizedErrorMessage(t.globalError)+"</p>"),t.hasOwnProperty("fieldErrors"))for(var i in t.fieldErrors)this.form.find('input[name="'+i+'"]').length&&this.displayFieldError(this.form.find('input[name="'+i+'"]'),this.getLocalizedErrorMessage(t.fieldErrors[i]))},displayFieldError:function e(t,i){var r=t.siblings("label.error");"hidden"!==t.attr("type")&&(r.length?r.html(i):t.closest(".form-field").addClass("invalid error").removeClass("valid").append('<label for="'+t.attr("id")+'" class="error">'+i+"</label>"))},getLocalizedErrorMessage:function e(t){return dio.i18n(t)||t},getErrorMessage:function e(t,i){var r=this.conf.fieldErrors[t];return"string"==typeof r?this.getLocalizedErrorMessage(r):r.hasOwnProperty(i)?r[i]:r.hasOwnProperty("default")?r.default:""},onFieldValidHandler:function e(t){this.removeFieldError(t),t.closest(".form-field").addClass("valid"),this.emit(c)},removeFieldError:function e(t){t.closest(".form-field").removeClass("invalid error").find("label.error").remove()},clearForm:function e(t){(t=void 0!==t&&t)&&this.emailField.val(""),this.removeFieldError(this.emailField),this.form.find(".form-error").remove()},messageHandler:function e(t){if(t){try{t=JSON.parse(t)}catch(e){return!1}t.hasOwnProperty("proxyId")&&t.proxyId===this.conf.type.id&&(this.submitButton.removeClass(b),!0===t.success?(this.emit(m,{data:{alreadySubscribed:t.alreadySubscribed}}),this.overlay&&this.overlay.close(),r(this)?dio.template.call(this.conf.templates.confirmation,{data:this.conf.templateParams.confirmation,callback:$.proxy(function(e){this.confirmationOverlayCont=$('<div class="widget-overlay">').addClass(u).addClass(v).addClass(i(this.conf)).appendTo("body"),this.confirmationOverlayCont.append(e),this.confirmationOverlay=new dio.widget.Overlay($.extend(!0,{},{type:this.conf.type,overlay:this.confirmationOverlayCont,escToClose:!0,modal:!0,clickMaskToClose:!0,anim:0,buttons:{ok:{className:"cta cta-strong",label:this.conf.templateParams.confirmation.confirmationCloseButtonLabel}}},this.conf.overlayOpts.confirmation)),this.confirmationOverlay.subscribe("show",function(){this.emit(l)},this);var t=$.proxy(function(){this.unsubscribe("hide",t),this.confirmationOverlay.destroy(),this.emit(y)},this);this.confirmationOverlay.subscribe("hide",t),this.confirmationOverlay.show()},this)}):this.emit(y)):(t.hasOwnProperty("status")&&(t={globalError:"newsletter.form.error.technical",success:!1}),this.processFormErrors(t),this.emit(f,{data:{globalError:t.globalError,fieldErrors:t.fieldErrors}})))}},newsLetterSubscription:function e(){this.overlay.subscribe("show",function(){this.emit(n)},this)},show:function e(){this.overlay.show()},hide:function e(){this.overlay.hide()},destructor:function e(){var t;dio.getObjectByName("type.id",this.conf)&&$("#"+s(this.conf)).remove(),this.validator&&this.validator.destroy(),this.proxy&&this.proxy.destroy(),this.hasOwnProperty("conf")&&this.conf.hasOwnProperty("type")&&$("."+i(this.conf)).remove(),this.overlay&&(this.overlay.destroy(),this.overlayCont.remove()),this.confirmationOverlay&&(this.confirmationOverlay.destroy(),this.confirmationOverlayCont.remove())}},e)}();
/*! modules/newsletter/dd-srp/dio.widget.newsletter-dd-srp.js*/
"use strict";!function(){var n="ddNewsLetterReady",o="ddNewsletterShown",e="downloadLinkClicked",d="ddNewsletterSignupJourneySuccess",t={showLogin:!0===dio.getClientData("newsletter.dd.widgetConf.showLogin"),templateParams:{form:{},confirmation:{}}},a=!1;dio.addWidget("DDNewsletter",dio.Widget,{init:function t(){var e=dio.rtl?".rtl":"",i=dio.getClientData("newsletter.dd.widgetConf.confirmation.dateless.button_label");this.newsletter=new dio.widget.Newsletter({type:dio.newsletter.type.DRIVE_DIRECT,targetOrigin:dio.getClientData("newsletter.dd.widgetConf.targetOrigin"),proxyUrl:dio.getClientData("newsletter.dd.widgetConf.proxyUrl"),templates:{form:dio.getClientData("newsletter.dd.templates.form"),confirmation:dio.getClientData("newsletter.dd.templates.confirmation")},templateParams:{form:{tncLink:dio.getClientData("newsletter.dd.widgetConf.tncLink"),ppLink:dio.getClientData("newsletter.dd.widgetConf.ppLink"),nativeAppUrl:dio.getClientData("newsletter.dd.widgetConf.nativeApplicationDownloadUrl"),showLogin:!!dio.getClientData("newsletter.dd.widgetConf.showLogin"),decorationImgPath:dio.getClientData("newsletter.dd.widgetConf.decorationImgPath"),brandName:dio.getClientData("newsletter.dd.widgetConf.brandName"),deviceOS:dio.getClientData("newsletter.dd.widgetConf.deviceOS"),badgeLocale:dio.getClientData("newsletter.dd.widgetConf.badgeLocale"),maxSaving:dio.getClientData("newsletter.dd.widgetConf.maxSaving")},confirmation:{wideImage:dio.getClientData("newsletter.dd.widgetConf.confirmation.image.wide"+e),narrowImage:dio.getClientData("newsletter.dd.widgetConf.confirmation.image.narrow"+e),titleText:dio.getClientData("newsletter.dd.widgetConf.confirmation.dateless.titleText"),descriptionText:dio.getClientData("newsletter.dd.widgetConf.confirmation.dateless.descriptionText")}},overlayOpts:{form:{buttons:{close:!1}},confirmation:{buttons:{ok:{className:"cta cta-strong",label:i||dio.getClientData("newsletter.dd.confirmationCloseButtonLabel")}}}}}),dio.getObjectByName("dio.newsletter.tracking")&&new dio.newsletter.tracking.init(this.newsletter),this.newsletter.subscribe("newsletterReady",function(){a=!0,this.bindCustomFormHandlers(),this.emit(n)},this),this.newsletter.subscribe("newsletterShown",function(){this.emit(o)},this),this.newsletter.subscribe("newsletterSignupJourneySuccess",function(){this.emit(d)},this),dio.newsletter.dd.srp.tracking.init(this)},loadTemplates:function t(){this.newsletter.loadTemplates()},bindCustomFormHandlers:function t(){this.newsletter.getFormCont().find(".native-app-download-link").on("click",$.proxy(function(){this.emit(e)},this)),dio.event.subscribe("sicaOverlayEnvoked",this.hide,this)},show:function t(){a&&this.newsletter.show()},hide:function t(){this.newsletter.hide()},destructor:function t(){dio.event.unsubscribe("sicaOverlayEnvoked",this.hide),this.newsletter.destroy()}},t)}();
/*! core/dio/dio.di.js*/
"use strict";window.dio=window.dio||{},dio.di={},function(o){function r(o){d[o]=void 0,f[o]=void 0,s=[]}function e(o){d[o]=void 0,s=[]}function i(o,r){if("string"!=typeof o||""===o)throw new Error("invalid module id "+o);if(f[o])throw new Error("duplicated module id "+o);if("function"!=typeof r)throw new Error("invalid module function");f[o]=r}function n(r){return function(o){if(r.hasOwnProperty(o))return r[o];throw new Error("Stub "+o+" not found!")}}function u(o,r){var e=void 0,i=void 0;if(!f[o]){var t="Missing module - "+o+" is not defined";throw void 0,new Error(t)}for(i in s)if(s[i]===o)throw new Error("circular: "+s.join(", "));return r?(e={id:o,exports:{}},f[o](n(r),e),e.exports):d[o]?d[o].exports:(e=d[o]={id:o,exports:{}},s.push(o),f[o](u,e),s.pop(),e.exports)}function t(o){var r=f[o].toString(),e=r.indexOf("module.exports"),i=r.substr(e),t={},n=i.match(/(\w+)[,\n\r}]/g);if(!f[o])throw new Error('Module "'+o+'" is not defined in the store. Are you sure you loaded the proper file?');if(e<0)throw new Error('Module "'+o+'" seems to not have a public interface. Are you sure that this is the module you would like to stub?');if(null===n)throw new Error('Module "'+o+'" seems to not have a public interface. Are you sure that this is the module you would like to stub?');return n.forEach(function(o){var r=o.replace(/[,\n\r}]/,"");t[r]||(t[r]=function(){})}),t}var d={},f={},s=[];o.define=i,o.require=u,o.remove=r,o.removeFromCache=e,o.getInterfaceOf=t}(dio.di);
/*! core/dio/util/one-api.js*/
"use strict";$(function(){dio.di.define("OneApi",function(n,e){function t(n){var e=n.url,i=n.query;return{url:e,type:"POST",headers:{"x-client-id":"web","content-type":"application/json; charset=UTF-8"},data:JSON.stringify({query:i})}}function i(n){var i=n.resolver;return $.ajax(t(n)).then(function(n){var e=n.data;return i?i(e):e})}function r(){dio.setValueByName("dio.oneApi",{getData:i})}e.exports={init:r}}),window.commonDataBlock&&dio.di.require("OneApi").init()});
/*! core/dio/widget/dio.widget.pos-selector.js*/
"use strict";!function(){var n="show",o="hide",a="clicked",i="selectorsReady",e={types:[{name:"pos",title:dio.i18n("globalsite.page.heading.title")},{name:"currency",title:dio.i18n("header.selector.title_currencies")}],ele:{container:"#header-toggle",posSelector:"#header-toggle-pos",currencySelector:null,selector:$('<button id="header-toggle-currency" aria-haspopup="true"><span class="currency">'+dio.getClientData("currency")+"</span></button>")}},r=dio.getClientData("common.locale"),s=dio.getClientData("pos"),l=dio.getClientData("currency");dio.addWidget("POSSelector",dio.Widget,{init:function e(){this.$container=$(this.conf.ele.container),this.modals={}},paintUI:function e(){this.conf.ele.currencySelector||this.$container.append(this.conf.ele.selector);for(var t=0,n;t<this.conf.types.length,n=this.conf.types[t];t++)this.modals[n.name]=new dio.widget.Overlay({overlay:$('<div id="'+n.name+'-popup" class="widget-overlay"><h2 class="widget-overlay-hd">'+n.title+'</h2><div class="widget-overlay-bd"></div></div>').appendTo("body"),escToClose:!0,modal:!0,clickMaskToClose:!0,anim:0,className:"widget-overlay-pos-currency"}),this.modals[n.name].posSelectorType=n.name;$(this.conf.ele.posSelector).attr("role","button")},bindUI:function e(){for(var t=0,n;t<this.conf.types.length,n=this.conf.types[t];t++){var o=this.modals[n.name];this.modals[n.name].subscribe("pre:show",function(e){return function(){e.overlay.find(".widget-overlay-bd").html(this[e.posSelectorType+"HTML"]),e.overlay.find("a").append($("body").hasClass("RTL")?"&lrm;":"&rlm;"),this.patch(e.posSelectorType)}}(o),this),this.modals[n.name].subscribe("show",function(){this.overlay.focus()})}this.event(this.$container,"on","click","a, button",function(e){var t=e.target.id?e.target.id:e.target.parentElement.id;this.show(t.split("-").pop()),e.preventDefault()}),this.emit(i,{callback:function e(){var t=function e(){this.event(this.$container,"off","click focusin mouseover touchstart","a, button",e),dio.posCurrencyData?this.populateTemplates():this.getJSON()};this.event(this.$container,"one","click focusin mouseover touchstart","a, button",t)}})},populateTemplates:function e(){dio.template.loadClientTemplates("hcom.templates.modules.header.common.snippet.posselectorlist-hcom.templates.modules.header.common.snippet.currencyselectorlist",$.proxy(function(){for(var e=0,t;e<this.conf.types.length,t=this.conf.types[e];e++)dio.template.call("hcom.templates.modules.header.common.snippet."+t.name+"selectorlist",{data:dio.posCurrencyData,callback:function(t,n){return function(e){n[t.name+"HTML"]=e,dio.widget.POSSelector.showWhenLoaded&&n.show(dio.widget.POSSelector.showWhenLoaded)}}(t,this)})},this))},show:function e(t){this.emit(n,{callback:function e(){return this[t+"HTML"]||(dio.widget.POSSelector.showWhenLoaded=t),this.modals[t].show(),this}})},hide:function e(t){this.emit(o,{callback:function e(){this.modals[t].hide()}})},rewriteUrl:function e(t,n){var o=dio.url(t),i=dio.url(n),a=i.getUrlAsObj().pathname;return a&&(o.getUrlAsObj().pathname=a),i.getSearch().length&&(i.deleteParam(["pos","locale","cur"]),i.getSearch().length&&dio.mix(o.allQueryParams,i.allQueryParams)),o.toString()},patch:function e(t){var n=this.modals[t];if("pos"===t){if("en_IE"===r&&!s.includes("_IE"))return!1;var o=[],i=new RegExp("locale=[a-z]{2}_"+r.split("_")[1]+"\\b");if(n.overlay.find("a").filter(function(){var e=this.href;if(i.test(e))return o.push(this),e.includes("locale="+r)}),o.length){var a=$('<ul class="pos-currency-options">');$(o).each(function(e,t){$(t).parent().clone().toggleClass("active",t.href.includes(r)).appendTo(a)}),1<a.find(".active").length&&a.find(".active").removeClass("active"),n.overlay.find(".widget-overlay-bd").prepend(a)}this.rewriteUrlOnClick(n)}else n.overlay.find('.pos-currency-options a[data-currency="'+l+'"]').parent().addClass("active"),this.rewriteUrlOnClick(n)},rewriteUrlOnClick:function e(t){var i=this;t.overlay.find(".widget-overlay-bd").on("click","a",$.proxy(function(e){this.emit(a,{data:{event:e,selection:$(e.currentTarget).attr("href")}})},this)),this.subscribe(a,function(e,t){var n=t.event,o=i.rewriteUrl($(n.currentTarget).attr("href"),window.location);o&&(n.preventDefault(),window.location=o)})},getJSON:function e(){var t=this,n={url:dio.getClientData("posCurrencyEndpoint"),query:'query QueryType {\n                    pointOfSaleConfiguration(context: {\n                        pos: "'+dio.getClientData("pos")+'"\n                        locale: '+dio.getClientData("common.locale")+"\n                        clientInfo: {\n                            channel: "+dio.getClientData("common.channel")+"\n                        }\n                    })\n                    {\n                        matchedCurrencies {\n                            code\n                            currency: name\n                        }\n                        currencies {\n                            code\n                            currency: name\n                        }\n                        pointOfSales {\n                            label: name\n                            title: label\n                            lang: langIso\n                            flag_iso: flagIso\n                            href: webUrl\n                        }\n                    }\n                }",resolver:function e(t){var n=t.pointOfSaleConfiguration,o=n.matchedCurrencies,i,a;return{currencies:{codes:n.currencies,matched:o},points_of_sale:{pos:n.pointOfSales}}}};dio.oneApi.getData(n).then(function(e){return dio.setValueByName("dio.posCurrencyData",e)}).then($.proxy(function(){return t.populateTemplates()},this))},destructor:function e(){for(var t=0,n;t<this.conf.types.length,n=this.conf.types[t];t++)this.modals[n.name].overlay.remove(),this.modals[n.name].destroy()}},e)}(),new dio.widget.POSSelector({ele:dio.getClientData("module.header.contextSelector.selectors")||{}});
/*! modules/hcom-header-h18/header-h18.js*/
"use strict";$(function(){var e=window.s&&window.s.pageName||"",t={tracking:[{element:".sidebar-trigger-button",props:{eVar33:"Header Menu Opened",eVar34:dio.sitecatalyst.buildMvtReportStringForMvtList([{mvtId:9817},{mvtId:9991}]),list3:"D=v34"},description:"Header Menu Opened"},{element:"#header-toggle-pos",props:{eVar33:e+" :: POS selector"},description:"header-toggle-pos clicked"},{element:"#header-toggle-currency",props:{eVar33:e+" :: Currency selector"},description:"header-toggle-currency clicked"},{element:".help-section label",props:{eVar33:"Header Phone Icon Click"},event:"event90",description:"Phone Number Info Opened"},{element:"#hdr-credit-card",description:"Header :: credit card"}]};dio.addWidget("HeaderH18",dio.Widget,{init:function e(){this.$document=$(document),this.$body=$("body"),this.$alternateContextBar=$("#suggested-languages"),this.$opinionLabLink=this.find(".open-opinionlab"),this.$sidebarTriggerButton=this.find(".sidebar-trigger-button"),this.$sidebarOverlay=this.find(".sidebar-overlay"),this.$sidebarContent=this.find(".sidebar-content"),this.sideBarOpened=!1,dio.util.responsive.createListener()},bindUI:function e(){this.event(this.$opinionLabLink,"on","click",this.onOpinionLabLinkClicked),this.event(this.$sidebarTriggerButton,"on","click",this.toggleSidebar),this.event(this.cont,"on","change",".toggle input",function(e){this.onToggleChanged($(e.target))}),this.initTracking()},paintUI:function e(){this.addCloseButtonToAlternateContextBar()},addCloseButtonToAlternateContextBar:function e(){var t=this;$('<button class="cta">'+dio.getClientData("geolocation.message.close")+"</button>").appendTo(this.$alternateContextBar.find(".g")).one("click",function(){t.$alternateContextBar.remove()})},toggleSidebar:function e(t){this.sideBarOpened=!this.sideBarOpened,this.$sidebarTriggerButton.attr("aria-expanded",this.sideBarOpened),this.$body.toggleClass("header-sidebar-opened",this.sideBarOpened),this.sideBarOpened?(this.$sidebarOverlay.css("top",this.cont.offset().top+this.cont.height()+"px"),t.stopPropagation(),this.event(this.$document,"on","click",function e(t){t.target===this.$sidebarTriggerButton[0]?this.$document.off("click",e):this.$sidebarContent.has(t.target).length||(t.preventDefault(),this.$document.off("click",e),this.toggleSidebar(t))})):this.$document.scrollTop(this.cont.offset().top)},onToggleChanged:function e(i){var t=i.parent(),n=t.find('label[for="'+i.attr("id")+'"]'),o=t.find("#"+i.attr("id")+"-cont"),a=i.is(":checked");n.attr("aria-expanded",a),a?this.event(this.$document,"on","click",function e(t){t.target!==i[0]&&(t.target===n[0]?this.$document.off("click",e):o.has(t.target).length||(i.attr("checked",!1),n.attr("aria-expanded",!1),this.$document.off("click",e)))}):i.blur()},onOpinionLabLinkClicked:function e(t){var i=$(t.target).closest(".toggle").find("input");i.attr("checked",!1),this.onToggleChanged(i),dio.event.publish("feedbackLinkClicked",t)},initTracking:function e(){for(var t in this.conf.tracking){var i=this.conf.tracking[t];this.event(this.find(i.element),"one","click",this.getTrackingCallback(i.props,i.event,i.description))}},getTrackingCallback:function e(t,i,n){return function(){dio.sitecatalyst&&dio.sitecatalyst.sendPartialReport(t,i||"",n||"")}}},t),new dio.widget.HeaderH18({cont:$("header")})});
/*! nav-back-header.js*/
"use strict";$(function(){$(".nav-back-header").click(function(){window.history.back()})});
/*! core/dio/widget/dio.widget.tooltip.js*/
"use strict";!function(){var e="tooltipTriggered",r="tooltipShown",o="tooltipClosed",d=void 0,m=void 0,a=void 0,l=void 0,w=void 0,p=void 0,t={classes:{tooltip:"widget-tooltip",hover:"widget-tooltip-hover",hoverActive:"widget-tooltip-hover-active",delay:"widget-tooltip-delay",breakout:"widget-tooltip-breakout",close:"widget-tooltip-close",content:"widget-tooltip-bd",responsive:"widget-tooltip-responsive",trigger:"widget-tooltip-trigger",ignoreTouch:"widget-tooltip-ignore-touch",mask:"widget-tooltip-mask",clickable:"widget-tooltip-clickable",supportTouchLaptop:"widget-tooltip-support-touch-laptop",clickableOnTouchLaptop:"widget-tooltip-clickable-on-touch-laptop"},dataDelay:"widget-tooltip-delay",dataCharsLimit:"widget-tooltip-chars",dataAnchor:"widget-tooltip-anchor",minimumLeftWidthFromTooltipContainer:3};dio.addWidget("Tooltip",dio.Widget,{paintUI:function t(){var s=this.conf,i=s.classes.content,e=s.classes.tooltip;$("."+e+"[title]").map(function(t,s){var e=$(s);return e.append(['<span class="',i,'">',e.attr("title")||e.parent().attr("title"),"</span>"].join("")).attr("title",""),e}),dio.browser.features.touch&&$("."+this.conf.classes.mask).length&&(this.$mask=$("#tooltip-mask"),this.$mask.length||(this.$mask=$('<div id="tooltip-mask"></div>').appendTo("body"))),0<$("."+s.classes.breakout+", ."+s.classes.responsive).length&&0===$("#tooltip-holder").length&&(w=$('<div id="tooltip-holder"/>').appendTo("body"),this.event(w,"on","click",function(t){t.stopPropagation(),t.stopImmediatePropagation()}))},bindMaskEvents:function t(){this.event($(window),"on","resize touchmove",this.hideMask),this.event($(window),"on","blur",this.maskOnBlur),this.event(this.$mask,"on","click",this.maskOnClick)},maskOnBlur:function t(){this.$mask.hasClass("overlay")&&this.hideMask()},maskOnClick:function t(s){var e=$("."+this.conf.classes.hover);e.hasClass(this.conf.classes.trigger)&&this.unbindClose(e),this.hide(),!$("."+this.conf.classes.hover).length&&this.hideMask(),s.stopPropagation(),s.preventDefault()},hideMask:function t(){$("."+this.conf.classes.tooltip+":hover").length||(this.$mask.hide(),this.event($(window),"off","resize touchmove",this.hideMask),this.event($(window),"off","blur",this.maskOnBlur),this.event(this.$mask,"off","click",this.maskOnClick))},bindUI:function t(){var s=void 0,e=void 0;m=this.conf,a=dio.browser.features.touch,l="."+m.classes.tooltip,this.cont&&this.cont.length?this.cont.is(l)?s=this.cont:(e=this.cont.find("."+m.classes.trigger).removeClass(l),s=this.cont.find(l)):(e=$("."+m.classes.trigger).removeClass(m.classes.tooltip),s=$(l)),a&&(s=this.handleTouch(s),this.event($("#main-content"),"on","click",$.noop),this.event($(document.body),"on","touchmove",this.hide),this.event(s.filter("."+this.conf.classes.supportTouchLaptop),"on","mouseenter focusin",this.show)),!s.attr("tabIndex")&&s.attr("tabIndex",0),this.event(s,"on",a?"click":"mouseenter focusin",this.show);var i=s.filter("."+m.classes.hoverActive);s=s.not("."+m.classes.hoverActive),this.event(s,"on","mouseleave focusout",this.hide),this.event(i,"on","mouseleave focusout",this.handleActiveHoverTooltip),dio.event.subscribe("orientationChange",this.hide),e&&this.event(e,"on","click",this.show)},width:function t(s,e){s.text().length>e&&s.width(s.css("max-width")).css("white-space","normal")},close:function t(s){var e=$(s.currentTarget),i=m.classes.hover;$("."+i).removeClass(i),this.$mask&&this.hideMask(),clearTimeout(d),this.unbindClose(e),!this.clickable&&e.closest("."+this.conf.classes.trigger).length&&(s.stopImmediatePropagation(),s.preventDefault()),this.emit(o,{data:{$target:e}})},show:function t(i){var o=this,a=$(i.currentTarget),l=this.conf,n=$(i.currentTarget),s=a.hasClass(l.classes.breakout)?0:a.data(l.dataDelay),h=a.hasClass(l.classes.hoverActive),c=this;h&&(this.event(w,"on","touchstart mouseenter focusin",function(){p=!0}),this.event(w,"on","mouseleave focusout",function(){p=!1,c.hide()})),d=setTimeout(function(){var t=a.data(l.dataCharsLimit)||0,s=a.find("."+l.classes.content),e=a.offset().left;t&&c.width(a.find("."+l.classes.content),t),a.addClass(l.classes.hover),a.hasClass(l.classes.breakout)&&(dio.rtl?(a.hasClass("widget-tooltip-tr")||a.hasClass("widget-tooltip-br"))&&(e+=a.outerWidth()):(a.hasClass("widget-tooltip-tl")||a.hasClass("widget-tooltip-bl"))&&(e+=a.outerWidth()),w.attr("class",a.attr("class")).addClass(l.classes.hover).removeClass(l.classes.breakout).html(s.clone()).css({top:a.offset().top,left:e}),a=w),a.hasClass(l.classes.responsive)&&(c.positionContent(a,s,a.hasClass(l.classes.trigger),h),a=w),a.hasClass(l.classes.trigger)&&(o.clickable=a.hasClass(l.classes.clickable),c.bindClose(a)),"click"===i.type&&a.hasClass(l.classes.mask)&&c.$mask&&(c.$mask.toggleClass("overlay",!a.hasClass(l.classes.trigger)),c.bindMaskEvents(),c.$mask.show()),c.emit(r,{data:{$target:$(i.currentTarget),$originalTarget:n}})},s),this.clickable||a.hasClass(l.classes.clickableOnTouchLaptop)||(i.preventDefault(),i.stopImmediatePropagation()),this.emit(e,{data:{$target:$(a)}})},positionContent:function t(s,e,i,o){var a=s,l=a.offset(),n={width:a.outerWidth(!0),height:a.outerHeight(!0)},h=dio.util.responsive.getViewportWidth(),c=$("html").scrollTop()||$("body").scrollTop(),r=void 0,d=void 0,p=void 0,v=void 0,u=Math.abs($("body").offset().top),f=function t(){var s=$(".widget-modaloverlay:visible .widget-modaloverlay-bd"),e=0,i=!1;d.height=w.outerHeight(!0),e=u+l.top-(d.height+parseInt(r.css("border-top-width"),10)),s.length&&u+s.offset().top>e?(e=u+l.top+n.height,i=!0):!s.length&&l.top-c<d.height&&(e=l.top+n.height+parseInt(r.css("border-top-width"),10),i=!0),w.css("top",e),i&&w.removeClass("widget-tooltip-responsive-bc").addClass("widget-tooltip-responsive-tc")},g=o?m.classes.hoverActive:"";w.html('<span class="widget-tooltip-tip" />').append(e.clone(!0)).find(".widget-tooltip-bd").removeClass("widget-tooltip-bd").end().removeClass("widget-tooltip-responsive-tc").addClass("widget-tooltip-responsive-bc widget-tooltip-hover widget-tooltip widget-responsive-tooltip-bd").addClass(a.data("tooltip-class")).addClass(g),i&&w.addClass(m.classes.trigger),(d={width:w.outerWidth(!0),height:w.outerHeight(!0)}).halfWidth=d.width/2,n.halfWidth=n.width/2,r=w.find(".widget-tooltip-tip"),w.css({left:l.left+n.halfWidth-d.halfWidth}),f(),r.css("left",d.halfWidth-this.getTipHalfWidth(r)),(p=parseInt(w.css("left"),10))<0?(w.css("left",10),(v=parseInt(l.left-this.getTipHalfWidth(r),10))<this.conf.minimumLeftWidthFromTooltipContainer&&(v=this.conf.minimumLeftWidthFromTooltipContainer),r.css("left",v)):p+d.width>h&&(w.css("left",h-d.width),r.css("left",d.width-(h-l.left)),f())},getTipHalfWidth:function t(s){return parseInt(s.css("border-top-width"),10)/2},bindClose:function t(s){this.event(s.find("."+m.classes.close),"one","click",this.close),this.event($(window),"one","resize",this.close),this.event($(document.body),"one","click",this.close)},unbindClose:function t(s){this.event(s.find("."+m.classes.close),"off","click",this.close),this.event($(window),"off","resize",this.close),this.event($(document.body),"off","click",this.close)},hide:function t(){var s=$("."+m.classes.hover),e=$("#tooltip-holder");clearTimeout(d),s.removeClass(m.classes.hover),e.removeClass(),e.css("left","0")},handleActiveHoverTooltip:function t(){var s=this;dio.browser.features.touch?p||s.hide():setTimeout(function(){p||s.hide()},100)},handleTouch:function t(s){return s.filter(function(t,s){var e=$(s),i=!e.hasClass(m.classes.ignoreTouch);if(!i)for(var o in m.classes)m.classes.hasOwnProperty(o)&&e.removeClass(m.classes[o]);return i})}},t),dio.widget.Tooltip()}();
/*! core/dio/widget/dio.widget.modaloverlay.js*/
"use strict";!function(){var e="show",i="hideStart",a="hide",s="close",o="cancel",n="ok",l="scrollEnd",h="loaded",m="rendered",t={activeClass:"widget-modaloverlay-active",buttonsOrder:["cancel","ok","close"],buttons:{close:{className:"widget-modaloverlay-close",label:"",ariaLabel:dio.i18n("closeOverlay")},ok:!1,cancel:!1},centered:!1,escToClose:!0,fullScreen:!1,clickMaskToClose:!0,manipulateHistory:!0,forceManipulateHistory:!1,overlayContentShared:!1},r=0;dio.addWidget("ModalOverlay",dio.Widget,{bound:!1,init:function t(){this.isOpened=!1,"ModalOverlay"!==this.NAME,this.overlay=this.cont=$(this.conf.overlay),this.ajaxOverlay=!(!this.conf.template||!this.conf.templateData&&!this.conf.templateDataSrc),this.conf.overlayContentShared||(this.overlayFragment=$(document.createDocumentFragment()),this.overlayParent=this.overlay.parent(),this.overlayFragment.append(this.overlay)),this.bd=this.cont.find(".widget-modaloverlay-bd"),this.breakPoint=dio.util.responsive.getBreakpoint(),this.conf.fullScreen&&this.cont.addClass("full-screen")},bindUI:function t(){var e=function t(e){this.triggerEl=$(e.currentTarget),e.preventDefault(),this.cont.hasClass(this.conf.activeClass)?this.hide():this.show()};this.conf.location?this.event($(this.conf.location),"on","click.overlaytrigger",this.conf.trigger,e):this.event($(this.conf.trigger),"on","click.overlaytrigger",e),this.conf.centered&&this.overlay.addClass("widget-modaloverlay-centered"),dio.util.responsive.createListener(),this.subscribe("pre:show",function(){this.bound||this.paintAndBind(),dio.event.subscribe("viewportChanged.overlay",this.viewportChanged,this),this.preventScroll(!0),this.overlayParent&&this.overlayParent.append(this.mask,this.overlay),this.isVisible=!0,dio.event.subscribe("orientationChange",this.handleOrientationChange,this)}),dio.overlayDataSrc=dio.overlayDataSrc||{},this.ajaxOverlay&&(this.overlay.addClass("widget-modaloverlay-ajax"),this.subscribe("loaded",function(){this.overlay.removeClass("widget-modaloverlay-ajax")}),this.conf.templateDataSrc?this.subscribe("pre:show",this.preloadTemplatesAndData,this):this.subscribe("pre:show",this.getTemplates)),this.subscribe("hide",function(){clearTimeout(this.viewportChangedTimeoutID),dio.event.unsubscribe("viewportChanged.overlay",this.viewportChanged,this),this.preventScroll(0<$("."+this.conf.activeClass).length),this.overlayFragment&&this.overlayFragment.append(this.mask,this.overlay),this.isVisible=!1,dio.event.unsubscribe("orientationChange",this.handleOrientationChange,this)})},handleOrientationChange:function t(){this.breakPoint=dio.util.responsive.getBreakpoint(),this.position()},preloadTemplatesAndData:function t(){this.unsubscribe("pre:show",this.preloadTemplatesAndData),this.conf.templateDataCallback&&!dio.overlayDataSrc[this.conf.templateDataCallback]?(dio.setValueByName(this.conf.templateDataCallback,$.proxy(function(t){dio.overlayDataSrc[this.conf.templateDataCallback]=function(){return t},this.conf.templateData=dio.overlayDataSrc[this.conf.templateDataCallback]()},this)),dio.require(this.conf.templateDataSrc).done($.proxy(function(){this.conf.templateDataCallback&&(this.conf.templateData=dio.overlayDataSrc[this.conf.templateDataCallback]()),this.getTemplates()},this))):(this.conf.templateData=dio.overlayDataSrc[this.conf.templateDataCallback](),this.getTemplates())},getTemplates:function t(){this.unsubscribe("pre:show",this.getTemplates),dio.template.call(this.conf.template,{callback:$.proxy(function(t){this.bd.append(t),setTimeout($.proxy(function(){this.emit(h)},this),0)},this),data:this.conf.templateData,injectedData:this.conf.templateInjectedData})},preventScroll:function t(e){var i=$("body"),s=i.width();i.toggleClass("widget-modaloverlay-open",e),!e||dio.browser.features.touch||this.conf.fullScreen?e?(this.pageScroll=$(window).scrollTop(),$('<style class="widget-modaloverlay-noscroll" type="text/css">').html("html { position:fixed; top:"+-this.pageScroll+"px; width: 100%; }").appendTo("head")):($(".widget-modaloverlay-noscroll").remove(),this.pageScroll&&$(window).scrollTop()!==this.pageScroll&&($(window).scrollTop(this.pageScroll),delete this.pageScroll)):1<(s=i.width()-s)&&$('<style class="widget-modaloverlay-noscroll" type="text/css">').html(".widget-modaloverlay-open { margin-right:"+s+"px; }").appendTo("head")},paintAndBind:function t(){this.mask=$('<div class="widget-modaloverlay-mask"></div>'),$("body").append(this.mask),this.cont.css("z-index",1+~~this.mask.css("z-index")).attr("tabIndex",-1).addClass(this.conf.className),this.aria(),this.subscribe("show",function(){!document.documentElement.className.includes("ie8")&&this.event($(document),"on","focusin.overlay",function(t){this.find($(t.target)).length||this.cont[0]===t.target||t.target.className&&t.target.className.includes("widget-")||(t.stopPropagation(),t.preventDefault(),this.cont.focus())}),(this.conf.manipulateHistory||this.conf.forceManipulateHistory)&&this.historyAdd()}),this.subscribe("hide",function(){this.event($(document),"off","focusin.overlay")}),this.conf.escToClose&&this.event(this.cont,"on","keydown.overlay",function(t){27===t.keyCode&&this.hide()}),(this.conf.buttons.ok||this.conf.buttons.cancel)&&(this.ft=this.find(".widget-modaloverlay-ft"),this.ft.length||(this.ft=$('<div class="widget-modaloverlay-ft"/>'),this.cont.append(this.ft)));for(var e=0,i=this.conf.buttonsOrder.length,s;e<i&&(s=this.conf.buttonsOrder[e]);e++){var a=this.conf.buttons[s];if(a&&a.label){var o=$('<button class="cta widget-modaloverlay-'+s+'">'+a.label+"</button>");o.addClass(a.className),"cancel"===s&&o.addClass("cta-link"),a.disabled&&o.prop("disabled",!0).addClass("cta-disabled"),"close"===s?this.cont.append(o.attr("aria-label",a.ariaLabel)):this.ft.append(o),this.event(o,"on","click touchstart",function(e){return function(t){t.preventDefault(),this[e]()}}(s))}}this.conf.clickMaskToClose&&this.event(this.mask,"on","click",this.maskClicked),(this.conf.manipulateHistory||this.conf.forceManipulateHistory)&&(this.subscribe("hide",this.historyRemove),$(window).on("hashchange",$.proxy(this.hashChange,this))),this.bd.on("scroll",dio.debounce($.proxy(this.scrollEnd,this),50)),this.bound=!0},viewportChanged:function t(){clearTimeout(this.viewportChangedTimeoutID),this.viewportChangedTimeoutID=setTimeout($.proxy(function(){this.preventScroll(!0)},this),500)},position:function t(){if(this.bd[0])if("x-small-screen"===this.breakPoint||this.conf.fullScreen)this.bd[0].style.maxHeight="";else{var e=this.conf.centered?.1*window.innerHeight:2*this.cont[0].offsetTop;this.bd[0].style.maxHeight=window.innerHeight-this.cont.find(".widget-modaloverlay-hd").outerHeight()-this.cont.find(".widget-modaloverlay-ft").outerHeight()-e+"px"}},show:function t(){return this.isOpened?0:this.emit(e,{callback:function t(){var s=this,e=function t(){var e=s.cont.find("button.cta.widget-modaloverlay-close:not([disabled])").eq(0);if(e.length)e.focus();else{var i=s.find("a[href], input:not([disabled]), select:not([disabled]), textarea:not([disabled]), button:not([disabled]), iframe, object, embed, *[tabindex]");i.length?i.eq(0).focus():s.cont.focus()}s.emit(m,{data:s.conf})};if(dio.browser.features.csstransitions&&(this.triggerEl||this.conf.trigger)){this.inTransition=1,this.fake=document.getElementById("widget-modaloverlay-fake"),this.fake||(this.fake=document.createElement("div"),this.fake.id="widget-modaloverlay-fake",document.body.appendChild(this.fake)),this.cont.addClass(this.conf.activeClass),this.position(),this.activeElement=document.activeElement,this.triggerEl||this.conf.trigger||(this.conf.trigger=$(document.activeElement));var i,a=(this.triggerEl&&this.triggerEl.get(0)||this.conf.trigger.get(0)).getBoundingClientRect(),o=this.cont[0].getBoundingClientRect();this.cont.removeClass(this.conf.activeClass);var n=(o.width/(a.width||1)).toFixed(3),l=(o.height/(a.height||1)).toFixed(3),h=o.left-a.left,r=o.top-a.top,c=function t(){s.fake.style.display="none",s.fake.removeEventListener("transitionend",t,!1),s.inTransition=0,e()},d=function t(){s.cont.addClass(s.conf.activeClass),s.fake.style.opacity="0",s.fake.removeEventListener("transitionend",t,!1),s.fake.addEventListener("transitionend",c,!1)};this.fake.addEventListener("transitionend",d,!1);var f="x-small-screen"===this.breakPoint||this.conf.fullScreen?0:window.scrollY;requestAnimationFrame(function(){s.fake.style.cssText="transform-origin: 0px 0px;transform: translate("+h+"px, "+r+"px) scale("+n+","+l+");top:"+(a.top+f)+"px;left: "+a.left+"px;width: "+(a.width||1)+"px;height: "+(a.height||1)+"px"}),this.mask.css("opacity",0),this.mask.show(),this.mask.addClass("widget-modaloverlay-mask-anim"),this.mask.css("opacity",.35)}else this.cont.addClass(this.conf.activeClass),this.position(),this.mask.show(),e();this.isOpened=!0},data:this.conf}),this},hide:function t(){return this.emit(i,{callback:function t(){var i=this;if(dio.browser.features.csstransitions&&(this.triggerEl||this.conf.trigger)){if(this.inTransition)return!1;var e=function e(){i.emit(a,{callback:function t(){this.fake.removeEventListener("transitionend",e,!1),this.fake.parentNode.removeChild(this.fake)},data:i.conf})},s=function t(){cancelAnimationFrame(i.anim),i.fake.removeEventListener("transitionend",t,!1),i.cont.removeClass(i.conf.activeClass),i.mask.hide(),i.fake.style.transform="none",i.fake.className="widget-modaloverlay-fake-out",i.fake.style.opacity=0,i.fake.addEventListener("transitionend",e,!1)};this.fake.addEventListener("transitionend",s,!1),this.fake.style.display="block",this.fake.className="widget-modaloverlay-fake-out-start",this.anim=requestAnimationFrame(function(){i.fake.style.opacity=1,i.mask[0].style.opacity=0})}else this.emit(a,{callback:function t(){this.mask.hide(),this.cont.removeClass(this.conf.activeClass)},data:this.conf});(this.triggerEl||$(this.conf.trigger)).focus(),this.isOpened=!1},data:this.conf}),this},maskClicked:function t(){"x-small-screen"!==this.breakPoint&&this.hide()},aria:function t(){this.cont.attr("role","dialog");var e=this.find("h2, h3, h4");if(e.length){var i=e.eq(0);this.cont.attr("aria-labelledby",i.attr("id")||i.attr("id","widget-modaloverlay-title-"+ ++r).attr("id"))}},historyAdd:function t(){if(("x-small-screen"===this.breakPoint||this.conf.fullScreen||this.conf.forceManipulateHistory)&&!location.hash.includes(":wo"+this.instanceIndex)){var e=location.hash.includes("WO")?"":":WO";location.hash=location.hash+e+":wo"+this.instanceIndex}},historyRemove:function t(){("x-small-screen"===this.breakPoint||this.conf.fullScreen||this.conf.forceManipulateHistory)&&(location.hash=location.hash.replace(":wo"+this.instanceIndex,""))},hashChange:function t(){("x-small-screen"===this.breakPoint||this.conf.fullScreen||this.conf.forceManipulateHistory)&&(location.hash.includes(":wo"+this.instanceIndex)?!this.isVisible&&this.show():this.isVisible&&this.hide(),this.hash=location.hash)},close:function t(){this.emit(s,{callback:this.hide})},cancel:function t(){this.emit(o,{callback:this.hide})},ok:function t(){this.emit(n,{callback:this.hide})},scrollEnd:function t(){this.emit(l)},destructor:function t(){this.preventScroll(!1),this.mask&&this.mask.remove(),dio.event.unsubscribe("orientationChange",this.handleOrientationChange,this)}},t)}();
/*! core/dio/widget/dio.widget.overlaycentered.js*/
"use strict";void dio.addWidget("OverlayCentered",dio.widget.Overlay,{bindUI:function i(){dio.widget.Overlay.prototype.bindUI.call(this),dio.event.subscribe("orientationChange.overlay",this.position,this)},paintAndBind:function i(){dio.widget.Overlay.prototype.paintAndBind.call(this),this.cont.addClass("widget-overlay-centered")},position:function i(){var t=window.innerHeight?window.innerHeight:$(window).height();this.cont.css("maxHeight",t),this.cont.css({top:"","margin-top":-this.cont.outerHeight()/2})}});
/*! core/dio/widget/dio.widget.urgency.js*/
"use strict";var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(s){return typeof s}:function(s){return s&&"function"==typeof Symbol&&s.constructor===Symbol&&s!==Symbol.prototype?"symbol":typeof s};!function(){var e="shown",i="hidden",t="suspended",n="requestsSent",o="requestDone",a="finished",h="slide",c="fade",s={cadence:5e3,duration:800,animation:h,classNames:{message:"widget-urgency",inner:"widget-urgency-inner"}};dio.addWidget("Urgency",dio.Widget,{init:function s(){this.ajaxResponses=[],this.showing=!1,this.messages=this.conf.messages&&$.isArray(this.conf.messages)?this.conf.messages:[],this.sources=this.conf.sources&&$.isArray(this.conf.sources)?this.conf.sources:[],this.allowSessionHide=this.conf.allowSessionHide||!1,this.sessionHideBreakpoints=this.conf.sessionHideBreakpoints&&$.isArray(this.conf.sessionHideBreakpoints)?this.conf.sessionHideBreakpoints:[],this.eligibleForSessionHide()||(0<this.sources.length&&this.request(),this.checkMessages())},paintUI:function s(){this.element=$('<div class="'+this.conf.classNames.message+'"></div>'),this.conf.target.append(this.element)},bindUI:function s(){this.event(this.element,"on","click",function(s){"A"!==s.target.tagName&&(this.hide(),this.suspend()),this.sessionId&&localStorage.setItem("sessionIdForHideUrgency",this.sessionId)}),dio.event.subscribe("show:Overlay",this.suspend,this),this.subscribe("finished",this.destroy)},request:function s(){this.emit(n,{callback:function s(){var e=this.sources,i=e.length,n=[],t=0,o=$.proxy(function(){++t===i&&(this.ajaxResponses=n,this.handleCallback())},this);$.each(e,function(s,e){var i=$.extend({method:"GET",cache:!0},"object"===(void 0===e?"undefined":_typeof(e))?e:{url:e}),t=$.ajax(i);n.push(t),t.done(o).fail(function(){n[s]=null,o()})})}})},handleCallback:function s(){this.emit(o,{callback:function s(){var e=this;Promise.all(this.ajaxResponses.map(function(s){if(s)return s.done($.proxy(function(s){var i=this;if("object"===(void 0===s?"undefined":_typeof(s)))if(s.urgencyMessageResponses)s.urgencyMessageResponses.forEach(function(s){dio.template.call("hcom.templates.widget.urgency.urgencyMessage",{data:{urgency:s},callback:function s(e){i.messages.push(e)}})});else for(var e in s)""!==s[e]&&this.messages.push("<p>"+s[e]+"</p>");else this.messages.push(s)},e));Promise.resolve()})).then(this.checkMessages.bind(this))}})},checkMessages:function s(){this.messages.length&&!this.interval&&(this.interval=setInterval($.proxy(function(){this.showing?this.hide():this.show()},this),this.conf.cadence))},eligibleForSessionHide:function s(){if(this.allowSessionHide&&dio.browser.features.localStorage&&"undefined"!=typeof commonDataBlock&&dio.getObjectByName("user.sessionId",commonDataBlock)&&(this.sessionId=dio.getObjectByName("user.sessionId",commonDataBlock),localStorage.getItem("sessionIdForHideUrgency")===this.sessionId&&(!this.sessionHideBreakpoints.length||this.sessionHideBreakpoints.length&&-1!==$.inArray(dio.util.responsive.getBreakpoint(),this.sessionHideBreakpoints))))return!0},show:function s(){this.emit(e,{callback:function s(){var e=this.messages.shift();if(e){if(e.replace("script>","p>"),this.element.hide().height("auto").html('<div class="'+this.conf.classNames.inner+'">'+e+"</div>"),this.conf.animation===h){var i=this.element.outerHeight();this.element.height(0).show().animate({height:i},this.conf.duration)}else this.conf.animation===c&&this.element.fadeIn(this.conf.duration);this.showing=!0}}})},hide:function s(){this.emit(i,{callback:function s(){var e=$.proxy(function(){this.showing=!1,this.messages.length||this.emit(a)},this);this.conf.animation===h?this.element.animate({height:0},this.conf.duration,e):this.conf.animation===c&&this.element.fadeOut(this.conf.duration,e)}})},suspend:function s(){this.emit(t,{callback:function s(){this.emit(a)}})},destructor:function s(){clearInterval(this.interval),this.conf.target.find($("."+this.conf.classNames.message)).remove()}},s)}();
/*! core/dio/widget/dio.widget.carousel.js*/
"use strict";!function(a,h){var r=a(h.document),o={movePanel:"movePanel",goto:"goto",startAnimation:"startAnimation",endAnimation:"endAnimation",destroyCarousel:"destroyCarousel",contentAppeared:"contentAppeared"},t={classNames:{enabled:"widget-carousel-enabled",active:"widget-carousel-active",item:"widget-carousel-item",btnNext:"cta widget-carousel-cta-next",btnPrev:"cta widget-carousel-cta-previous",pagination:"widget-carousel-pagination-cont",btnDisabled:"widget-carousel-cta-disabled",animate:"widget-carousel-animate",noanimation:"widget-carousel-noanimation",clone:"widget-carousel-clone",itemHidden:"widget-carousel-item-hidden",itemVisible:"widget-carousel-item-visible"},useWidthForPanel:!1,subtractBtnWidthFromPanel:!0,buttonText:{next:"",previous:""},infinite:{enabled:!1},stepByNumber:1,paginationDots:!1,lazyImageHelper:!1},l=10,c=.4,s="a, button, input, .widget-tooltip";dio.addWidget("BaseCarousel",dio.Widget,{xTouchDelta:0,init:function t(){this.current=0,this.rtl=dio.rtl,this.rtlMultiplier=this.rtl?-1:1,this.csstransforms3d=dio.browser.features.csstransforms3d,this.infinite=this.conf.infinite.enabled,this.panel=this.conf.contentPanel?this.conf.contentPanel:this.find(".cont-bd"),this.mask=this.panel.children().first(),this.btnPrev=this.findByClassName(this.conf.classNames.btnPrev),this.btnNext=this.findByClassName(this.conf.classNames.btnNext),this.keepButtons=this.btnPrev.length&&this.btnNext.length,this.paginationCont=this.conf.paginationDots&&this.findByClassName(this.conf.classNames.pagination),this.carouselNotRequired=!1},paintUI:function t(){if(this.panelWidth=parseInt(this.conf.useWidthForPanel?this.panel.width():this.panel.outerWidth(),10)||0,this.items=this.conf.items||this.find(this.conf.itemSelector),this.fullWidth=this.calculateTotalWidth(),this.carouselNotRequired=this.panelWidth>=this.fullWidth,this.carouselNotRequired)return!1;if(this.btnPrev.length||(this.btnPrev=a("<button>").attr("aria-label","Previous panel").addClass(this.conf.classNames.btnPrev).text(this.rtl?this.conf.buttonText.next:this.conf.buttonText.previous),this.panel.append(this.btnPrev)),this.conf.paginationDots&&!this.paginationCont.length){this.paginationCont=a("<div>").addClass(this.conf.classNames.pagination),this.panel.append(this.paginationCont),this.paginationDotsNumber=Math.ceil(this.items.length/this.conf.stepByNumber);for(var e=0;e<this.paginationDotsNumber;e++)this.paginationCont.append(a("<button>").attr("aria-label","Panel "+(e+1)+" of "+this.paginationDotsNumber).text(e+1).attr("data-idx",e));this.paginationDots=this.paginationCont.find("button")}this.btnNext.length||(this.btnNext=a("<button>").attr("aria-label","Next panel").addClass(this.conf.classNames.btnNext).text(this.rtl?this.conf.buttonText.previous:this.conf.buttonText.next),this.panel.append(this.btnNext)),this.panel.addClass(this.conf.classNames.enabled),this.conf.subtractBtnWidthFromPanel&&"absolute"===this.btnPrev.css("position")&&"absolute"===this.btnNext.css("position")&&(this.panelWidth-=parseInt(this.btnPrev.outerWidth(),10)+parseInt(this.btnNext.outerWidth(),10)),this.infinite&&(this.previousItemClone=this.items.last().clone().addClass(this.conf.classNames.clone),this.itemClones=this.items.slice(0,this.calculateVisibleItemCount()).clone().add(this.previousItemClone),this.itemClones.appendTo(this.mask),this.items=this.items.add(this.itemClones.first()).add(this.previousItemClone)),this.panelOffsets=this.calculateOffset(),this.aria(),this.gotoPanel(this.current),this.conf.lazyImageHelper&&this.lazyImageHelper(),this.updateNavigation(),this.visibleItemCount=this.calculateVisibleItemCount(10),this.updateVisibility()},bindUI:function t(){if(this.carouselNotRequired)return!1;this.bindBtn(),dio.browser.features.touch&&this.bindTouch(),this.event(this.mask,"on","transitionend",this.onMaskTransitionEnd),this.event(this.cont,"on","focusin",function(){this.event(r,"on","keydown.carousel"+this.cont.attr("id"),this.handleKeys)}),this.event(this.cont,"on","focusout",function(){this.event(r,"off","keydown.carousel"+this.cont.attr("id"),this.handleKeys)}),this.conf.paginationDots&&this.event(this.paginationDots,"on","click",function(t){var e=parseInt(a(t.target).attr("data-idx"),10);this.movePanelTo(e*this.conf.stepByNumber,"Arrows")})},bindTouch:function t(){this.event(this.cont,"on","touchstart",function(t){this.handleSwipeStart(t.originalEvent.touches[0].pageX,t.originalEvent.touches[0].pageY)}),this.event(this.cont,"on","MSPointerDown",function(t){this.handleSwipeStart(t.originalEvent.clientX,t.originalEvent.clientY)}),this.event(this.cont,"on","touchmove",function(t){this.handleSwipeMove(t.originalEvent.changedTouches[0].pageX,t)}),this.event(this.cont,"on","touchend",function(t){this.handleSwipeEnd(t.originalEvent.changedTouches[0].pageX)}),this.event(this.cont,"on","MSPointerUp MSPointerOut",function(t){this.handleSwipeEnd(t.originalEvent.clientX)})},bindBtn:function t(){var e=this;this.btnPrev&&this.event(this.btnPrev,"on","click",function(){e.movePanelBy(-1*e.conf.stepByNumber,"Arrows")}),this.btnNext&&this.event(this.btnNext,"on","click",function(){e.movePanelBy(e.conf.stepByNumber,"Arrows")})},onMaskTransitionEnd:function t(){this.mask.removeClass(this.conf.classNames.animate),this.emit(o.endAnimation)},calculateTotalWidth:function t(){var e=0;return this.items.filter(function(){return a(this).is(":visible")}).each(function(){e+=a(this).get(0).getBoundingClientRect().width}),Math.round(e)},calculateOffset:function t(){var s=this,n=[0],a=0;return this.items.slice(0,-1).each(function(t,e){a+=e.getBoundingClientRect().width;var i=Math.ceil(Math.min(s.fullWidth-s.panelWidth,a));s.infinite?n.push(Math.floor(a)):n.includes(i)||n.push(i)}),n},calculateVisibleItemCount:function t(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0,i=this.panelWidth,s=0,n=0;return this.items.filter(function(){return a(this).is(":visible")}).each(function(){s<=i-e&&n++,s+=a(this).outerWidth()}),n},handleSwipeStart:function t(e){this.swipeStartX=e,this.swipeStartY=parseInt(r.scrollTop(),10),this.currentLeft=-1*this.panelOffsets[this.current],this.swipeAnimationFrame=null,this.swipeStartTimestamp=(new Date).getTime(),this.mask.removeClass(this.conf.classNames.animate),this.event(this.panel,"off","focusin")},handleSwipeMove:function t(e,i){var s=this,n=Math.abs(this.swipeStartX-e),a=Math.abs(this.swipeStartY-parseInt(r.scrollTop(),10));l<n&&a<n&&(this.swipeAnimationFrame&&h.cancelAnimationFrame(this.swipeAnimationFrame),this.xTouchDelta=n,this.swipeAnimationFrame=h.requestAnimationFrame(function(){s.mask.css(s.getCSS(s.rtlMultiplier*(s.rtlMultiplier*(e-s.swipeStartX)+s.currentLeft)))}),i.preventDefault())},handleSwipeEnd:function t(e){var i=Math.abs(this.swipeStartX-e),s=Math.abs(this.swipeStartY-parseInt(r.scrollTop(),10)),n=(new Date).getTime(),a=Math.abs(i/Math.min(n-this.swipeStartTimestamp,1e3));if(this.swipeAnimationFrame=h.cancelAnimationFrame(this.swipeAnimationFrame),s<i&&(i>this.panelWidth/2||c<a)){var o=(this.swipeStartX<e?-1:1)*(this.rtl?-1:1)*this.conf.stepByNumber;this.movePanelBy(o,"Swipe")}else i&&this.movePanelTo(this.current,"Swipe")},handleKeys:function t(e){var i=e.keyCode,s=void 0;39===i||40===i?(!(s=this.rtl?this.btnPrev:this.btnNext).is(":focus")&&s.focus(),this.movePanelBy(this.conf.stepByNumber*this.rtlMultiplier),e.preventDefault()):37!==i&&38!==i||(!(s=this.rtl?this.btnNext:this.btnPrev).is(":focus")&&s.focus(),this.movePanelBy(this.conf.stepByNumber*this.rtlMultiplier*-1),e.preventDefault())},aria:function t(){var e=this.find("h2, h3, h4");if(this.panel.attr("role","listbox"),this.items.attr("role","option").attr("tabIndex","-1").find(s).attr("tabIndex","-1"),this.itemClones&&this.itemClones.removeAttr("role").attr("aria-hidden","true").attr("tabIndex","-1").find(s).attr("tabIndex","-1"),e.length){var i=e.eq(0);this.panel.attr("aria-labelledby",i.attr("id")||i.attr("id","widget-carousel-title-"+dio.widget.Carousel.instances.length).attr("id"))}},updateNavigation:function t(){var e=Math.abs(this.current),i=!this.infinite&&0===e,s=!this.infinite&&e===this.panelOffsets.length-1;if(a(this.btnPrev).toggleClass(this.conf.classNames.btnDisabled,i).prop("disabled",!1),a(this.btnNext).toggleClass(this.conf.classNames.btnDisabled,s).prop("disabled",!1),i&&a(this.btnPrev).attr("disabled","disabled"),s&&a(this.btnNext).attr("disabled","disabled"),this.conf.paginationDots){var n=Math.ceil(e/this.conf.stepByNumber);this.paginationDots.removeClass("active").eq(n).addClass("active")}},updateVisibility:function t(){var i=this,e=this.cont.find("."+this.conf.classNames.itemVisible),s=this.current;e.length&&this.updateItemVisibility(e,!1),this.items.slice(s,s+this.visibleItemCount).each(function(t,e){i.updateItemVisibility(a(e),!0)})},updateItemVisibility:function t(e,i){e.toggleClass(this.conf.classNames.itemVisible,i).find(s).attr("tabindex",i?"0":"-1")},movePanelBy:function t(e,i){this.movePanelTo(this.current+e,i)},movePanelTo:function t(e,i){var s=this.getNextItemIndex(e);this.emit(o.movePanel,{callback:function t(){s.forceGoTo&&this.goto(s.forceGoTo),this.current=s.to,this.updateNavigation(),this.updateVisibility(),this.animate(this.panelOffsets[s.to]),this.conf.lazyImageHelper&&this.lazyImageHelper()},data:{method:i||"",oldImageIndex:this.current,newImageIndex:this.getNextItemIndex(e).to,scroll:s.to===this.current+1||1<this.current-s.to&&0===s.to?"Swipe"===i?"left":"right":"Swipe"===i?"right":"left",context:this.cont}})},getNextItemIndex:function t(e){var i=this.panelOffsets.length,s=e,n=this.current,a=i-2,o=null,h=n<=s;return this.infinite?(s=(e%(i-=2)+i)%i,n>=a-this.conf.stepByNumber&&h&&n!==s?o=this.panelOffsets[1]-this.xTouchDelta:n<this.conf.stepByNumber&&!h&&(o=-this.panelOffsets[a]+this.xTouchDelta),this.xTouchDelta=0):e<0?s=0:i-1<e&&(s=i-1),{to:s,forceGoTo:o}},lazyImageHelper:function t(){var i=this,e=this.getNextItemIndex(this.current-this.conf.stepByNumber).to,s=this.getNextItemIndex(this.current+this.conf.stepByNumber).to,n=this.items.slice(e,s+this.conf.stepByNumber);a.each(n,function(t,e){a(e).removeClass(i.conf.classNames.itemHidden)}),this.emit(o.contentAppeared)},gotoPanel:function t(e){this.current=e,this.goto(-this.panelOffsets[e])},goto:function t(e){e*=this.rtlMultiplier,this.emit(o.goto,{callback:function t(){this.mask.removeClass(this.conf.classNames.animate).addClass(this.conf.classNames.noanimation).css(this.getCSS(e)).removeClass(this.conf.classNames.noanimation),this.mask[0].offsetHeight}})},animate:function t(e){e=e*this.rtlMultiplier*-1,this.emit(o.startAnimation,{callback:function t(){this.mask.removeClass(this.conf.classNames.noanimation).addClass(this.conf.classNames.animate).css(this.getCSS(e))}})},getCSS:function t(e){return this.csstransforms3d?{transform:"translate("+e+"px, 0)"}:{left:e+"px"}},findByClassName:function t(e){return this.find(e.replace(/(^| )/g,"."))},getCurrentItem:function t(){return this.items.eq(this.current)},destructor:function t(){this.emit(o.destroyCarousel,{callback:function t(){this.itemClones&&this.itemClones.remove(),!this.keepButtons&&this.btnPrev.length&&this.btnPrev.remove(),!this.keepButtons&&this.btnNext.length&&this.btnNext.remove(),this.paginationCont&&this.paginationCont.remove(),this.panel.removeClass(this.conf.classNames.enabled),this.mask&&this.mask.removeClass(this.conf.classNames.noanimation).removeClass(this.conf.classNames.animate).css({left:"",transform:""}),this.panel.removeAttr("role").removeAttr("aria-labelledby").removeClass("widget-carousel-enabled"),this.items.removeAttr("role").removeAttr("tabIndex")}})}},t);var e={responsiveStepByNumber:{},getBreakpoint:null,additionalUpdateEvents:[]},n="create";dio.addWidget("Carousel",dio.Widget,{carousel:null,items:[],updateEvents:"",init:function t(){this.updateEvents=["resizeEnd"].concat(this.conf.additionalUpdateEvents).join(" "),this.update()},bindUI:function t(){dio.event.subscribe(this.updateEvents,this.update,this)},gotoPanel:function t(e){return this.carousel&&this.carousel.gotoPanel(e)},getCurrentItem:function t(){return this.carousel?this.carousel.getCurrentItem():null},update:function t(){var e=this.getStep(),i=0,s=this.conf.stepByNumber;this.carousel&&(i=this.carousel.current,s=this.carousel.conf.stepByNumber,this.carousel.destroy(),this.carousel=null),e&&(i=s===e?i:0,this.create(i,e))},getStep:function t(){if("function"==typeof this.conf.responsiveStepByNumber)return this.conf.responsiveStepByNumber();var e=this.conf.getBreakpoint?this.conf.getBreakpoint():null;if(e&&this.conf.responsiveStepByNumber.hasOwnProperty(e)){var i=this.conf.responsiveStepByNumber[e];return"function"==typeof i?i():i}return this.conf.stepByNumber},create:function t(){var i=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0,s=1<arguments.length&&void 0!==arguments[1]?arguments[1]:this.conf.stepByNumber;this.emit(n,{callback:function t(){if(this.carousel=new dio.widget.BaseCarousel(dio.mix({},this.conf,{stepByNumber:s})),this.carousel.subscribe(Object.keys(o).join(" "),this.proxy,this),!this.carousel.carouselNotRequired){var e=i<this.carousel.items.length?i:this.carousel.items.length-1;this.carousel.gotoPanel(e)}this.items=this.carousel.items,!this.carousel.carouselNotRequired&&this.carousel.updateNavigation()}})},proxy:function t(e,i){this.emit(e,{data:i})},destructor:function t(){dio.event.unsubscribe(this.updateEvents,this.update,this),this.carousel&&this.carousel.destroy()}},dio.mix({},t,e))}(jQuery,window);
/*! pages/cop/booking-form/booking-form-globals.js*/
"use strict";dio.setValueByName("dio.cop.sica.selectedFlow.flowSelector","FLOW_SELECTOR"),dio.setValueByName("dio.cop.sica.selectedFlow.signIn","SIGN_IN"),dio.setValueByName("dio.cop.sica.selectedFlow.forgottenPassword","FORGOTTEN_PASSWORD"),dio.setValueByName("dio.cop.sica.selectedFlow.createAccount","CREATE_ACCOUNT"),dio.setValueByName("dio.cop.sica.selectedFlow.identifiedUser.signIn","IDENTIFIED_USER_SIGN_IN"),dio.setValueByName("dio.cop.sica.selectedFlow.identifiedUser.forgottenPassword","IDENTIFIED_USER_FORGOTTEN_PASSWORD"),dio.setValueByName("dio.cop.loyaltyRewards.form.states.SINGLE_NIGHT_REDEEM","single-night-redeem"),dio.setValueByName("dio.cop.loyaltyRewards.form.states.REMOVE_REDEEMED_NIGHTS","remove-redeemed-nights"),dio.setValueByName("dio.cop.loyaltyRewards.form.states.NO_NIGHTS_SELECTED","no-nights-selected"),dio.setValueByName("dio.cop.loyaltyRewards.form.states.SOME_NIGHTS_SELECTED","some-nights-selected"),dio.setValueByName("dio.cop.loyaltyRewards.form.states.REDEEM_LIMIT_REACHED","redeemable-nights-limit-reached"),dio.setValueByName("dio.cop.loyaltyRewards.form.states.REDEEM_LIMIT_EXCEEDED","redeemable-nights-limit-exceeded"),dio.setValueByName("dio.cop.loyaltyRewards.form.states.REDEEM_LIMIT_EXCEEDED_ERROR","redeemable-nights-limit-exceeded-error"),dio.setValueByName("dio.cop.dealsAndDiscounts.states.MULTIPLE_OPTIONS","multiple-options"),dio.setValueByName("dio.cop.dealsAndDiscounts.states.SINGLE_OPTION","single-option"),dio.setValueByName("dio.cop.dealsAndDiscounts.states.NO_DISCOUNTS","no-discounts"),dio.setValueByName("dio.cop.dealsAndDiscounts.states.INVALID_COUPON_CODE","invalid-coupon-code"),dio.setValueByName("dio.cop.dealsAndDiscounts.states.WITH_T_AND_C","with-t-and-c"),dio.setValueByName("dio.cop.dealsAndDiscounts.states.COUPON_CODE_APPLIED","coupon-code-applied"),dio.setValueByName("dio.cop.dealsAndDiscounts.states.LOYALTY_REWARDS_REDEEM_APPLIED","loyalty-rewards-redeem-applied"),dio.setValueByName("dio.cop.dealsAndDiscounts.states.DISCOUNT_OPTION_SELECTED","discount-option-selected"),dio.setValueByName("dio.cop.giftCard.states.GIFT_CARD_APPLIED","gift-card-applied"),dio.setValueByName("dio.cop.payments.JS_HIDDEN_OPTIONS_LIST","js-hidden-options-list"),dio.setValueByName("dio.cop.payments.KLARNA_PAYMENT_OPTIONS",["KLARNA","KLARNA_PAY_NOW","KLARNA_PAY_LATER"]),dio.setValueByName("dio.cop.payments.CVV_DEFAULT_PLACEHOLDER","000"),dio.setValueByName("dio.cop.payments.CVV_AMEX_PLACEHOLDER","0000"),dio.setValueByName("dio.cop.payments.AMERICAN_EXPRESS","AmericanExpress"),dio.setValueByName("dio.cop.contactDetails.kickBoxValidation.inProgressClass","state-in-progress"),dio.setValueByName("dio.cop.contactDetails.kickBoxValidation.warningClass","state-kickbox-warning"),dio.setValueByName("dio.cop.contactDetails.kickBoxValidation.indicatedId","contact-details-email"),dio.setValueByName("dio.cop.contactDetails.kickBoxValidation.hasConfirmationMailMessagingDisplayedClass","has-confirmation-mail-messaging-displayed"),dio.setValueByName("dio.cop.homeAway.iovation.statuses.STATUS_WAITING_FOR_IFRAME","WAITING_FOR_IFRAME"),dio.setValueByName("dio.cop.homeAway.iovation.statuses.STATUS_WAITING_FOR_MESSAGE","WAITING_FOR_MESSAGE"),dio.setValueByName("dio.cop.homeAway.iovation.statuses.STATUS_FAILED_TO_LOAD_IFRAME","FAILED_TO_LOAD_IFRAME"),dio.setValueByName("dio.cop.homeAway.iovation.statuses.STATUS_NO_MESSAGE_SENT","NO_MESSAGE_SENT"),dio.setValueByName("dio.cop.homeAway.iovation.statuses.STATUS_EMPTY_MESSAGE_SENT","EMPTY_MESSAGE_SENT"),dio.setValueByName("dio.cop.homeAway.iovation.statuses.STATUS_UNEXPECTED_ERROR","UNEXPECTED_ERROR"),dio.setValueByName("dio.cop.homeAway.iovation.statuses.STATUS_SUCCESS","SUCCESS"),dio.setValueByName("dio.cop.homeAway.iovation.providerType","IOVATION"),dio.setValueByName("dio.cop.insurance.widget.COLLAPSE","COLLAPSE"),dio.setValueByName("dio.cop.insurance.widget.EXPAND","EXPAND"),dio.setValueByName("dio.cop.insurance.widget.BRAND_ID","hcom"),dio.setValueByName("dio.cop.insurance.widget.CONTAINER_ID","insurance-container"),dio.setValueByName("dio.cop.insurance.widget.MOBILE_CONTAINER_ID","insurance-container-mobile"),dio.setValueByName("dio.cop.bookingForm.interstitial.DURATION_IN_MILLISECONDS",25e3),dio.setValueByName("dio.cop.bookingForm.threeDs.RESUME_ORDER_REQUEST_TIMEOUT",6e4);
/*! pages/cop/common/common-globals.js*/
"use strict";dio.setValueByName("dio.cop.general.states.HIDDEN","hidden"),dio.setValueByName("dio.cop.general.states.JS_HIDDEN","js-hidden"),dio.setValueByName("dio.cop.general.states.NO_JS_HIDDEN","no-js-hidden"),dio.setValueByName("dio.cop.general.states.ERROR","error"),dio.setValueByName("dio.cop.general.states.STATE_ERROR","state-error"),dio.setValueByName("dio.cop.general.states.DISABLED","disabled"),dio.setValueByName("dio.cop.general.states.CONFIRMED","confirmed"),dio.setValueByName("dio.cop.general.states.FAILED","failed"),dio.setValueByName("dio.cop.general.states.OPEN","open"),dio.setValueByName("dio.cop.breakpoints.XS","x-small-screen"),dio.setValueByName("dio.cop.breakpoints.S","small-screen"),dio.setValueByName("dio.cop.breakpoints.M","medium-screen"),dio.setValueByName("dio.cop.breakpoints.ML","medium-large-screen"),dio.setValueByName("dio.cop.breakpoints.L","default"),dio.setValueByName("dio.cop.breakpoints.XL","x-large-screen"),dio.setValueByName("dio.cop.eventWidget.constants.EVENT_WIDGET_GLOBAL_NAME","xSell"),dio.setValueByName("dio.cop.virtualAgent.constants.VA_REQUEST_TIMEOUT",1e4);
/*! pages/cop/common/live-state.js*/
"use strict";var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};dio.di.define("LiveState",function(e,t){function r(n,i,o){var a=$.extend({},o,{subscriptionElement:this});this.handlers&&this.handlers.forEach(function(e){var t;e.type===n&&e.scope===i&&(!e.domEventName||e.domEventName===o.domEventName)&&(!e.filter||e.filter(o.element))&&e.fn.call(this,a)}),"self"===i&&this.parent?(r.call(this.parent,n,"children",o),r.call(this.parent,n,"descendants",o)):"descendants"===i&&this.parent&&r.call(this.parent,n,"descendants",o)}function n(e,t){r.call(this,e,"self",t)}function o(e){var t={element:this,domEvent:e.domEvent,domEventName:e.domEvent?e.domEvent.type:void 0,previousValue:this.value,value:e.value};(this.value!==e.value||e.force)&&(this.value=e.value,this.$object&&e.updateDom&&p(this.$object,e.value,e.domEvent),!e.force&&this.$object&&void 0===t.previousValue&&""===e.value||n.call(this,"change",t))}function i(e){var t={element:this,domEvent:e,domEventName:e.type};n.call(this,"domEvent",t)}function c(o){var a=this,r=!0;if(!this.window&&!this.jquery)return Object.keys(this).forEach(function(e){var t=a[e],n=null!==t&&"object"===(void 0===t?"undefined":_typeof(t))&&!t.jquery&&!$.isArray(t),i=null!==t&&"object"===(void 0===t?"undefined":_typeof(t))&&(t.value||t.$object||t.selector);return!1!==r&&(!!s(e)||(n&&c.call(a[e],o),i&&(r=o(t,a,e)),void 0))}),!1!==r&&void 0}function s(e){var t;return-1!==["$object","events","handlers","parent","selector","value"].indexOf(e)}function l(e){return e&&e.get&&e.set}function u(e){var t;return"object"!==(void 0===e?"undefined":_typeof(e))||null===e||$.isArray(e)?t=I.primitive:e.jquery&&e.length?t=I.existingJQueryObject:e.jquery?t=I.notExistingJQueryObject:e.value?t=I.objectContainingValue:e.$object&&e.$object.length?t=I.objectContainingExistingJQueryObject:e.$object&&(t=I.objectContainingNotExistingJQueryObject),t}function f(o,a){var r;a=a||D,o=o||D,Object.keys(a).forEach(function(e){var t,n=a[e],i="object"===(void 0===n?"undefined":_typeof(n))&&null!==n&&!n.jquery&&!$.isArray(n);n===window||s(e)||(l(n)||(((t=Object.create(P)).parent=o)[e]=t,(r=u(n))&&r(n,t)),i&&f(t,n))}),a===D&&o===D&&D.ready.resolve()}function a(){Object.keys(D).forEach(function(e){delete D[e]})}function h(){var i=this,o=[];return Object.keys(this).forEach(function(e){var t=i[e],n;!s(e)&&"object"===(void 0===t?"undefined":_typeof(t))&&null!==t&&!t.jquery&&o.push(t)}),o}function v(e){var t=y($(e.target));o.call(this,{value:t,domEvent:e,updateDom:!0})}function d(e,t){var n=e.contents(),i=!1,o;return"string"!=typeof t&&"number"!=typeof t&&(t=""),o=$.grep(n,function(e){return 3===e.nodeType}),n.length?o.length?(o[0].nodeValue=t,i=!0):n.length&&n.each(function(){return!(i=d($(this),t))}):(e.text(t),i=!0),i}function p(i,o,a){i.each(function(){var e,t,n;a&&this===a.target||(e=$(this),t=this.tagName,n=this.type?this.type.toLowerCase():void 0,"INPUT"===t&&"checkbox"===n?e.prop("checked",!!o):"INPUT"===t&&"radio"===n?a||i.filter('[value="'+o+'"]').prop("checked",!0):"INPUT"===t||"SELECT"===t||"TEXTAREA"===t?e.val(o):"FORM"!==t&&d(e,o))})}function y(e){var t=e.eq(0),n,i,o,a;return 0<e.length&&(i=(n=e[0]).tagName,o=n.type?n.type.toLowerCase():void 0,n===window||n===document?a=null:"INPUT"===i&&"checkbox"===o?a=t.is(":checked")?t.val():void 0:"INPUT"===i&&"radio"===o?a=e.filter(":checked").val():"INPUT"===i||"SELECT"===i||"TEXTAREA"===i?a=t.val():"FORM"!==i&&(a=t.html())),a}function b(e,t){var n=t.keyCode;91===n||16<=n&&n<=18||37<=n&&n<=40||e(t)}function m(t){return function(e){setTimeout(function(){t(e)},0)}}function j(e){var t=v.bind(this),n=b.bind(this,t);w.inputEventSupported?(e.off("input.liveState"),e.off("change.liveState"),e.on("input.liveState",t)):(e.off("keydown.liveState"),e.off("paste.liveState"),e.off("cut.liveState"),e.off("change.liveState"),e.on("keydown.liveState",m(n)),e.on("paste.liveState",m(t)),e.on("cut.liveState",m(t))),e.on("change.liveState",t)}function g(e){var t=v.bind(this);e.off("change.liveState"),e.on("change.liveState",t)}function E(e,t,n){t=t||"self",this.handlers||(this.handlers=[]),this.handlers.push({type:"change",scope:t,fn:e,filter:n})}function S(e){this.$object&&(this.$object.off(e+".liveState"),this.$object.on(e+".liveState",i.bind(this)))}function N(e,t,n,i){n=n||"self",this.handlers||(this.handlers=[]),"self"===n&&(this.events||(this.events=[]),-1===$.inArray(e,this.events)&&(this.events.push(e),this.$object&&this.$object.length&&S.call(this,e))),this.handlers.push({domEventName:e,type:"domEvent",scope:n,fn:t,filter:i})}function O(e){var t,n;return"INPUT"===e[0].tagName?(n=e[0].type?e[0].type.toLowerCase():void 0,t=J[n]):"TEXTAREA"===e[0].tagName?t=j:"SELECT"===e[0].tagName&&(t=g),t}function T(e){var t=this,n;e&&e.length?(this.$object=e,delete this.selector,n=O(e),this.events&&this.events.forEach(function(e){S.call(t,e)}),n&&n.call(this,e),o.call(this,{value:y(this.$object),force:!1,updateDom:!1})):o.call(this,{value:void 0,force:!1,updateDom:!1})}function x(n,i){this.handlers&&(this.handlers=$.grep(this.handlers,function(e){var t;return!((e.type===n||e.domEventName===n)&&(!i||e.fn===i))}))}function C(){for(var e="",t=this,n;t.parent;){for(n in t.parent)t.parent.hasOwnProperty(n)&&t.parent[n]===t&&(e="."+n+e);t=t.parent}return"liveState"+e}function k(t){var n;return this.forEach(function(e){if(t(e))return n=e,!1}),n}var w={inputEventSupported:dio.browser.features.hasInputEvent},A={ready:$.Deferred()},D=Object.create(A),I={primitive:function e(t,n){n.value=t},existingJQueryObject:function e(t,n){n.events=t.events,T.call(n,t)},notExistingJQueryObject:function e(t,n){n.events=t.events,n.selector=t.selector},objectContainingValue:function e(t,n){n.value=t.value},objectContainingExistingJQueryObject:function e(t,n){n.events=t.events,T.call(n,t.$object)},objectContainingNotExistingJQueryObject:function e(t,n){n.events=t.events,n.selector=t.$object.selector}},J={text:j,password:j,email:j,tel:j,radio:g,checkbox:g},P={set:function(e,t,n){var i=n&&$.extend({preventDefault:$.noop},n);o.call(this,{value:e,force:t,updateDom:!0,domEvent:i})},get:function(){return this.value},getDOM:function(){return this.$object},getChildren:function(){return h.call(this)},triggerDOMEvent:function(e,t){var n=$.extend({type:e,preventDefault:$.noop},t);i.call(this,n)},onChange:function(e,t,n){E.call(this,e,t,n)},onDOMEvent:function(e,n,i,o){var t=$.isArray(e)?e:[e],a=this;$.each(t,function(e,t){N.call(a,t,n,i,o)})},rebind:function(){var e=function e(t){t.selector?T.call(t,$(t.selector)):t.$object&&T.call(t,$(t.$object.selector))};e.call(null,this),c.call(this,e)},removeHandler:function(e,n){var t=$.isArray(e)?e:[e],i=this;$.each(t,function(e,t){x.call(i,t,n)})}};P.forEach=c,P.toString=C,P.jasmineToString=C,P.getFirstMatchingNode=k,A.reset=a,A.discover=f,t.exports=D});
/*! pages/cop/common/live-state-filters.js*/
"use strict";dio.di.define("LiveStateFilters",function(e,t){function i(e){return!!e.get&&!!e.get()}function n(e){return!e.get||!e.get()}function r(e){return!!e.get&&!!e.get().valid}t.exports={isChecked:i,isTruthy:i,isUnchecked:n,isFalsy:n,isValid:r}});
/*! pages/cop/common/utility-service.js*/
"use strict";function _defineProperty(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var _slicedToArray=function(){function n(e,t){var n=[],o=!0,r=!1,i=void 0;try{for(var a=e[Symbol.iterator](),c;!(o=(c=a.next()).done)&&(n.push(c.value),!t||n.length!==t);o=!0);}catch(e){r=!0,i=e}finally{try{!o&&a.return&&a.return()}finally{if(r)throw i}}return n}return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return n(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};dio.di.define("UtilityService",function(e,t){function i(e,t){var n=dio.getObjectByName("environment.page",_),o=n&&n.getDOM();o&&(t?o.scrollTop(e):o.animate({scrollTop:e},"slow"))}function s(e,t,n){var o=_.environment.window.getDOM(),r=e.getDOM(),i=r&&r.get(0);n&&r.removeClass(t);var a=i.getBoundingClientRect().top;return n&&r.addClass(t),a<o.height()}function l(e,t,n){var o,r;i(n-(e-t),!0)}function n(e,t,n){var o=_.environment.document.getDOM(),r=o.height(),i=o.scrollTop();e.getDOM().toggleClass(t,n);var a=o.height(),c=o.scrollTop(),u;i===c&&s(e,t,n)&&l(r,a,c)}function r(e){return e.toString().replace(/^(liveState\.)/,"")}function o(e,t){var n=_.cache.get(),o=t.reduce(function(e,t){return e[r(t)]=t.get(),e},{});n=$.extend(n,_defineProperty({},e,o)),_.cache.set(n)}function a(e,t){var n=_.cache.get(),o=n[e];o&&t&&(o[r(t)]=t.get(),n=$.extend(n,_defineProperty({},e,o)),_.cache.set(n))}function c(e){var t=1<arguments.length&&void 0!==arguments[1]&&arguments[1],n=_.cache.get()[e];return n&&t?n[r(t)]:n||void 0}function u(e,t){var n=_.cache.get()[e];n&&t?t.forEach(function(e){var t=n[r(e)];void 0!==t&&e.set(t)}):n&&Object.keys(n).forEach(function(e){dio.getObjectByName(e,_).set(n[e])})}function f(e,t){e.location.href=t}function d(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[],t=arguments[1],n=arguments[2];return e&&e.find(function(e){return e[n]===t})}function g(e,t,n){var o=d(e,"default",n),r=d(e,t,n);return $.extend(!0,{},o,r)}function v(t,e){var n;(e||_.environment.document.getDOM()).on("keyup.disableKey keypress.disableKey",function(e){e.which===t&&e.preventDefault()})}function p(e,t){var n;(t||_.environment.document.getDOM()).off("keyup.disableKey keypress.disableKey")}function y(e){return{jqXHR:e[0].getAllResponseHeaders?e[0]:e[2],textStatus:"string"==typeof e[1]?e[1]:void 0,settings:"object"===_typeof(e[1])?e[1]:void 0,data:e[2]&&e[2].getAllResponseHeaders?e[0]:void 0,errorThrown:e[0].getAllResponseHeaders?e[2]:void 0}}function h(e,t){var n=d(e,t,"value")||e[0];e.map(function(e){delete e.selected}),n.selected=!0}function m(e,t,n){e.setSelectionRange&&(e.focus(),setTimeout(function(){return e.setSelectionRange(t,n)},0))}function b(e){return e.selectionStart||0}function C(e,t){document.cookie=e+"="+encodeURIComponent(t)+"; path=/"}function O(e,t,n){var o=new Date;o.setTime(o.getTime()+24*n*60*60*1e3),document.cookie=e+"="+encodeURIComponent(t)+"; path=/; expires="+o.toUTCString()}function S(e){var t,n=new RegExp("(?:^|;)\\s?"+e+"=([^;]+)","g").exec(document.cookie);return n&&decodeURIComponent(n[1])}function D(e){e&&0<e.length&&e.forEach(function(e){_.hiddenFields.getDOM().filter('[name="'+e.name+'"]').val(e.value)})}function T(e){return e.split("&").reduce(function(e,t){var n=t.split("="),o=_slicedToArray(n,2),r=o[0],i=o[1];return e[r]=i,e},{})}function w(e){var t=$.Deferred();return e.then(function(e){t.resolve(e)}).catch(function(e){t.reject(e)}),t}function j(a){var c=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"";if(a!==Object(a))return c?_defineProperty({},c,a):a;var u=Array.isArray(a);return(u?a:Object.keys(a)).reduce(function(e,t,n){var o=u?t:a[t],r;if(null!=o){var i=""+c+(u?"["+n+"]":c?"."+t:t);Object.assign(e,j(o,i))}return e},{})}function k(e){var t=/(([\w\.\-\+]+:)\/{2}(?:(([\w\d\.]+)(?::([\w\d\.]+))?)@)?(([a-zA-Z0-9\.\-_]+)(?::(\d{1,5})?)))?(\/(?:[a-zA-Z0-9\.\-\/\+\%]+)?)(?:\?([a-zA-Z0-9=%\-_\.\*&;]+))?(?:#(.*$)?)?/,o=e.match(t)||[],r=["href","origin","protocol","userinfo","username","password","host","hostname","port","pathname","search","hash"],i={};return o.forEach(function(e,t){var n=r[t];e&&("search"===n&&(i.query=T(o[t])),i[n]=e)}),i}function M(){var e=dio.cop.breakpoints,t,n,o,r;return[e.ML,e.L,e.XL].includes(dio.util.responsive.getBreakpoint())}function A(e){var t=e.getDOM();t&&t.removeClass(H)}function E(e){var t=e.getDOM();t&&t.addClass(H)}function R(e){var t=e.getDOM();return!!t&&0<t.filter(":visible").length}function x(e,t){var n=e.getDOM();n&&("boolean"==typeof t?n.toggleClass(H,!t):n.toggleClass(H))}var _=e("LiveState"),H=dio.cop.general.states.HIDDEN;t.exports={putToCache:o,restoreFromCache:u,getCacheEntry:c,updateCachedNode:a,redirectTo:f,getConfiguration:g,getFirstMatchingConfiguration:d,disableKey:v,enableKey:p,scrollTo:i,toggleVisibilityWithScrollAdjustment:n,showElement:A,hideElement:E,isElementVisible:R,toggleElementVisibility:x,decodeJqRequestState:y,getCaret:b,setCaret:m,setCookie:C,setCookieWithExpirationDays:O,getCookieValue:S,updateHiddenFields:D,urlToObject:k,setSelectedOptionByValue:h,isLargeScreen:M,flattenObject:j,promiseToDeferred:w}});
/*! pages/cop/common/date-utils.js*/
"use strict";dio.di.define("DateUtils",function(t,e){function a(t,e){for(var n=t,r="",a=0;0<n.length;){var i=n.match(/^\u0027[^\u0027]+\u0027/),o=n.match(/^[^A-z0-9']+/),u=n.match(/^[A-z]{1,4}/);if(i)r+=i[0].slice(1,-1),n=n.slice(i[0].length);else if(o)r+=o[0],n=n.slice(o[0].length);else{if(!u)throw new Error("invalid date format");r+=s[u[0]](e),n=n.slice(u[0].length)}if(10<a++)throw new Error("invalid date format")}return r}function n(t){var e=t.format,n=t.fallbackFormat,r=t.date;try{return a(e,r)}catch(t){try{return a(n,r)}catch(t){return r.toLocaleDateString()}}}function r(t,e){var n=new Date(t.getFullYear(),t.getMonth(),t.getDate()),r,a,i=(new Date(e.getFullYear(),e.getMonth(),e.getDate()).getTime()-n.getTime())/g;return Math.ceil(i)}function i(t,e,n){var r=new Date(parseInt(t,10),parseInt(e,10),parseInt(n,10));return!(Number.isNaN(r.getTime())||r.getMonth()!==parseInt(e,10))}var o=dio.getClientData("dateConfig")||{},u=o.monthNames,c=void 0===u?{}:u,l=o.shortMonthNames,f=void 0===l?{}:l,g=864e5,s={yy:function t(e){return(""+e.getFullYear()).slice(-2)},yyyy:function t(e){return""+e.getFullYear()},M:function t(e){return""+(e.getMonth()+1)},MM:function t(e){return("0"+(e.getMonth()+1)).slice(-2)},MMM:function t(e){return f[e.getMonth()]},MMMM:function t(e){return c[e.getMonth()]},d:function t(e){return""+e.getDate()},dd:function t(e){return("0"+e.getDate()).slice(-2)}};e.exports={formatDate:n,daysBetween:r,isValid:i}});
/*! pages/cop/common/templates/template-renderer.js*/
"use strict";dio.di.define("TemplateRenderer",function(e,t){function n(e){dio.widget.Tooltip(),dio.widget.PopOut(),e&&dio.widget.Toggle({cont:e})}function r(e){switch(o.numberOfColumns.get()){case 1:return e.main.getDOM();case 2:return e.aside.getDOM()}return null}function l(e){var t,n=void 0;return e.singleton&&e.singleton.get()&&(n=r(e)),n||(n=e.placeholder&&e.placeholder.getDOM()),n||e.getDOM()}function c(e){e.rebind(),e.hasWidgets&&n(e.getDOM()),o.externalLinks&&o.externalLinks.rebind(),e.ready&&e.ready.get().resolve(),e.rendered&&e.rendered.set(!0,!0)}function i(e,t,n,r){var i=n||l(e),o=r||e.templateName.get(),d=e.injectionType&&e.injectionType.get(),a=$.Deferred();return d||(d=e.isComponent?"insert":"replace"),i?t?a=dio.template.call(o,{data:t,placeholder:i,action:d}):(s(e,i),a.resolve()):a.resolve(),a.done(function(){return c(e)})}function s(e,t){var n=t||l(e);n&&n.empty()}var o=e("LiveState");t.exports={render:i,empty:s}});
/*! pages/cop/common/form/form-service.js*/
"use strict";dio.di.define("FormService",function(t,e){function i(t){t.getDOM().show(),tt.validateForm(t),tt.showAllValidationResults(t)}function a(t){t.getDOM().hide()}function r(t){tt.turnStressedStateOff(t),tt.hideAllValidationResults(t),o(t).forEach(j),tt.validateForm(t)}function n(t){tt.validateForm(t),tt.showAllValidationResults(t)}function o(t){return t.fields.getChildren()}function s(t){return t.getDOM()&&t.getDOM().is(":radio")}function l(t){return t.getDOM()&&t.getDOM().is(":checkbox")}function d(t){return t.getDOM()&&t.getDOM().is(":checkbox")&&t.getDOM().prop("checked")}function u(t){var e=[];return t.fields.forEach(function(t){t.validation&&e.push(t)}),e}function v(t){var r=[];return t.fields.forEach(function(t){if(t.validation){var e=t.validation.rules,i=t.getDOM()&&0<t.getDOM().filter(":visible").length,a=t.validation.isForcedToBeValidatedWhenInvisible;e&&(i||a)&&r.push(t)}}),r}function c(t){var e=t.validation.stateHolder.getDOM();e&&e.removeClass("state-valid state-error state-warning"),t.validation.stateIndicator.set(""),h(t,!1)}function f(t){var e=t.validation.stateHolder.getDOM();e&&e.removeClass("state-error state-warning").addClass("state-valid"),h(t,!1)}function g(t){var e=t.validation.stateHolder.getDOM();e&&e.removeClass("state-valid state-error").addClass("state-warning"),h(t,!1)}function m(t){var e=t.validation.stateHolder.getDOM();e&&e.removeClass("state-valid state-warning").addClass("state-error"),h(t,!0)}function M(t){return t.validation.stateIndicator?t.validation.stateIndicator.get():void 0}function h(t,e){var i=t&&t.getDOM(),a=t.validation.stateIndicator&&t.validation.stateIndicator.getDOM();i&&a&&(e?(i.attr("aria-invalid",!0),i.attr("aria-describedby",a.selector),a.attr("role","alert")):(i.removeAttr("aria-invalid"),i.removeAttr("aria-describedby"),a.removeAttr("role")))}function O(t,i,a){var r=this,n={validatedValue:i,valid:!0};if(t){var o=Q.validation.validators.get(),e=a.field.validation.allowLeadingAndTrailingSpaces;"string"!=typeof i||e&&e.get()||(i=$.trim(i)),t.get().every(function(t){var e={valid:!0};if(!o[t.name])throw new Error("Validator '"+t.name+"' is not defined");return e=o[t.name].call(r,i,t.parameter,a),$.extend(n,e),e.valid||(n.analyticsId=e.analyticsId||t.analyticsId,n.failingValidatorName=t.name,n.stressedStateOnly=!!t.stressedStateOnly,n.ignorable=!!t.ignorable),e.valid})}return n}function D(t){var e=void 0,i=void 0,a=t.field.validation.result.get(),r=!a,n=M(t.field),o=t.field.validation.stateIndicator.getDOM().selector,s=t.results[o],l=t.field.get();return r&&n?e={validatedValue:l,valid:!1,errorMessage:n}:a&&a.isServerError?e=a:s&&!s.valid?e=s:((e=O(t.field.validation.rules,l,t)).valid||(i=t.field.validation.messageKeyPrefix?t.field.validation.messageKeyPrefix.get():void 0,e.errorMessage=U.getMessage(e.errorMessage,i,e.errorMessageParams)),o&&(t.results[o]=e)),(r||a.errorMessage!==e.errorMessage||a.validatedValue!==e.validatedValue||a.failingValidatorName!==e.failingValidatorName)&&t.field.validation.result.set(e),e}function S(t){var e=!0,i=!1,a=void 0,r=v(t),n={results:{}};r.forEach(function(t){n.field=t,a=D(n),e=e&&(a.valid||a.ignorable),i=i||a.showAllResults}),t.validation.result.set({valid:e}),i&&y(t)}function b(t,e){var i=e.validation.result.get(),a=e.validation.stateIndicator&&e.validation.stateIndicator.getDOM(),r=e.validation.ignoreStressedState&&e.validation.ignoreStressedState.get();if(!a||!i)return c(e),void 0;(e.isDirty||e.value)&&!i.stressedStateOnly||k(t)||r?i.valid?(e.validation.stateIndicator.set(""),f(e)):(i.errorMessage?(e.validation.stateIndicator.set(i.errorMessage),i.ignorable?g(e):m(e)):c(e),Q.tracking.fieldValidationError.set(i)):(e.validation.stateIndicator.set(""),c(e))}function p(t,e){var i=t.submitButton&&t.submitButton.getDOM();if(i){var a=e.reduceRight(function(t,e){var i=e.validation.stateIndicator,a=i.getDOM(),r=i.get();return a&&r.length&&t.push(a.selector),t},[]);0<a.length?(i.attr("aria-invalid",!0),i.attr("aria-describedby",a.join(" "))):(i.removeAttr("aria-invalid"),i.removeAttr("aria-describedby"))}}function y(e){var t=v(e);t.forEach(function(t){b(e,t)}),p(e,t)}function I(t,e){D({results:{},field:e}),b(t,e)}function E(t){var e;v(t).forEach(c)}function F(t){var e=t.submitButton?t.submitButton.getDOM():void 0;e&&e.toggleClass(Y,!A(t))}function V(t){var e=t.submitButton?t.submitButton.getDOM():void 0;e&&(e.prop("disabled",!1),e.removeClass(Y))}function w(t){var e=t.submitButton?t.submitButton.getDOM():void 0;e&&(e.prop("disabled",!0),e.addClass(Y))}function C(t){t.validation.isInStressedState.set(!0)}function B(t){t.validation.isInStressedState.set(!1)}function k(t){return t.validation.isInStressedState.get()}function A(t){var e=t.validation.result.get();return!(!e||!e.valid)}function R(t){var e=t.submitButton.getDOM();t.fields&&t.fields.forEach(function(t){var e=t.getDOM();e&&e.prop("readonly",!0)}),e&&(e.addClass(Z),e.prop("disabled",!0)),t.isInProcessingState.set(!0)}function x(t){var e=t.submitButton.getDOM();t.fields&&t.fields.forEach(function(t){var e=t.getDOM(),i=t.isLocked&&t.isLocked.get()||!1;e&&!i&&e.prop("readonly",!1)}),e&&(e.removeClass(Z),e.prop("disabled",!1)),t.isInProcessingState.set(!1)}function H(t){return t.isInProcessingState.get()}function P(t,e,i){var a={valid:!1,isServerError:!0,validatedValue:e.get()};$.extend(a,i),e.validation.result.set(a),t.validation.result.set({valid:!1})}function N(t,e){var i=v(t);e.validation.result.set({valid:!0}),D({field:e,results:{}});var a=i.every(function(t){return t.validation.result.get().valid});t.validation.result.set({valid:a})}function L(r,t){var n=[],o=!1;return $.each(t,function(t,e){var i=e.key.replace(/_/g,"."),a=T(r,i);a?(tt.setServerError(r,a,{errorMessage:e.value,analyticsId:e.analyticsId}),o=!0):n.push(e)}),o&&tt.showAllValidationResults(r),!!n.length&&n}function T(t,i){return t.fields.getFirstMatchingNode(function(t){var e=t.getDOM();return e&&e.prop("name")===i})}function j(t){var e=t.validation&&t.validation.result.get();d(t)||(l(t)?t.set(void 0):s(t)||t.set("")),e&&(e.tracked=!0),t.isDirty=!1}function K(t,e){t.get()&&t.isDirty||(t.set(e),t.triggerDOMEvent("blur"),t.isDirty=!1)}function W(t,e){var i=t.validation.result,a;i&&i.value&&i.value.valid&&(e.get().length||e.set(t.get()))}function z(t,i,e){var a=e?'input[type="hidden"]':"input",r;t.getDOM().find(a).each(function(t,e){e.name&&(i[e.name]=e.value)})}function X(t){return u(t).some(function(t){return t.validation.result.get()&&t.validation.result.get().isServerError})}function _(t){t&&t.getDOM()&&t.validation&&t.validation.stateHolder&&t.validation.stateHolder.getDOM()&&(t.onDOMEvent("click",function(t){t.element.validation.stateHolder.getDOM().addClass("focused")}),t.onDOMEvent("blur",function(t){t.element.validation.stateHolder.getDOM().removeClass("focused")}))}function q(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{delimiters:[".",".","-"],blocks:[3,3,3,2]};if(t&&t.getDOM())return new Cleave(t.getDOM(),{delimiters:e.delimiters,blocks:e.blocks,uppercase:!0})}function G(t){if(t&&t.get()){var a=t.get().match(/(?:\d(?:[.-\s](?=\d))*){12,19}/g);return a?a.map(function(t){return t.replace(/\d[\s|.|-]+(?=\d{3})/g,function(t){return t.replace(/\D/g,"")}).replace(/.(?=.{4})/g,"X")}).reduce(function(t,e,i){return t.replace(a[i],e)},t.get()):t.get()}}function J(t){if(t){var e=dio.getObjectByName("validation.result",t),i=e&&e.get();return i?i.valid:null}return null}var Q=t("LiveState"),U=t("ErrorMessageService"),Y="cta-disabled",Z="cta-processing",tt={};e.exports={showForm:i,hideForm:a,resetForm:r,refreshForm:n,validateForm:S,validateFieldAndShowResult:I,hideFieldValidationResult:c,showAllValidationResults:y,hideAllValidationResults:E,updateSubmitButton:F,enableSubmitButton:V,disableSubmitButton:w,turnStressedStateOn:C,turnStressedStateOff:B,isInStressedState:k,isFormValid:A,turnProcessingStateOn:R,turnProcessingStateOff:x,isInProcessingState:H,setServerError:P,resetServerError:N,resetField:j,injectValueIntoBlankOrNotDirtyField:K,serializeDOM:z,handleServerFieldErrors:L,hasServerSideError:X,copyIntoEmptyField:W,showHelperText:_,attachCpfFormattingToField:q,getVisibleFormFieldsWithValidationRules:v,maskify:G,isFieldValid:J},tt=e.exports});
/*! pages/cop/common/form/common-form-controller.js*/
"use strict";dio.di.define("CommonFormController",function(t,e){function n(t){return!!t.validation&&!!t.validation.rules}function i(t){return t.getDOM()&&t.getDOM().is("select")}function r(t){return t.getDOM()&&t.getDOM().is(":checkbox")}function a(t,e){var n=e.validation.result;n&&n.get()&&n.get().isServerError&&c.resetServerError(t,e)}function o(t){var e=t.subscriptionElement.parent,n=t.element;c.hideFieldValidationResult(n),a(e,n),c.validateForm(e),n.isDirty=!0,(i(n)||r(n))&&m(e)}function s(t){var e=t.subscriptionElement.parent,n=t.element;a(e,n),n.isDirty=!0,m(e)}function l(t){c.turnStressedStateOn(t.element),c.showAllValidationResults(t.element)}function u(t){var e=t.subscriptionElement.parent.parent;e.validation.isSubmitButtonAlwaysEnabled&&e.validation.isSubmitButtonAlwaysEnabled.get()||c.updateSubmitButton(e)}function d(t){var e=t.subscriptionElement.parent.parent;e.validation.hasServerSideError.set(c.hasServerSideError(e))}function v(t){t.fields.onChange(o,"descendants",n),t.fields.onDOMEvent("blur",s,"descendants",n),t.onDOMEvent("submit",l),t.validation.result.onChange(u),c.validateForm(t),t.validation.hasServerSideError&&t.validation.result.onChange(d),t.validation.isSubmitButtonAlwaysEnabled&&t.validation.isSubmitButtonAlwaysEnabled.get()||c.updateSubmitButton(t)}var c=t("FormService"),m=dio.debounce(c.showAllValidationResults,100);e.exports={registerForm:v}});
/*! pages/cop/common/form/error-message-service.js*/
"use strict";dio.di.define("ErrorMessageService",function(e,t){function o(e,t){return dio.getClientData("specificValidatorMessages."+t+"-"+e)}function s(e){return dio.getClientData("generalValidatorMessages."+e)}function c(e,t){return t?dio.i18n.apply(null,[e].concat(t)):e}function n(e,t,n){var i,r,a;return a=o(e,t),r=s(e),i=a?c(a,n):r?c(r,n):e}t.exports={getMessage:n}});
/*! pages/cop/common/form/validators/common-validators.js*/
"use strict";dio.di.define("CommonValidators",function(e){var n=e("LiveState"),r=n.validation.validators.get();r.required=function(e){var r={valid:!0};return r.valid=!!e,r.valid||(r.errorMessage="required"),r},r.conditionallyRequired=function(e,r){var a={valid:!0},i;return dio.getObjectByName(r,n).get()?0:(a.valid=!!e,a.valid||(a.errorMessage="required")),a},r.minLength=function(e,r){var a={},i=e.length;return a.valid=0===i||r<=i,a.valid||(a.errorMessage="minLength",a.errorMessageParams=[r]),a},r.maxLength=function(e,r){var a={},i=e.length;return a.valid=i<=r,a.valid||(a.errorMessage="maxLength",a.errorMessageParams=[r]),a},r.maxValue=function(e,r){var a={};return a.valid=e<=r,a.errorMessage=a.valid?void 0:"maxValue",a}});
/*! pages/cop/common/form/validators/email-validator.js*/
"use strict";dio.di.define("EmailValidator",function(n){function t(n){var t=/^[a-zA-Z0-9@\+\_\.\-]*$/,a={};return a.valid=t.test(n),a.valid||(a.errorMessage="rfc822"),a}function a(n){var t={};return t.valid=n.indexOf(" ")<=0,t.valid||(t.errorMessage="containsSpace"),t}function i(n){var t={};return t.valid=0===n.length||0<=n.indexOf("@"),t.valid||(t.errorMessage="noAtSignFound"),t}function r(n){var t={};return t.valid=!(0===n.indexOf("@")),t.valid||(t.errorMessage="startsWithAtSign"),t}function e(n){var t={};return t.valid=0!==n.indexOf("."),t.valid||(t.errorMessage="startsWithFullStop"),t}function o(n){var t={},a=n.match(/@/g);return t.valid=0===n.length||!(!a||1!==a.length),t.valid||(t.errorMessage="containsMoreAtSign"),t}function s(n){var t={};return t.valid=0===n.length||-1===n.indexOf(".."),t.valid||(t.errorMessage="containsConsecutiveFullStops"),t}function l(n){var t={};return t.valid=-1===n.indexOf(".@"),t.valid||(t.errorMessage="containsFullStopBeforeAt"),t}function d(n){var t=g(n),a={};return a.valid=0===n.length||!!(t&&2<=t.length),a.valid||(a.errorMessage="domainShort"),a}function v(n){var t=g(n),a={};return a.valid=!t||t&&0!==t.indexOf("."),a.valid||(a.errorMessage="domainStartsWithFullStop"),a}function u(n){var t=g(n),a={};return a.valid=!t||t&&-1===t.indexOf("_"),a.valid||(a.errorMessage="domainContainsInvalidChars"),a}function c(n){var t=g(n),a=/\.[a-zA-Z]{2,6}$/,i={};return i.valid=0===n.length||a.test(t),i.valid||(i.errorMessage="invalidTLD"),i}function g(n){var t,a=n&&/([^@]+)@(.*)/.exec(n);return a?a[2]:null}var f,h=n("LiveState").validation.validators.get();h.containsOnlyEanCompliantCharacters=t,h.containsNoSpaces=a,h.containsAtSign=i,h.startsWithNoAtSign=r,h.startsWithNoDot=e,h.containsOnlyOneAtSign=o,h.containsNoConsecutiveDots=s,h.containsNoDotBeforeAtSign=l,h.hasDomainAndItIsLongEnough=d,h.domainStartsWithNoDot=v,h.domainContainsNoUnderscore=u,h.isTopLevelDomainValid=c});
/*! pages/cop/common/form/validators/character-validators.js*/
"use strict";dio.di.define("CharacterValidators",function(n){function e(n,t,a){return{valid:n,errorMessage:n?void 0:t,errorMessageParams:n?void 0:a}}var t,a=n("LiveState").validation.validators.get(),i=/^[\x00-\xff]*$/,r,s="A-Za-zªµºÀ-ÖØ-öø-ÿЀ-ӿԀ-ԯ",o=new RegExp("^["+"A-Za-zªµºÀ-ÖØ-öø-ÿ"+"_\\-\\.\\(\\)' ]*$"),c=new RegExp("^["+s+"_\\-\\.\\(\\)' ]*$"),u=/[0-9]/g,l=/[A-Za-z]/g,h=/^[0-9]*$/,C=/^[a-zA-Z0-9\uFF65-\uFFDC_\-]*$/,f=/^[0-9`~!@#$%^&*()_+-=\[\]\{\};'\\:\"|,.\/ <>\?]*$/,p=/^[a-zA-Z0-9]*$/,d=/^[a-zA-Z0-9 ]*$/,v=/^[0-9\- ]*$/,m=/^[0-9]+\.?[0-9]*$/,y=/[^a-zA-Z0-9!@#$%^()&*]+/,A=/[\§\"\+\!\%\/\=\~\ˇ\^\˘\°\˛\`\˙\´\˝\¨\¸\:\?\\\|\€\÷\×\¤\Đ\đ\[\]\ł\Ł\$\ß\>\#\&\@\{\}\<\;\>\*]/,g=/^[\x00-\x7f]*$/;a.invalidTextInputChars=function(n){return e(!A.test(n),"invalidTextInputChars")},a.minDigitCount=function(n,t){var a=n.match(u),i=a?a.length:0;return e(!n.length||t<=i,"minDigitCount",[t])},a.minLetterCount=function(n,t){var a=n.match(l),i=a?a.length:0;return e(!n||t<=i,"minLetterCount",[t])},a.invalidCharsInventory=function(n){return e(!!n.match(o),"invalidCharsInventory")},a.containsOnlyNumbers=function(n){return e(!!n.match(h),"containsOnlyNumbers")},a.containsOnly4TravelCompliantChars=function(n){return e(C.test(n),"containsOnly4TravelCompliantChars")},a.containsValidCyrillicFullName=function(n){return e(c.test(n),"containsValidCyrillicFullName")},a.containsNoAlphaCharacters=function(n){return e(f.test(n),"containsAlphaChars")},a.containsAtLeastTwoDistinctChars=function(n){var t=n.replace(/[\D]+/g,""),a={},i=0,r;return e(!n.length||t.split("").some(function(n){return n in a||(a[n]=!0,i++),2<=i}),"containsAtLeastTwoDistinctChars")},a.containsNoCountryCode=function(n){var t;return e(!/^(\+|00)/.test(n),"containsNoCountryCode")},a.containsOnlyLatin1Chars=function(n){return e(i.test(n),"containsOnlyLatin1Chars")},a.containsOnlyAsciiChars=function(n){return e(g.test(n),"containsOnlyAsciiChars")},a.containsOnlyDigitsHyphensAndSpaces=function(n){return e(v.test(n),"containsOnlyDigitsHyphensAndSpaces")},a.alphaNumeric=function(n){return e(p.test(n),"alphaNumeric")},a.alphaNumericWithSpace=function(n){return e(d.test(n),"alphaNumericWithSpace")},a.priceValue=function(n){return e(!n||m.test(n)&&.01<=parseFloat(n),"priceValue")},a.invalidCharsAccount=function(n){return e(!y.test(n),"invalidCharsAccount")}});
/*! pages/cop/common/form/validators/checksum-validators.js*/
"use strict";dio.di.define("ChecksumValidators",function(s){function v(s){return s.replace(/\D/g,"")}function r(s,r,i){var e={};return e.valid=""===i||s.test(i),e.valid||(e.errorMessage=r),e}function d(s){var r=v(s),i=0,e=void 0,a=void 0,t=void 0;for(a=r.length-1,t=0;0<=a;a--,t++)9<(e=r.charAt(a)*(t%2+1))&&(e-=9),i+=e;return i%10}function t(s){var r=o.indexOf(s);return-1===r?+s:1+(r>>2)}function i(s){var r;if(!/^0(?!0{9})\d{10}$/.test(s))return!1;var i=s.split("").map(Number),e=(5*i[0]+4*i[1]+3*i[2]+2*i[3]+7*i[4]+6*i[5]+5*i[6]+4*i[7]+3*i[8]+2*i[9])%11,a;return(0!==e?(11-e)%10:0)===i[10]}function e(s){var r;if(!/^[A-Z0-9][A-Z0-9][A-Z0-9]\d{5}$/i.test(s))return!1;var i=s.toUpperCase().split("").map(t),e,a=(10-(Math.floor(i[0]/5)+2*i[0]%10+i[1]+Math.floor(i[2]/5)+2*i[2]%10+i[3]+Math.floor(i[4]/5)+2*i[4]%10+i[5]+Math.floor(i[6]/5)+2*i[6]%10)%10)%10;return a===i[7]||(10===++a&&(a=1),a===i[7])}function a(s){var r=s.split("").map(Number),i=r.length,e=r.slice(0,i-1),a=r[i-1],t=void 0,n,u;return 10!==(t=11-e.reverse().reduce(function(s,r,i){return s+r*(i+2)},0)%11)&&11!==t||(t=0),t===a}function n(s){var r=parseInt(s.slice(-1),10)||0,i=0,e=void 0,a=void 0;for(a=0;a<s.length-1;a++)i+=parseInt(s.charAt(a));return 4===(e=i%7)&&(e=8),e===r}var u,l=s("LiveState").validation.validators.get(),o="AJ  BKS CLT DMU ENV FOW GPX HQY IRZ";l.isPassingANAChecksum=function(s){var r={};return s?(r.valid=parseInt(s.charAt(9),10)===s.substr(0,9)%7+1,r.valid||(r.errorMessage="isPassingANAChecksum"),r):{valid:!0}},l.luhnCheck=function(s){var r={};return r.valid=0===d(s),r.valid||(r.errorMessage="luhnCheck"),r},l.isPassingASIAChecksum=function(s){var r={},i=v(s),e=0,a=void 0;if(!s)return{valid:!0};for(a=0;a<i.length-1;a++)e+=(parseInt(i.charAt(a),10)||0)*(a+1);var t=e%10,n=0<(parseInt(i.charAt(0),10)||0);return r.valid=n&&(parseInt(i.charAt(i.length-1),10)||0)===t,r.valid||(r.errorMessage="isPassingASIAChecksum"),r},l.isPassingKOREANChecksum=function(s){var r={},i=v(s),e=i.length,a=0,t=void 0,n=void 0,u=void 0;if(!s)return{valid:!0};if(/^\d{12}$/.test(s)){for(n=0,u=2;n<e-1;n++,u++)9<u&&(u=2),a+=(parseInt(i.charAt(n),10)||0)*u;t=a%10}var l=parseInt(i.charAt(e-1),10)||0;return r.valid=l===t,r.valid||(r.errorMessage="isPassingKOREANChecksum"),r},l.isPassingPhoenixMilesChecksum=function(s){var r={},i=v(s),e=0,a=void 0,t=void 0,n=void 0,u=void 0;return s?(/^CA\d{9}$/.test(s)?(a=i.slice(0,-1),e=parseInt(a,10)%7,n=parseInt(i.slice(-1),10),r.valid=n===e):/^CA\d{12}$/.test(s)?(t=i.substring(0,2)+i.substring(3),4===(e=parseInt(t,10)%7)&&(e=8),u=parseInt(i.charAt(2),10),r.valid=u===e):r.valid=!1,r.valid||(r.errorMessage="isPassingPhoenixMilesChecksum"),r):{valid:!0}},l.isPassingMyerOneChecksum=function(s){var r={},i=v(s),e=i.length,a=0,t=0,n=0,u=0,l=void 0,o=void 0;if(!s)return{valid:!0};if(/^6278041\d{9}$/.test(s)){for(o=1;o<e-1;o+=2)a+=parseInt(i.charAt(o),10)||0;for(o=0;o<e-1;o+=2)9<(t=2*(parseInt(i.charAt(o),10)||0))&&(t=t%10+(t-t%10)/10),n+=t}else if(/^2781\d{9}$/.test(s)){for(o=1;o<e-1;o+=2)a+=parseInt(i.charAt(o),10)||0;for(a*=3,o=0;o<e-1;o+=2)n+=parseInt(i.charAt(o),10)||0}else r.valid=!1;return 0<a&&0<n&&(u=10===(u=10-(a+n)%10)?0:u,l=parseInt(i.slice(-1),10),r.valid=l===u),r.valid||(r.errorMessage="isPassingMyerOneChecksum"),r},l.isPassingCPFChecksum=function(s){var r={},i=v(s),e=[0,0],a=void 0;if(!s)return{valid:!0};for(a=9;0<a;a--)e[0]+=a*parseInt(i.charAt(a-1),10);for(a=8;0<a;a--)e[1]+=a*parseInt(i.charAt(a),10);return e[0]=e[0]%11%10,e[1]+=9*e[0],e[1]=e[1]%11%10,r.valid=e[0]===parseInt(i.charAt(9),10)&&e[1]===parseInt(i.charAt(10),10)&&!/^([0-9])\1*$/.test(i),r.valid||(r.errorMessage="isPassingCPFChecksum"),r},l.isPassingPANChecksum=function(s){var r={},i=/[A-Z]{3}[ABCFGHJLPT]{1}[A-Z]{1}[0-9]{4}[A-Z]{1}/;return s?(r.valid=i.test(s.toUpperCase()),r.valid||(r.errorMessage="isPassingPANChecksum"),r):{valid:!0}},l.isPassingMileagePlusChecksum=function(s){var r={};return s?(r.valid=i(s)||e(s),r.valid||(r.errorMessage="isPassingMileagePlusChecksum"),r):{valid:!0}},l.isPassingCEAChecksum=function(s){var r={},i,e=void 0,a=void 0;return s?(/^6[0-6]\d{10}$/.test(s)?(a=parseInt(s.charAt(1),10),e="60"+s.substr(2),r.valid=parseInt(e,10)%7===a):r.valid=!1,r.valid||(r.errorMessage="isPassingCEAChecksum"),r):{valid:!0}},l.isChinaRewardsFormat=r.bind(null,/^1\d{10}$/,"isChinaRewardsFormat"),l.isHappyGoFormat=r.bind(null,/^[A-Z][1-2]\d{8}$/,"isHappyGoFormat"),l.isFETFormat=r.bind(null,/^09\d{8}$/,"isFETFormat"),l.isPassingAeroplanChecksum=function(s){var r={},i=/^[13579]\d{8}$/,e=s.substr(0,8).split("").reverse().join(""),a=void 0;return s?(i.test(s)?(a=(10-d(e))%10,r.valid=+s.charAt(8)===a):r.valid=!1,r.valid||(r.errorMessage="isPassingAeroplanChecksum"),r):{valid:!0}},l.isPassingCashPointsChecksum=function(s){var r={},i=/^\d{8}(\d{2})?$/,e=s.substr(0,s.length-1),a=+s.slice(-1),t=void 0;return s?(i.test(s)?(t=(10-d(e))%10,r.valid=a===t):r.valid=!1,r.valid||(r.errorMessage="isPassingCashPointsChecksum"),r):{valid:!0}},l.isAviosFormat=function(s){var r=/^308147\d{10}$/,i=/^\d{8}$/,e={};return s?16===s.length?e.valid=r.test(s)&&0===d(s):8===s.length?e.valid=i.test(s):e.valid=!1:e.valid=!0,e.valid||(e.errorMessage="isAviosFormat"),e},l.isLifestylesRewardFormat=r.bind(null,/^[a-zA-Z0-9@\.\-\_]*$/,"isLifestylesRewardFormat"),l.isPassingLifeMilesChecksum=function(s){var r={},i=/^\d{2,11}$/,e=s.length,a=parseInt(s.substr(0,e-1)),t=void 0;return s?(i.test(s)?(t=a%7,r.valid=+s.charAt(e-1)===t):r.valid=!1,r.valid||(r.errorMessage="isPassingLifeMilesChecksum"),r):{valid:!0}},l.isPassingMultiplusChecksum=function(s){var r={};return 11!==s.length||+s%11111111111==0?(r.valid=!1,r.errorMessage="isPassingMultiplusChecksum"):(r.valid=a(s.substr(0,10))&&a(s),r.valid||(r.errorMessage="isPassingMultiplusChecksum")),r},l.isPassingLiveloChecksum=function(s){var r={};return 11!==s.length||+s%11111111111==0?(r.valid=!1,r.errorMessage="isPassingLiveloChecksum"):(r.valid=a(s.substr(0,10))&&a(s),r.valid||(r.errorMessage="isPassingLiveloChecksum")),r},l.isPassingFortuneWingsClubChecksum=function(s){var r={};return""===s?{valid:!0}:(r.valid=/^((1|2|3|5)\d{9}|(66|88)\d{8})$/.test(s),/(^7|^9)\d{9}/.test(s)&&(r.valid=n(s)),r.valid||(r.errorMessage="isPassingFortuneWingsClubChecksum"),r)},l.isPassingRewardUChecksum=function(s){var r={},i=/^82\d{6}8\d$/;return r.valid=""===s||i.test(s),r.valid||(r.errorMessage="isPassingRewardUChecksum"),r},l.isAirEuropaFormat=r.bind(null,/^91[0-9]{8}$/,"isAirEuropaFormat"),l.isPegasusFormat=r.bind(null,/^\+?[0-9]*$/,"isPegasusFormat"),l.isCarrefourFormat=function(s){var r=s.split("");r[2]="0",r[r.length-1]="0";var i,e=d(r.slice(0,r.length-1).join(""));0<e&&(e=10-e),0<e%2&&(e=Number("1"+(e-1))),e/=2,r[2]=e;for(var a=0,t=0,n=0,u=0;u<s.length;u++){var l=+r[u];u%2?t+=l:n+=l}0<(a=((t*=3)+n)%10)&&(a=10-a);var o={};return o.valid="27"===s.substr(0,2)&&+s.substr(2,1)===e&&+s.substr(12,1)===a,o.valid||(o.errorMessage="isCarrefourFormat"),o},l.isTapAirlinesFormat=function(s){if(!/^[A-Z]{2}\d{9}$/.test(s.trim()))return{valid:!1,errorMessage:"isTapAirlinesFormat"};var r=+s.substr(-1,1),i,e=+s.substr(2,8)%7,a={};return a.valid=e===r,a.valid||(a.errorMessage="isTapAirlinesFormat"),a},l.isCpfFormat=function(s){var r={valid:!1,errorMessage:"isCpfFormat"};if("00000000000"===s||"11111111111"===s||"22222222222"===s||"33333333333"===s||"44444444444"===s||"55555555555"===s||"66666666666"===s||"77777777777"===s||"88888888888"===s||"99999999999"===s)return r;for(var i=+s.substring(9,10),e=+s.substring(10,11),a=0,t=0,n=function s(r,i){var e=r%11;return e<2?0===i:11-e===i},u=1;u<=9;u++)a+=+s.substring(u-1,u)*(11-u);if(n(a,i)){for(var l=1;l<=10;l++)t+=+s.substring(l-1,l)*(12-l);if(n(t,e))return{valid:!0}}return r},l.isAsianaAirlinesFormat=r.bind(null,/[0-9]{9}/,"isAsianaAirlinesFormat")});
/*! pages/cop/common/form/validators/payment-validators.js*/
"use strict";dio.di.define("PaymentValidators",function(e){var t=e("LiveState"),o=e("PaymentService"),C=t.bookingForm.fields.paymentDetails,a=t.validation.validators.get();a.securityCodeRequired=function(e){var r=a.required(e),i=void 0;return r.valid||(i=C.CREDITCARD.selectedCreditCard.get(),r.errorMessage=i.securityCode.required.errorMessage),r},a.securityCodeLength=function(e){var r={valid:!0},i=e.length,a,t=C.CREDITCARD.selectedCreditCard.get().securityCode,n=t.minLength.limit,s=t.maxLength.limit,d=t.maxLength.errorMessage,o=t.maxLength.analyticsId;return r.valid=0===i||!n||!s||n<=i&&i<=s,r.valid||(r.errorMessage=d,r.analyticsId=o),r},a.securityCodeContainsOnlyNumbers=function(e){var r=a.containsOnlyNumbers(e),i=void 0;return r.valid||(i=C.CREDITCARD.selectedCreditCard.get(),r.errorMessage=i.securityCode.containsOnlyDigits.errorMessage),r},a.creditCardTypeIsSet=function(){var e={},r=C.CREDITCARD.binService.binResponseDeferredObj,i=r.get()&&"pending"===r.get().state();return e.valid=i||!!C.CREDITCARD.creditCardType.get(),e.valid||(e.errorMessage="creditCardTypeIsSet"),e},a.creditCardNumberLengthCheck=function(e){var r={},i=C.CREDITCARD.binService.paymentIdentifier.get(),a=o.getCreditCardConfigById(i)||{},t=a.isCreditCardLengthValidationEnabled,n=C.CREDITCARD.binService.binResponseDeferredObj,s=n.get()&&"resolved"===n.get().state(),d=void 0;return e&&t?(d=s&&i?o.isCreditCardNumberMatchingBrandSpecificAllowedLengths(a,e):o.isCreditCardNumberMatchingConfiguration(a,e),r.valid=d.hasMatchingLength):r.valid=!0,r.valid||(r.errorMessage=a.cardNumber.length.errorMessage,r.analyticsId=a.cardNumber.length.analyticsId),r},a.creditCardNumberPrefixCheck=function(e){var r={},i=C.CREDITCARD.binService.binResponseDeferredObj,a=i.get()&&"resolved"===i.get().state(),t=C.CREDITCARD.binService.paymentIdentifier.get(),n=o.getCreditCardConfigById(t)||{},s=n.cardNumber&&n.cardNumber.prefix,d=void 0;return e&&(a&&t?r.valid=!0:(d=o.isCreditCardPrefixMatchingConfiguration(n,e),r.valid=d.hasMatchingPrefix)),r.valid||(r.errorMessage=s?s.errorMessage:"creditCardNumberPrefixCheck"),r},a.creditCardIsNotExpired=function(){var e={valid:!0},r=C.CREDITCARD,i=r.selectedCreditCard.get(),a=parseInt(i.expiryDate.minimumExpiryDate.limit.substring(2),10),t=parseInt(i.expiryDate.maximumExpiryDate.limit.substring(2),10),n=r.expiryDate.expiryYear.get(),s=r.expiryDate.expiryMonth.get(),d=parseInt(n,10),o=parseInt(s,10),l=100*d+o;return""===n||""===s?0:isNaN(d)||isNaN(o)||12<o||o<1?(e.valid=!1,e.errorMessage=i.expiryDate.maximumExpiryDate.errorMessage):(e.valid=0<d&&a<=l&&l<=t,e.valid||(e.errorMessage=t<l?i.expiryDate.maximumExpiryDate.errorMessage:i.expiryDate.minimumExpiryDate.errorMessage)),e},a.expiryDateIsValid=function(){var e={valid:!0},r=C.CREDITCARD.expiryDate,i=C.CREDITCARD.selectedCreditCard.get(),a=parseInt(i.expiryDate.minimumExpiryDate.limit.substring(2),10),t=parseInt(i.expiryDate.maximumExpiryDate.limit.substring(2),10),n=r.expiryYear.get(),s=r.expiryMonth.get(),d,o,l=100*parseInt(n,10)+parseInt(s,10),g="expiryDateIsValid";return""===n||n.length<2||""===s||s.length<2?0:l.length<4?(e.errorMessage=g,e.valid=!1):(e.valid=a<=l&&l<=t,e.valid||(e.errorMessage=t<l?g:i.expiryDate.minimumExpiryDate.errorMessage)),e},a.expiryYearIsValid=function(){var e={valid:!0},r,i=C.CREDITCARD.expiryDate.expiryYear.get();return""===i?0:(isNaN(i)||2!==i.length)&&(e.errorMessage="expiryYearIsValid",e.valid=!1),e},a.expiryMonthIsValid=function(){var e={valid:!0},r,i=C.CREDITCARD.expiryDate.expiryMonth.get();return""===i?0:(isNaN(i)||i<1||12<i)&&(e.errorMessage="expiryMonthIsValid",e.valid=!1),e},a.expiryDateIsEntirelyFilled=function(){var e={valid:!0},r=C.CREDITCARD.expiryDate,i=r.expiryMonth.get(),a=r.expiryYear.get();return""===i&&""===a&&(e.valid=!1),e},a.savedCardIsNotAcceptable=function(){var e={},r=C.CREDITCARD.selectedSavedCard.get();return e.valid=!r||r.acceptable,e.valid||(e.errorMessage="savedCardIsNotAcceptable"),e},a.isGiftCardChecked=function(){var e={},r=t.giftCard.balance.get();return e.valid=!$.isEmptyObject(r),e.valid||(e.errorMessage="isGiftCardChecked"),e},a.isGiftCardApplied=function(){var e={},r=t.giftCard.applied.get();return e.valid=!$.isEmptyObject(r),e.valid||(e.errorMessage="isGiftCardApplied"),e},a.isGoogleWalletAuthorized=function(){var e={valid:!!C.GOOGLEWALLET.maskedWalletJwt.get()};return e.valid||(e.errorMessage="isGoogleWalletAuthorized"),e},a.isPointsUserLoggedIn=function(){var e={valid:!!C.POINTS.configuration.get().isPointsUserLoggedIn};return e.valid||(e.errorMessage="isPointsUserLoggedIn"),e},a.isPointsBalanceSufficient=function(){var e;return{valid:!!C.POINTS.configuration.get().isPointsBalanceSufficient}},a.isKlarnaInErrorState=function(e,r){var i,a={valid:!t.bookingForm.fields.paymentDetails[r].klarnaError.inErrorState.get()};return a.valid||(a.errorMessage="isKlarnaInErrorState"),a}});
/*! pages/cop/common/form/validators/live-state-validators.js*/
"use strict";dio.di.define("LiveStateValidators",function(e){function r(e){if(e.firstName.get()&&e.lastName.get())return e.firstName.get()+" "+e.lastName.get()}function i(){var e=[],i={};return u.bookingForm.fields.roomDetails.getChildren().forEach(function(t){var a=r(t.mainGuest);a&&(e.forEach(function(e){e.name===a&&(i[e.room]=!0,i[t]=!0)}),e.push({name:a,room:t}))}),i}function n(o){var e=u.validation.roomDetailsUniqueNameCache.get(),d=$.extend(!0,e.last,e.actual),s={values:{},valid:$.isEmptyObject(o)},l={};u.bookingForm.fields.roomDetails.getChildren().forEach(function(n){[n.mainGuest.firstName,n.mainGuest.lastName].forEach(function(e){var t={valid:!0},a=e===n.mainGuest.lastName,i=d.values[e],r=e.get();s.values[e]=r,(i&&r!==i||!i&&r)&&(s.changedField=e),o[n]&&(!d.valid&&a||d.valid&&s.changedField===e)&&(t={valid:!1,errorMessage:"roomDetailsUniqueName"}),s.valid||d.valid||d.changedField!==e||a||(t.showAllResults=!0),l[e]=t})}),u.validation.roomDetailsUniqueNameCache.set({actual:s,last:d,results:l})}var u=e("LiveState"),a=u.validation.validators.get(),o=/^[0-9]{5}-?[0-9]{0,4}$/,d=/^[\d\/\\ ()-]+$/,s={US:/^\d{5}(-\d{4})?$/,CA:/^[ABCEGHJKLMNPRSTVXY]\d[ABCEGHJKLMNPRSTVWXYZ]( )?\d[ABCEGHJKLMNPRSTVWXYZ]\d$/i,GB:/^([A-PR-UWYZ0-9][A-HK-Y0-9][AEFGHJKMNPRSTUVXY0-9]?[ABEFGHJKMNPRSTUVWXY0-9]? {1,2}[0-9][ABDEFGHJLNOPQRSTUWXYZ]{2}|GIR 0AA)$/i,NL:/^[1-9][0-9]{3} ?(?!sa|sd|ss)[a-z]{2}$/i,AU:/^\d{4}$/,BR:/^\d{5}-\d{3}$/,FR:/^(F-)?((2[A|B])|\d{2})\d{3}$/i,GR:/^\d{3}[ ]?\d{2}$/,PL:/^\d{2}-\d{3}$/,DE:/^\d{5}$/,ES:/^([1-9]{2}|\d[1-9]|[1-9]\d)\d{3}$/,IT:/^(V-|I-)?\d{5}$/i,DK:/^([D|d][K|k]( |-))?[1-9]{1}\d{3}$/,SE:/^(s-|S-){0,1}[1-9]{1}\d{2}\s?\d{2}$/,PT:/^\d{4}([\-]\d{3})?$/,TR:/^\d{5}$/,AT:/^\d{4}$/,NO:/^\d{4}$/,AR:/^([A-HJ-NP-Z])?\d{4}([A-Z]{3})?$/i,JP:/^\d{3}\-\d{4}$/};a.equalsTo=function(e,t){var a={},i=dio.getObjectByName(t,u);if(!i)throw new Error("LiveState node with path "+t+" not found!");return a.valid=e===i.get(),a.valid||(a.errorMessage="equalsTo"),a},a.roomDetailsUniqueName=function(e,t,a){return a.roomDetailsUniqueNameCalled||(n(i()),a.roomDetailsUniqueNameCalled=!0),u.validation.roomDetailsUniqueNameCache.get().results[a.field]},a.conditionalRequired=function(e,t){var a=dio.getObjectByName(t,u),i={valid:!0};if(!a)throw new Error("LiveState node with path "+t+" not found!");var r=a.get();return i.valid=!r||!!e,i.valid||(i.errorMessage="conditionalRequired"),i},a.postCodeMinLength=function(e,t){var a={},i=e.length,r,n="US"===dio.getObjectByName(t,u).get(),o=n?5:4,d=n?"USPostCodeMinLength":"nonUSPostCodeMinLength";return a.valid=0===i||o<=i,a.valid||(a.errorMessage=d),a},a.postCodeValid=function(e,t){var a=dio.getObjectByName(t,u).get(),i={},r=/([a-zA-Z0-9\u00C0-\u00FF',_\-\.]+\s*)+$/,n=s[a]||r;return i.valid=!e||n.test(e),i.valid||(i.errorMessage="postCodeValid"),i},a.containsValidZipCodeForUS=function(e,t){var a={},i=dio.getObjectByName(t,u).get();return a.valid=!e||"US"!==i||o.test(e),a.valid||(a.errorMessage="containsValidZipCodeForUS"),a},a.containsValidZipCodeForJP=function(e,t){var a={},i=dio.getObjectByName(t,u).get();return a.valid=!e||"JP"!==i||s.JP.test(e),a.valid||(a.errorMessage="containsValidZipCodeForJP"),a},a.minLengthPhoneNumber=function(){var e={},t=u.bookingForm.fields.contactDetails.phone.get(),a=t&&t.replace(/[\D]+/g,"")||"",i,r,n="US"===(u.bookingForm.fields.contactDetails.phoneCountryCode.get()||u.bookingForm.fields.billingDetails.country.get()).toUpperCase()?7:5;return a.length>=n?e.valid=!0:(e.valid=!1,e.errorMessage="minLengthPhoneDefault"),e},a.phoneNumberContainsValidCharactersOnly=function(e){var t={valid:d.test(e)};return t.valid||(t.errorMessage="phoneNumberContainsValidCharactersOnly"),t},a.phoneNumberContainsAtLeastTwoDistinctChars=function(){var e=u.bookingForm.fields.contactDetails.phone.get().replace(/[\D]+/g,""),t=u.bookingForm.fields.contactDetails.phoneCountryCode.selectedCountryCodeNumber.get();return t?a.containsAtLeastTwoDistinctChars(e+t):a.containsAtLeastTwoDistinctChars(e)},a.minLengthSmsMobileNumber=function(e,t){var a=e.replace(/[\D]+/g,""),i={},r=dio.getObjectByName(t,u);if(!r)throw new Error("LiveState node with path "+t+" not found!");var n=r.get(),o="US"===n?9:5;return a="US"===n||"CA"===n?a.replace(/^1(.*)/,"$1"):a.replace(/^0(.*)/,"$1"),!e||a.length>=o?i.valid=!0:(i.valid=!1,i.errorMessage="minLengthSmsNumber"),i},a.isEuroBonusFormat=function(e){var t={};return!e||/[A-Z]{3}[0-9]{9}/i.test(e)?t.valid=!0:(t.valid=!1,t.errorMessage="isEuroBonusFormat"),t},a.requiredState=function(e,t){var a={},i=dio.getObjectByName(t.nodePath,u),r=i.get(),n=i.selectedCountryConfiguration.get();if(t.countriesRequiresState){var o=-1<t.countriesRequiresState.indexOf(r);a.valid=!o||o&&!!e}else{var d=n.hasState;a.valid=!d||d&&!!e}return a.valid||(a.errorMessage="US"===r?"required":"provinceRequired"),!a.valid&&t.useCommonErrorMessage&&(a.errorMessage=n.stateListOptions&&n.stateListOptions.length?"selectRequired":"defaultRequired"),a},a.minLengthState=function(e,t){var a={valid:!0},i=dio.getObjectByName(t.nodePath,u).get();return!e.length||"JP"!==i&&"UK"!==i||(a.valid=e.length>=t.minLength),a.valid||(a.errorMessage="minLength",a.errorMessageParams=[t.minLength]),a},a.maxLengthState=function(e,t){var a={valid:!0},i,r=dio.getObjectByName(t.nodePath,u).get(),n=e.length;if("JP"!==r&&"UK"!==r||(a.valid=n<=t.maxLength),!a.valid){var o="UK"===r?"countyMaxLength":"prefectureMaxLength";a.errorMessage=t.useCommonErrorMessage?"maxLength":o,a.errorMessageParams=[t.maxLength]}return a},a.travelerIdValid=function(e){var t={valid:!0};if(e.length){var a=/^(\d{8})([a-zA-Z])$/,i=/^([a-hA-H|nNjJ|p-sP-S|uUvVwW])(\d{8})$/,r=/^[x-zX-Z]\d{7,8}[a-zA-Z]$/;t.valid=a.test(e)||i.test(e)||r.test(e)}return t.valid||(t.errorMessage="travelerIdValid"),t}});
/*! pages/cop/common/form/validators/date-form-validators.js*/
"use strict";dio.di.define("DateFormValidators",function(e){var h=e("LiveState"),m=e("DateUtils"),t=h.validation.validators.get();t.dateIsNotInThePast=function(e,t){var a={},d=dio.getObjectByName(t,h),r=new Date(d.year.get(),d.month.get()-1,d.day.get());return a.valid=-1<=m.daysBetween(new Date,r),a.valid||(a.errorMessage="dateIsNotInThePast"),a},t.dateIsNotBeforeThan=function(e,t){var a=t.dateNodePath,d=t.comparedToNodePath,r={},n=dio.getObjectByName(a,h),o=dio.getObjectByName(d,h),g=new Date(n.year.get(),n.month.get()-1,n.day.get()),s=new Date(o.year.get(),o.month.get()-1,o.day.get());return r.valid=0<m.daysBetween(s,g),r.valid||(r.errorMessage="dateIsNotBeforeThan"),r},t.validDate=function(e,t){var a={},d=dio.getObjectByName(t,h);return a.valid=m.isValid(d.year.get(),d.month.get()-1,d.day.get()),a.valid||(a.errorMessage="validDate"),a},t.dateRangeShorterThan=function(e,t){var a=t.startDateNodePath,d=t.endDateNodePath,r=t.maxRange,n={},o=dio.getObjectByName(a,h),g=dio.getObjectByName(d,h),s=new Date(o.year.get(),o.month.get()-1,o.day.get()),i=new Date(g.year.get(),g.month.get()-1,g.day.get());return n.valid=Math.abs(m.daysBetween(s,i))<=r,n.valid||(n.errorMessage="dateRangeShorterThan",n.errorMessageParams=[r]),n},t.datesAreNotTheSameAs=function(e,t){var a=t.startDateNodePath,d=t.endDateNodePath,r=t.compareToStartDate,n=t.compareToEndDate,o={},g=dio.getObjectByName(a,h),s=dio.getObjectByName(d,h),i=new Date(g.year.get(),g.month.get()-1,g.day.get()),y=new Date(s.year.get(),s.month.get()-1,s.day.get());return o.valid=!(0===m.daysBetween(i,new Date(r))&&0===m.daysBetween(y,new Date(n))),o.valid||(o.errorMessage="datesAreNotTheSameAs"),o},t.dateIsXDaysInAdvance=function(e,t){var a=t.dateNodePath,d=t.maxDaysInAdvance,r={},n=dio.getObjectByName(a,h),o=new Date(n.year.get(),n.month.get()-1,n.day.get());return r.valid=m.daysBetween(new Date,o)<=d,r.valid||(r.errorMessage="dateIsXDaysInAdvance"),r}});
/*! pages/cop/common/sitecatalyst-service.js*/
"use strict";dio.di.define("SiteCatalystService",function(e,t){function n(e,t,n,r,o){var i=void 0,s=void 0;return e&&e.prop75||o?s=e:(i=d(r),s=$.extend({},e,{prop75:i})),"undefined"==typeof jasmine&&"undefined"==typeof mocha,m.sendPartialReport(s,t,n||"")}function r(e){e.prop75=d(!0),"undefined"==typeof jasmine&&"undefined"==typeof mocha,m.sendFullReport(e)}function d(e){var t=[];return t.push(e?"OS":"BF"),t.push(V.tracking.prices.originalTotalPrice.get()),t.push(V.tracking.prices.discountedTotalPrice.get()),t.push(V.tracking.prices.depositAmount.get()),t.push(V.tracking.prices.mandatoryFee.get()),t.join("|")}function o(){return k.pageName}function i(){return V.tracking.propertyType.get()}function a(){return k.prop75}function p(){return k.eVar15}function u(){return k.eVar4}function w(){return k.products}function c(){return k.platform}function g(){return k.events}function f(){var e=dio.getClientData("tracking.marketingCloudVisitorIDName"),t=s.marketingCloudVisitorID;return t?{key:e,value:t}:null}function v(e,t){return m.buildMvtReportString(e,t)}function l(e,t,n,r){return m.sendMvtReport(e,t,n,r)}function y(){var e=void 0,t=void 0,n=void 0,r=void 0,o=void 0,i=void 0,s=void 0;window&&window.s&&(window.s.pageName&&(e=window.s.pageName),window.s.eVar61&&"string"==typeof window.s.eVar61&&(t=window.s.eVar61.replace(/\s+/g,"")),window.s.prop75&&"string"==typeof window.s.prop75&&(n=window.s.prop75),window.s.products&&"string"==typeof window.s.products&&(r=window.s.products),window.s.eVar15&&"string"==typeof window.s.eVar15&&(o=window.s.eVar15),window.s.eVar4&&"string"==typeof window.s.eVar4&&(i=window.s.eVar4),window.s.events&&"string"==typeof window.s.events&&(s=window.s.events)),k={pageName:e,platform:t,prop75:n,products:r,eVar15:o,eVar4:i,events:s}}var V=e("LiveState"),m=dio.sitecatalyst,k=void 0;y(),t.exports={sendPartialReport:n,sendFullReport:r,buildMvtReport:v,sendMvtReport:l,getPageName:o,getPlatform:c,getPropertyType:i,getOriginalProp75:a,getEVar15:p,getEVar4:u,getProducts:w,getEvents:g,getMarketingCloudVisitorID:f}});
/*! pages/cop/common/uis-prime/platform-analytics-service.js*/
"use strict";dio.di.define("PlatformAnalyticsService",function(e,n){function r(e,n){e.trackEvent(n)}function t(n,t){return new Promise(function(e){n.PlatformAnalytics?e(n.PlatformAnalytics):t.on("load",function(){e(n.PlatformAnalytics)})})}function i(e){return new e({isAutomaticAdobePageViewDisabled:!0,additionalHeaders:{"x-hcom-origin-id":"ba.ba"}})}function o(e){return e.getInstance()}function a(e,n){e.publishClientSidePayload(n.clientSidePayload),e.trackEvent(n.microMessages,"view")}function c(e){r(e,{schemaName:"referrer",messageContent:{referrerId:"HOT.CKO.Submit",linkName:"RFRR ID",eventType:"click"}})}function s(e,n){if(n.errors)r(e,{schemaName:"coupon",messageContent:{applied:!1,status:"failure",code:"",discountAmount:0,discountPercent:0}});else{var t=n.discountDetail.financialDetails.pricingDetails;r(e,{schemaName:"coupon",messageContent:{applied:!0,status:"success",code:n.discountDetail.appliedCouponCode,discountAmount:t.couponCodeApplied.discountAmountNumber,discountPercent:t.couponCodeApplied.discountPercent}})}}function d(e){r(e,{schemaName:"referrer",messageContent:{referrerId:"CKO.Account.Login.Error",linkName:"Validation error occured",eventType:"click"}})}function u(e,n){r(e,{schemaName:"referrer",messageContent:{referrerId:n}})}function m(t,e){e.map(function(e){return dio.getObjectByName(e,l)}).filter(function(e){return e&&!p.isFieldValid(e)&&f.isElementVisible(e)}).forEach(function(e){var n=dio.getObjectByName("inputTracking.uisPrimeId",e);n&&r(t,[{schemaName:"referrer",messageContent:{referrerId:n.get(),linkName:"form error",eventType:"click"}},{schemaName:"events",messageContent:{name:"CheckoutErrorFormFieldInvalid"}}])})}var l=e("LiveState"),f=e("UtilityService"),p=e("FormService");n.exports={waitForLibrary:t,createInstance:i,getInstance:o,sendPageLoadReport:a,sendBookingSubmissionReport:c,sendSignInErrorReport:d,sendBookingFormErrorReportsForFields:m,sendFormInteractionTracking:u,sendCouponCodeAppliedReport:s}});
/*! pages/cop/common/uis-prime/uis-prime-controller.js*/
"use strict";dio.di.define("UisPrimeController",function(i){function n(i){d.sendBookingSubmissionReport(i),o.isFormValid(l.bookingForm)||d.sendBookingFormErrorReportsForFields(i,["bookingForm.fields.paymentDetails.CREDITCARD.firstName","bookingForm.fields.paymentDetails.CREDITCARD.lastName","bookingForm.fields.paymentDetails.CREDITCARD.creditCardNumber","bookingForm.fields.paymentDetails.CREDITCARD.expiryDate.expiryMonth","bookingForm.fields.paymentDetails.CREDITCARD.expiryDate.expiryYear","bookingForm.fields.paymentDetails.CREDITCARD.securityCode","bookingForm.fields.paymentDetails.CREDITCARD.savedCardSelector","bookingForm.fields.paymentDetails.CREDITCARD.creditCardType","bookingForm.fields.paymentDetails.GIFTCARD.balanceChecked","bookingForm.fields.paymentDetails.GIFTCARD.amountApplied","bookingForm.fields.paymentDetails.HPP.bankSelector","bookingForm.fields.paymentDetails.IDEAL.bankSelector","bookingForm.fields.paymentDetails.IBP.bankSelector","giftCard.checkBalanceForm.fields.giftCardNumber","giftCard.checkBalanceForm.fields.giftCardPin","giftCard.applyForm.fields.amountToPay","loyaltyRewardsDialUp.fields.password"])}function t(i){d.sendPageLoadReport(i,D)}function s(i,e){o.isFormValid(e)||d.sendSignInErrorReport(i)}function a(i){m.registerUisPrimeInteractionHandlersForFields(i,["bookingForm.fields.roomDetails.room0.mainGuest.firstName","bookingForm.fields.roomDetails.room0.mainGuest.lastName","bookingForm.fields.contactDetails.email","bookingForm.fields.contactDetails.phone","bookingForm.fields.contactDetails.phoneCountryCode","bookingForm.fields.paymentDetails.CREDITCARD.firstName","bookingForm.fields.paymentDetails.CREDITCARD.lastName","bookingForm.fields.paymentDetails.CREDITCARD.creditCardNumber","bookingForm.fields.paymentDetails.CREDITCARD.securityCode","bookingForm.fields.paymentDetails.CREDITCARD.expiryDate.expiryMonth","bookingForm.fields.paymentDetails.CREDITCARD.expiryDate.expiryYear","bookingForm.fields.billingDetails.country","bookingForm.fields.billingDetails.street","bookingForm.fields.billingDetails.city","bookingForm.fields.billingDetails.state","bookingForm.fields.billingDetails.postCode"])}function r(i,e){var o=d.getInstance(i);d.sendCouponCodeAppliedReport(o,e)}function e(){if(D){var i=l.uisPrime.libraryScriptTag.getDOM();d.waitForLibrary(window,i).then(function(i){var e=d.createInstance(i);if(t(e),l.bookingForm&&(l.bookingForm.onDOMEvent("submit",function(){n(e)}),a(e)),l.sica&&l.sica.signInForm&&l.sica.signInForm.onDOMEvent("submit",function(){s(e,l.sica.signInForm)}),l.sica&&l.sica.identifiedUser&&l.sica.identifiedUser.signInForm&&l.sica.identifiedUser.signInForm.onDOMEvent("submit",function(){s(e,l.sica.identifiedUser.signInForm)}),l.dealsAndDiscounts&&l.dealsAndDiscounts.discountOptions&&l.dealsAndDiscounts.discountOptions.couponCodeOption){var o=l.dealsAndDiscounts.discountOptions.couponCodeOption.appliedCouponDetails;o.onChange(function(){r(i,o.get())})}})}}var l=i("LiveState"),o=i("FormService"),d=i("PlatformAnalyticsService"),m=i("InputTrackerService"),D=dio.getClientData("uisPrimeReporting");e()});
/*! pages/cop/booking-form/common/tracking/general-tracker.js*/
"use strict";dio.di.define("GeneralTracker",function(i){function a(i){var a=i.analyticsId,e=i.failingValidatorName,n=void 0;if(a){var r=s.bookingForm.validation.analyticsIdCustomLinkMap.get()[a];n=r||"No customLink specified for "+a}else n="No analyticsId specified for "+e;return n}function e(i){p.sendPartialReport({pageName:p.getPropertyType()+" Booking Form - Static Validation Error",channel:"Validation Error",eVar33:i.analyticsId},"",a(i))}function n(i){p.sendPartialReport({pageName:p.getPropertyType()+" Booking Form - Dynamic Validation Error",channel:"Booking Form with Error",eVar33:i.analyticsId,list2:i.analyticsId},"",a(i))}function r(i){i.value.tracked||(i.value.isServerError?e(i.value):n(i.value),i.value.tracked=!0)}function o(i){p.sendPartialReport({prop64:i.value?"Add S":"Add NS"})}function t(){c("|Sidebar|Learn More Click")}function l(){c("|Sidebar|Sign up Click")}function c(i){var a=p.getPageName();p.sendPartialReport({eVar33:a,eVar45:a+i,prop25:a+i})}function d(){s.bookingForm.fields.contactDetails.updateBillingDetails.field.onChange(o),s.whySignUp.learnMoreLink.onDOMEvent("click",t),s.whySignUp.signUpLink.onDOMEvent("click",l),s.tracking.fieldValidationError.onChange(r)}var s=i("LiveState"),p=i("SiteCatalystService");d()});
/*! pages/cop/booking-form/common/tracking/booking-form-tracker.js*/
"use strict";dio.di.define("BookingFormTracker",function(e){function r(e,t){dio.event.publish("OneStream",{isDioEvent:!0,schema:e,params:t},{defer:!0})}function t(){var e=L.requests.booking.get(),t=dio.getClientData("baseConfig.bookingFormSubmitLogging");e&&t&&(0===e.jqXHR.readyState&&e.settings?$.post(t.url,{callback:"beforeSend",agent:navigator.userAgent,readyState:e.jqXHR.readyState,data:e.settings.data}):$.post(t.url,{callback:"complete",agent:navigator.userAgent,readyState:e.jqXHR.readyState,status:e.jqXHR.status,statusText:e.jqXHR.statusText,textStatus:e.textStatus,headers:e.jqXHR.getAllResponseHeaders(),data:e.jqXHR.responseText}))}function a(){var e=L.requests.booking.get();return e&&0===e.jqXHR.readyState}function i(e){if(e){var t=e.isSecurePaymentAvailable,n;if(e.isEgSecurePaymentAvailable)return"3DS v2 Req";if(t)return"3DS Req"}}function o(e){if(e){var t=e.isSecurePaymentAvailable,n;if(e.isEgSecurePaymentAvailable||t)return"3D Secure Authentication"}}function n(){var e=U.saveCardCheckbox.get(),t=dio.getClientData("cop.mvt6544.saveCardCheckboxLogicReversed")?!e:!!e;return U.selectedSavedCard.get()?"Existing":t?"New":void 0}function l(e){return[j,e.type,e.paymentType,e.paymentSubType||"NA",e.installmentType?"Install":"Full",e.installmentType||"NA",e.savedCardTag||"NA",e.isThreeDsRequired||"Non 3DS",e.cardLiability||"UNKNOWN",e.giftCardTag||"Non GC",e.installmentBankName||"Unknown",e.hccTag||"Non HCOM CC"].join("::")}function c(e){var t=U.selectedCreditCard.get();return e.paymentSubType=t&&t.analytics&&t.analytics.subTypeName,e.savedCardTag=n(),e.isThreeDsRequired=i(t),e.cardLiability=U.binService.cardLiability.get(),s(e),e}function s(e){var t=void 0;return U.selectedSavedCard.get()?t=U.selectedSavedCard.get().bin:U.creditCardNumber.get()&&(t=U.creditCardNumber.get().replace(" ","").slice(0,6)),x.isHcomRewardsCreditCard(t)&&(e.hccTag="HCOM CC"),e}function d(e){var t,n=M.GOOGLEPAY.selectedCard.get();return n&&(e.paymentSubType=n.analytics&&n.analytics.subTypeName,e.isThreeDsRequired=i(n)),e}function g(e){var t=M.selectedPaymentConfig.get(),n={type:e,paymentType:t.analytics.typeName},a=U.configuration.get();if("CREDITCARD"===t.id)n.installmentType=U.installments.option.get(),n.installmentBankName=a.installments&&a.installments.bankName,c(n);else if("GOOGLEWALLET"===t.id)n.paymentSubType=m(M.GOOGLEWALLET.card.get());else if("GOOGLEPAY"===t.id)d(n);else if("GIFTCARD"===t.id)n.giftCardTag="GC",L.giftCard.applied.get()&&L.giftCard.applied.get().isAmountLeftToPay&&(n.paymentType=a.analytics.typeName,c(n));else if("POINTS"===t.id){n.paymentSubType="UnitedPoints";var i=x.getPointsSelectedPointsAndAmountsPair();i&&i.isSplitPayment&&(n.giftCardTag="UnitedPoints",n.paymentType=a.analytics.typeName,c(n))}else{var r=void 0;if(t.redirectShowBankSelector){var o=M[t.id].bankSelector.get();r=V.getConfiguration(t.banks,o,"id")}n.paymentSubType=r?r.analytics.subTypeName:t.analytics.subTypeName}return l(n)}function m(e){if(!e)return"NA";var t=void 0;return t=(t=e.split(" ")[0]).charAt(0).toUpperCase()+t.substr(1).toLowerCase()}function u(){var e=q.getPageName(),t=M.selectedPaymentConfig.get(),n=g("Payment Type Selection"),a="3rd Party Authentication",i;if("CREDITCARD"===t.id)a=o(U.selectedCreditCard.get())||"1st Party Authentication";else if("GIFTCARD"===t.id)a="1st Party Authentication";else if("GOOGLEPAY"===t.id){var r;a=o(M.GOOGLEPAY.selectedCard.get())||"3rd Party Authentication"}n&&q.sendPartialReport({pageName:e,eVar33:"OrderSubmitted",channel:a,eVar18:n},"event20",null,!0),p(),L.requests.booking.set(null)}function p(){dio.event.publish("OneStream",{isDioEvent:!0,schema:"genericInteraction",params:{eventName:"formBookingOrderSubmitted",eventType:"interaction",interactionType:"click",isTemporary:!1,contextData:{interactionType:"outcome",eg_event_name:"form_booking_order.submitted",paymentModel:G.calculatePaymentModelForSubmitBfEvent(),paymentType:G.calculatePaymentTypeValueForSubmitBfEvent(),paymentSubType:G.calculatePaymentSubTypeValueForSubmitBfEvent(),savedCardStatus:G.calculateSavedCardStatusForSubmitBfEvent(),binNumber:G.calculateBinNumberForSubmitBfEvent(),isInstallmentPayment:G.calculateIsInstallmentPaymentForSubmitBfEvent(),numberOfInstallments:G.calculateNumberOfInstallmentsForSubmitBfEvent(),installmentsBank:G.calculateInstallmentsBankForSubmitBfEvent(),secure3D:G.calculateSecure3DForSubmitBfEvent(),giftCardNumber:G.calculateGiftCardNumberForSubmitBfEvent(),giftCardValueUSD:G.calculateGiftCardValueUSDForSubmitBfEvent()}}},{defer:!0})}function b(){q.sendPartialReport({pageName:q.getPageName(),eVar33:"Booking Form Confirm Purchase clicked"},"","Booking Form Confirm Purchase clicked");var e={propertyId:String(dio.getObjectByName("commonDataBlock.property.hotelId")),platform:String(dio.getObjectByName("commonDataBlock.user.platformId")),pageName:String(dio.getObjectByName("commonDataBlock.page.pageName")),pos:String(dio.getObjectByName("commonDataBlock.user.pos"))},t=dio.getClientData("hotelDetails.propertyImagesTrackingDetails");t&&Object.assign(e,{imageAlgorithmName:String(t.algorithmName),imageAlgorithmNamespace:String(t.namespace),imageAlgorithmVersion:String(t.version)});var n=dio.getClientData("hotelDetails.propertyImages");if(n){var a,i=L.multipleHotelImages.carouselInstance.get().carousel.current;Object.assign(e,{imageId:String(n[i].imageId),imageRank:String(i)})}r("genericInteraction",{eventType:"interaction",eventName:"bookingFormBookButtonClicked",interactionType:"click",isHoBFlow:!!dio.getClientData("baseConfig.isHobFlow"),contextData:e})}function f(e){var t=e.value;switch(t.errorType){case"hotelNotAvailable":y(t.errorData);break;case"priceChangeAccepted":v(t.errorData);break;case"priceChangeCancelled":C(t.errorData);break;case"securePaymentError":N();break;case"communicationException":k();break;case"duplicateBooking":T();break;case"unexpectedException":S();break;case"lockedLoyaltyException":P();break;case"loyaltyRedeemedException":D()}}function y(e){q.sendFullReport({pageName:dio.getClientData("tracking.propertyType")+" Booking Form - Booking Form - Hotel unavailable "+e.errorCode,channel:"Booking Form with Ian Error",eVar33:"Room unavailable"})}function v(e){var t=e.oldFormattedPrice||e.oldPrice,n=e.newFormattedPrice||e.newPrice;q.sendFullReport({eVar33:"Price change:complete|"+t+"|"+n})}function C(e){var t=e.oldFormattedPrice||e.oldPrice,n=e.newFormattedPrice||e.newPrice;q.sendFullReport({eVar33:"Price change:cancel|"+t+"|"+n})}function k(){q.sendFullReport({pageName:dio.getClientData("tracking.propertyType")+" Booking Form - Communication Error",channel:"Booking Form with Inventory Communication Error",eVar33:"Communication error"})}function S(){q.sendFullReport({pageName:dio.getClientData("tracking.propertyType")+" Booking Form - Unexpected Error",channel:"Booking Form with Unexpected Error",eVar33:"Unexpected error"})}function P(){q.sendPartialReport({},"event82","HCR L")}function D(){q.sendPartialReport({},"event82","HCR R")}function T(){q.sendFullReport({pageName:"Booking form page with errors hotel booking form error",channel:"duplicate hotel booking",eVar33:"duplicate booking"})}function h(e){var t=M.selectedPaymentConfig.get();e.domEvent&&q.sendFullReport({eVar33:"Payment Details Radio button selected :: "+t.analytics.selectionName})}function N(){var e=g("Failed");q.sendPartialReport({pageName:q.getPageName(),eVar33:e,list2:e})}function F(){var e=U.configuration.get().id,t=x.isPaymentSelected(e),n=a();return t&&n}function R(){var e=U.creditCardNumber.get(),t=U.selectedCreditCard.get(),n=x.isCardNumberWithinBinRanges(t,e),a=q.buildMvtReport(785);n&&a&&q.sendPartialReport({eVar34:a,list3:"D=v34"})}function B(){L.bookingForm.fields.cancellationPolicy.freeCancellationDropdownTrackingSent.get()||(q.sendPartialReport({pageName:q.getPageName(),eVar33:"Cancellation dropdown opened"},"","Cancellation dropdown opened"),L.bookingForm.fields.cancellationPolicy.freeCancellationDropdownTrackingSent.set(!0))}function E(){L.bookingForm.fields.cancellationPolicy.nonRefundableCancellationDropdownTrackingSent.get()||(q.sendPartialReport({pageName:q.getPageName(),eVar33:"[Insight] Non-refundable dropdown opened"},"","[Insight] Non-refundable dropdown opened"),L.bookingForm.fields.cancellationPolicy.nonRefundableCancellationDropdownTrackingSent.set(!0))}function O(){if(window.IntersectionObserver){var a=L.bookingForm.submitButton.getDOM().get(0),e;new IntersectionObserver(function(e,t){var n;e.find(function(e){return e.target===a}).isIntersecting&&(q.sendPartialReport({},null,"Confirm purchase button seen"),t.unobserve(a))},{threshold:.75}).observe(a)}else L.environment.window.onDOMEvent("scroll",A)}function A(){var e=L.environment.window.getDOM().height(),t=L.bookingForm.submitButton.getDOM(),n=t?t.get(0).getBoundingClientRect():{top:1/0};n.top+.75*n.height<=e&&(q.sendPartialReport({},null,"Confirm purchase button seen"),L.environment.window.removeHandler("scroll",A))}function w(){q.sendPartialReport(null,null,"Billing Address Country Selected"),L.bookingForm.fields.billingDetails.country.removeHandler("blur",w)}function I(){q.sendPartialReport(null,null,"Billing State or Province or Prefecture Selected"),L.bookingForm.fields.billingDetails.state.removeHandler("blur",I)}function H(){L.requests.booking.onChange(t),L.requests.booking.onChange(R,"self",F),L.requests.booking.onChange(u,"self",a),L.tracking.bookingForm.errors.onChange(f),M.paymentSelector.onChange(h),L.bookingForm.fields.cancellationPolicy.freeCancellationDropdownToggler.onDOMEvent("click",B),L.bookingForm.fields.cancellationPolicy.nonRefCancellationDropdownToggler.onDOMEvent("click",E),L.bookingForm.submitButton.onDOMEvent("click",b),L.bookingForm.fields.billingDetails.country.onDOMEvent("blur",w),L.bookingForm.fields.billingDetails.state.onDOMEvent("blur",I),O()}var L=e("LiveState"),q=e("SiteCatalystService"),V=e("UtilityService"),x=e("PaymentService"),G=e("BookingFormOnestreamTrackerService"),j=q.getPlatform(),M=L.bookingForm.fields.paymentDetails,U=M.CREDITCARD;H()});
/*! pages/cop/booking-form/common/tracking/booking-form-onestream-tracker-service.js*/
"use strict";dio.di.define("BookingFormOnestreamTrackerService",function(e,t){function i(){return dio.getObjectByName("bookingForm.fields.paymentDetails.CREDITCARD",g)}function a(){var e="Pay Online",t="Pay At Hotel",a=dio.getClientData("baseConfig.paymentModel");return a?a?a.isPostPay&&a.isFullyPostPay?t:e:void 0:null}function n(){var e=dio.getObjectByName("bookingForm.fields.paymentDetails.selectedPayments",g);return e&&e.get()&&e.get()[0]}function r(){var e=dio.getObjectByName("bookingForm.fields.paymentDetails.CREDITCARD.selectedCreditCard",g);return e&&e.get()&&(e=e.get()).analytics?e.analytics.subTypeName:null}function o(){var e=dio.getObjectByName("bookingForm.fields.paymentDetails.selectedPayments",g),t=dio.getObjectByName("bookingForm.fields.paymentDetails.CREDITCARD.selectedSavedCard",g),a=dio.getObjectByName("bookingForm.fields.paymentDetails.CREDITCARD.savedCardCheckbox",g);return e&&e.get()&&"CREDITCARD"!==e.get()[0]?"N/A":t&&t.get()?"Existing":a&&"true"===a.get()?"New":"N/A"}function l(){var e=void 0;return(e=dio.getObjectByName("binService.bin",g))||(e=dio.getObjectByName("bookingForm.fields.paymentDetails.CREDITCARD.installments.bin",g)),e&&e.get()}function c(){var e=i();return e&&e.selectedSavedCard&&e.selectedSavedCard.get()&&e.selectedSavedCard.get().installments}function u(){var e=i(),t=dio.getObjectByName("configuration",e);return t&&t.get()?dio.getObjectByName("installments.options.length",t.get()):null}function m(){var e=i();return e&&e.configuration&&e.configuration.get()&&e.configuration.get().installments&&e.configuration.get().installments.bankName}function d(){var e=i(),t=e&&e.selectedCreditCard&&e.selectedCreditCard.get();if(t){var a=t.isSecurePaymentAvailable,n;if(t.isEgSecurePaymentAvailable)return"3DS v2 Req";if(a)return"3DS Req"}return"Non 3DS"}function s(){var e=g.giftCard&&g.giftCard.checkBalanceForm&&g.giftCard.checkBalanceForm.fields&&g.giftCard.checkBalanceForm.fields.giftCardNumber&&g.giftCard.checkBalanceForm.fields.giftCardNumber.get();return e||""}function f(){var e=g.giftCard&&g.giftCard.summaryForm&&g.giftCard.summaryForm.giftCardAmountToPay&&g.giftCard.summaryForm.giftCardAmountToPay.get();return e||""}var g=e("LiveState");t.exports={calculatePaymentModelForSubmitBfEvent:a,calculatePaymentTypeValueForSubmitBfEvent:n,calculatePaymentSubTypeValueForSubmitBfEvent:r,calculateSavedCardStatusForSubmitBfEvent:o,calculateBinNumberForSubmitBfEvent:l,calculateIsInstallmentPaymentForSubmitBfEvent:c,calculateNumberOfInstallmentsForSubmitBfEvent:u,calculateInstallmentsBankForSubmitBfEvent:m,calculateSecure3DForSubmitBfEvent:d,calculateGiftCardNumberForSubmitBfEvent:s,calculateGiftCardValueUSDForSubmitBfEvent:f}});
/*! pages/cop/booking-form/common/tracking/input-tracker-service.js*/
"use strict";dio.di.define("InputTrackerService",function(e,n){function t(e){k.sendPartialReport({eVar33:"FormStarted :: "+e},"event19",k.getPageName())}function r(e){k.sendPartialReport({eVar33:"Auto|"+e},"","Booking Form Progression")}function i(e,n){k.sendPartialReport({eVar33:"Manual|"+e,prop64:""+n},"","Booking Form Progression")}function a(e,n){var t=!!e.domEventName,r=d.tracking.uisPrimeformStartedReportSent,i=e.element,a=i&&i.inputTracking&&i.inputTracking.uisPrimeFormStartedReferrerId;!r.get()&&t&&a&&(p.sendFormInteractionTracking(n,a.get()),r.set(!0))}function o(e){var n=!!e.domEventName;!v.get()&&n&&(t(e.element.inputTracking.name.get()),dio.event.publish("OneStream",{isDioEvent:!0,schema:"genericInteraction",params:{eventName:"formBookingStarted",eventType:"interaction",interactionType:"click",isTemporary:!1,contextData:{formField:e.element.inputTracking.name.get(),eg_event_name:"form_booking.started"}}},{defer:!0}),v.set(!0))}function g(e){var n=e.element,t,r;!!e.domEventName&&(i(n.inputTracking.name.get(),f.get()),f.set(f.get()+1),n.removeHandler("change",g))}function c(e){var n=!e.domEventName,t=void 0!==e.element.get();n&&t&&(r(e.element.inputTracking.name.get()),e.element.removeHandler("change",c))}function m(e){var n=e.get(),t;(!e.inputTracking.skipAutoBookingFormProgressionTracking||!e.inputTracking.skipAutoBookingFormProgressionTracking.get())&&n&&(r(e.inputTracking.name.get()),e.removeHandler("change",c))}function s(e){e.onChange(o),e.onChange(g),e.onChange(c),m(e)}function u(t,e){e.forEach(function(e){var n=dio.getObjectByName(e,d);n&&n.onChange(function(e){return a(e,t)})})}var d=e("LiveState"),k=e("SiteCatalystService"),p=e("PlatformAnalyticsService"),v=d.tracking.formStartedReportSent,f=d.tracking.inputTrackingOrder;n.exports={registerHandlers:s,registerUisPrimeInteractionHandlersForFields:u}});
/*! pages/cop/booking-form/common/tracking/input-tracker-controller.js*/
"use strict";dio.di.define("InputTrackerController",function(r){function a(r){r.inputTracking&&r.inputTracking.name&&n.registerHandlers(r)}function i(){c.loyaltyRewardsDialUp.forEach(a),c.dealsAndDiscounts.forEach(a),c.sica.forEach(a),c.bookingForm.forEach(a),c.giftCard&&(c.giftCard.checkBalanceForm.forEach(a),c.giftCard.applyForm.forEach(a))}var c=r("LiveState"),n=r("InputTrackerService");i()});
/*! pages/cop/booking-form/common/tracking/hero-image-tracker.js*/
"use strict";dio.di.define("HeroImageTracker",function(){function t(){return{eventType:"HERO_IMAGE_LOAD",guid:dio.getObjectByName("commonDataBlock.user.guid"),hotelId:dio.getObjectByName("commonDataBlock.property.hotelId"),imageId:m,mvt:dio.getObjectByName("commonDataBlock.mvtHistory.athenaMvts"),pageType:"BOOKING_FORM",platform:dio.getObjectByName("commonDataBlock.user.platformId"),pos:dio.getObjectByName("commonDataBlock.user.pos"),searchId:dio.getObjectByName("commonDataBlock.search.searchId"),sessionId:dio.getObjectByName("commonDataBlock.user.sessionId"),timestamp:(new Date).valueOf()}}function a(){return{namespace:i.namespace,version:i.version,algorithmName:i.algorithmName}}function o(e){var t=e.hotelId,a=e.imageId,o=e.algorithmName,n=e.namespace,m=e.version;dio.event.publish("OneStream",{schema:"propertyImpression",isDioEvent:!0,params:{eventName:"propertyImageViewed",properties:[{propertyId:t,imageId:a,rank:0,algorithm:{name:o,namespace:n,version:m}}],component:"bookingSummary",componentElement:"heroImage"}},{defer:!0})}function e(){var e=t();i&&$.extend(e,a()),dio.getClientData("cop.mvt9469.useOneStreamTracking")?o(e):$.ajax({url:"/haitp/processEvent",type:"POST",dataType:"json",contentType:"application/json; charset=UTF-8",data:JSON.stringify(e)})}function n(){m&&e()}var m=dio.getClientData("hotelDetails.hotelImage.imageId"),i=dio.getClientData("hotelDetails.hotelImage.trackingDetails");n()});
/*! pages/cop/booking-form/common/live-state-builder.js*/
"use strict";dio.di.define("LiveStateBuilder",function(e,a){function f(e,a,t,n){var i="room-details-room-"+a+"-other-guest-"+t+"-full-name",r="-R"+(a+1)+"-"+(n.isChild?"C":"A")+n.indexInType;e["room"+a]["otherGuest"+t]={fullName:{$object:$("#"+i),events:["blur"],validation:{stateIndicator:$('[data-for="'+i+'"].validation-state-indicator'),stateHolder:$('[data-for="'+i+'"].field-container'),messageKeyPrefix:"guestFullName",result:null,rules:[{name:"required",analyticsId:"F_B_10_10_6"+r,stressedStateOnly:!0},{name:"minLength",analyticsId:"F_B_10_10_7"+r,parameter:4},{name:"maxLength",analyticsId:"F_B_10_10_8"+r,parameter:70},{name:"containsValidCyrillicFullName",analyticsId:"F_B_10_10_9"+r}]},inputTracking:{name:"Room"+a+"|OtherGuest"+t+"|Full name"}}}}function b(e,a,t){for(var n=0;n<t;n++)e["room"+a]["accessibility"+n]=$("#room-details-room-"+a+"-accessibility-"+n)}function h(t,n,e){t["room"+n].specialRequests={},$.each(e,function(e,a){t["room"+n].specialRequests["request"+(e+1)]={$object:$("#room-details-room-"+n+"-special-request-"+e),omniturePrefix:a,inputTracking:{name:"Room"+n+"|"+a}}})}function i(e){for(var a={},t=dio.getObjectByName("roomDetails.rooms",e),n=dio.getObjectByName("numberOfRooms",e),i=dio.getObjectByName("validationConfig.firstNameMinLength",e),r=dio.getObjectByName("validationConfig.lastNameMinLength",e),o=25,s=40,l=dio.getObjectByName("baseConfig.lockMainGuestName",e),d,c=!!dio.getObjectByName("validationConfig.isUnicodeCharacterAllowed",e)?"invalidTextInputChars":"invalidCharsInventory",m=void 0,u=void 0,p=void 0,g=void 0,y=void 0,_=0;_<n;_++)m="room-details-room-"+_+"-first-name",u="room-details-room-"+_+"-last-name",p="room-details-room-"+_+"-bed-type",g="room-details-room-"+_+"-smoking-pref",y="room-details-room-"+_+"-special-request",a["room"+_]={mainGuest:{firstName:{$object:$("#"+m),events:["blur"],validation:{stateHolder:$('[data-for="'+m+'"].field-container'),stateIndicator:$('[data-for="'+m+'"].validation-state-indicator'),messageKeyPrefix:"firstName",result:null,rules:[{name:"required",analyticsId:"F_B_1_5",stressedStateOnly:!0},{name:"minLength",analyticsId:"F_B_1_5",parameter:i},{name:"maxLength",analyticsId:"F_B_1_4",parameter:25},{name:c,analyticsId:"F_B_1_7"},{name:"roomDetailsUniqueName",analyticsId:"F_B_1_3"}]},isLocked:0===_&&l,inputTracking:{name:"Room"+_+"|First name",uisPrimeFormStartedReferrerId:"CKO.FORM.START.T1.FIRSTNAME"}},lastName:{$object:$("#"+u),events:["blur"],validation:{stateIndicator:$('[data-for="'+u+'"].validation-state-indicator'),stateHolder:$('[data-for="'+u+'"].field-container'),messageKeyPrefix:"lastName",result:null,rules:[{name:"required",analyticsId:"F_B_2_6",stressedStateOnly:!0},{name:"minLength",analyticsId:"F_B_2_10",parameter:r},{name:"maxLength",analyticsId:"F_B_2_5",parameter:40},{name:c,analyticsId:"F_B_2_8"},{name:"roomDetailsUniqueName",analyticsId:"F_B_1_3"}]},isLocked:0===_&&l,inputTracking:{name:"Room"+_+"|Last name",uisPrimeFormStartedReferrerId:"CKO.FORM.START.T1.LASTNAME"}}},bedType:$("#"+p),smokingPref:$("#"+g),specialRequest:{$object:$("#"+y),events:["blur"],validation:{stateIndicator:$('[data-for="'+y+'"].validation-state-indicator'),stateHolder:$('[data-for="'+y+'"].field-container'),messageKeyPrefix:"specialRequest",result:null,rules:[{name:"maxLength",analyticsId:"F_B_37_1",parameter:250}]},inputTracking:{name:"Room"+_+"|Special request"}}},t&&t[_].otherGuests&&$.each(t[_].otherGuests,f.bind(void 0,a,_)),t&&t[_].selectableAccessibilitiesCount&&b(a,_,t[_].selectableAccessibilitiesCount),t&&t[_].specialRequestOmniturePrefixes&&h(a,_,t[_].specialRequestOmniturePrefixes);return a}function r(e,a){var t=[];return a&&t.push({name:"required",analyticsId:e+"_1",stressedStateOnly:!0}),t.push({name:"minLength",analyticsId:e+"_7",parameter:5}),t.push({name:"maxLength",analyticsId:e+"_6",parameter:50}),t.push({name:"containsNoSpaces",analyticsId:e+"_12"}),t.push({name:"containsOnlyEanCompliantCharacters",analyticsId:e+"_10"}),t.push({name:"containsAtSign",analyticsId:e+"_9"}),t.push({name:"startsWithNoAtSign",analyticsId:e+"_3"}),t.push({name:"startsWithNoDot",analyticsId:e+"_13"}),t.push({name:"containsOnlyOneAtSign",analyticsId:e+"_11"}),t.push({name:"containsNoConsecutiveDots",analyticsId:e+"_2"}),t.push({name:"containsNoDotBeforeAtSign",analyticsId:e+"_14"}),t.push({name:"hasDomainAndItIsLongEnough",analyticsId:e+"_8"}),t.push({name:"domainStartsWithNoDot",analyticsId:e+"_4"}),t.push({name:"domainContainsNoUnderscore",analyticsId:e+"_15"}),t.push({name:"isTopLevelDomainValid",analyticsId:e+"_5"}),t}function o(e){var a=dio.getObjectByName("taxId",e);return a&&a.type?{$object:$("#billing-details-tax-id"),helperText:$('[data-for="billing-details-tax-id"].helper-text'),events:["blur"],validation:{stateIndicator:$('[data-for="billing-details-tax-id"].validation-state-indicator'),stateHolder:$('[data-for="billing-details-tax-id"].field-container'),messageKeyPrefix:"CPF"===a.type?"cpfNumber":"panNumber",result:null,rules:"CPF"===a.type?[{name:"required",analyticsId:"F_B_45_1",stressedStateOnly:!0},{name:"minLength",analyticsId:"F_B_45_2",parameter:14},{name:"maxLength",analyticsId:"F_B_45_3",parameter:14},{name:"isPassingCPFChecksum",analyticsId:"F_B_45_4"}]:[{name:"required",analyticsId:"F_B_45_1",stressedStateOnly:!0},{name:"minLength",analyticsId:"F_B_45_2",parameter:10},{name:"maxLength",analyticsId:"F_B_45_3",parameter:10},{name:"isPassingPANChecksum",analyticsId:"F_B_45_4"}]},isMasked:!0,inputTracking:{name:"CPF"===a.type?"CPF number":"PAN number"}}:{$object:$("#billing-details-cpf"),helperText:$('[data-for="billing-details-cpf"].helper-text'),events:["blur"],validation:{stateIndicator:$('[data-for="billing-details-cpf"].validation-state-indicator'),stateHolder:$('[data-for="billing-details-cpf"].field-container'),messageKeyPrefix:"cpfNumber",result:null,rules:[{name:"required",analyticsId:"F_B_45_1",stressedStateOnly:!0},{name:"minLength",analyticsId:"F_B_45_2",parameter:14},{name:"maxLength",analyticsId:"F_B_45_3",parameter:14},{name:"isPassingCPFChecksum",analyticsId:"F_B_45_4"}]},isMasked:!0,inputTracking:{name:"CPF number"}}}function s(e){var a=dio.getObjectByName("isMultiCheckbox",e);return{$object:$("#agree-with-terms"),validation:{stateIndicator:$('[data-for="agree-with-terms"].validation-state-indicator'),stateHolder:$('[data-for="agree-with-terms"].field-container'),result:null,rules:[{name:"required",analyticsId:"F_B_7",stressedStateOnly:!0}],messageKeyPrefix:a?"isMultiCheckbox":""}}}function l(e){var a=dio.getObjectByName("affiliateField.type",e),t=void 0;return a&&((t={$object:$("#affiliate-field"),container:$("#affiliate-field-container"),earnMessage:$(".earn-message"),events:["blur"],validation:{stateIndicator:$('[data-for="affiliate-field"].validation-state-indicator'),stateHolder:$('[data-for="affiliate-field"].field-container'),result:null,rules:[]},inputTracking:{name:"Affiliate field"}}).validation.rules=K[a].rules,t.validation.messageKeyPrefix=K[a].messageKeyPrefix,K[a].isMasked&&(t.isMasked=K[a].isMasked)),t}function t(e){var a=$("#payment-option-CREDITCARD"),t=dio.getObjectByName("validationConfig.firstNameMinLength",e),n=dio.getObjectByName("validationConfig.lastNameMinLength",e),i=25,r=40;return{$object:a,controllerName:"CreditCardController",savedCardSelector:{$object:$("#payment-details-saved-card-selector"),validation:{stateIndicator:$('[data-for="payment-details-saved-card-selector"].validation-state-indicator',a),stateHolder:$('[data-for="payment-details-saved-card-selector"].field-container',a),messageKeyPrefix:"savedcard",result:null,rules:[{name:"savedCardIsNotAcceptable",analyticsId:"F_B_51_1"}]},inputTracking:{uisPrimeId:"CKO.FORM.ERROR.creditCards[0].stored_card_security_code"}},savedCardStatusMessage:{$object:$("#saved-card-status-message"),templateName:"hcom.templates.pages.cop.bookingForm.paymentDetails.savedCardStatusMessage",injectionType:"insert"},firstName:{$object:$("#payment-details-first-name"),events:["blur"],validation:{stateIndicator:$('[data-for="payment-details-first-name"].validation-state-indicator',a),stateHolder:$('[data-for="payment-details-first-name"].field-container',a),messageKeyPrefix:"firstName",result:null,rules:[{name:"required",analyticsId:"F_B_9_9",stressedStateOnly:!0},{name:"minLength",analyticsId:"F_B_9_4",parameter:t},{name:"maxLength",analyticsId:"F_B_9_3",parameter:25},{name:"invalidCharsInventory",analyticsId:"F_B_9_6"}]},inputTracking:{name:"Cardholder first name",uisPrimeId:"CKO.FORM.ERROR.creditCards[0].cardholder_name",uisPrimeFormStartedReferrerId:"cko.form.start.cardholdername"}},lastName:{$object:$("#payment-details-last-name"),events:["blur"],validation:{stateIndicator:$('[data-for="payment-details-last-name"].validation-state-indicator',a),stateHolder:$('[data-for="payment-details-last-name"].field-container',a),messageKeyPrefix:"lastName",result:null,rules:[{name:"required",analyticsId:"F_B_10_6",stressedStateOnly:!0},{name:"minLength",analyticsId:"F_B_10_11",parameter:n},{name:"maxLength",analyticsId:"F_B_10_5",parameter:40},{name:"invalidCharsInventory",analyticsId:"F_B_10_8"}]},inputTracking:{name:"Cardholder last name",uisPrimeId:"CKO.FORM.ERROR.creditCards[0].cardholder_name",uisPrimeFormStartedReferrerId:"cko.form.start.cardholdername"}},creditCardType:{$object:$("#payment-details-card-type-selector"),validation:{stateIndicator:$('[data-for="payment-details-card-type-selector"].validation-state-indicator',a),stateHolder:$('[data-for="payment-details-card-type-selector"].field-container',a),messageKeyPrefix:"creditCardType",result:null,rules:[{name:"required",stressedStateOnly:!0}]},inputTracking:{uisPrimeId:"CKO.FORM.ERROR.creditCards[0].card_type"}},cardTypeAdditionalMessage:{$object:$("#payment-details-card-type-additional-message"),templateName:"hcom.templates.pages.cop.common.messages.generalMessage",injectionType:"insert"},secondaryCurrencyMessage:{$object:$("#payment-details-secondary-currency-message"),templateName:"hcom.templates.pages.cop.common.messages.generalMessage",injectionType:"insert"},creditCardTypeDetectorEnabled:!0,creditCardNumber:{$object:$("#payment-details-card-number"),events:["blur"],validation:{stateIndicator:$('[data-for="payment-details-card-number"].validation-state-indicator',a),stateHolder:$('[data-for="payment-details-card-number"].field-container',a),messageKeyPrefix:"creditCardNumber",events:["blur"],result:null,rules:[{name:"required",analyticsId:"F_B_18_1",stressedStateOnly:!0},{name:"containsOnlyDigitsHyphensAndSpaces",analyticsId:"F_B_18_26"},{name:"creditCardTypeIsSet",analyticsId:"F_B_18_27"},{name:"creditCardNumberPrefixCheck"},{name:"creditCardNumberLengthCheck"},{name:"luhnCheck",analyticsId:"F_B_18_8"}]},inputTracking:{name:"Card number",uisPrimeId:"CKO.FORM.ERROR.creditCards[0].card_number",uisPrimeFormStartedReferrerId:"cko.form.start.cardnumber"}},binService:{bin:null,paymentIdentifier:null,cardLiability:null,configuration:null,binServiceAjaxRequests:[],binResponseDeferredObj:null,isEgSecurePaymentAvailable:null},cardTypeLogo:{$object:$("#payment-details-card-type-logo"),templateName:"hcom.templates.pages.cop.bookingForm.paymentDetails.cardTypeLogo",paymentLogo:null,injectionType:"insert"},cardNumberFormat:null,securityCode:{$object:$("#payment-details-cvv"),helper:{$object:$("#cvv-image"),image:$("#cvv-image .checkout-sprite"),description:$("#cvv-image .cvv-digits")},cvvHint:{$object:$("#cvv-hint"),closeIcon:$("#cvv-hint-overlay button.cta.widget-overlay-close"),triggerItem:{$object:$("#cvv-hint-trigger-item")}},events:["blur","focus"],validation:{stateIndicator:$('[data-for="payment-details-cvv"].validation-state-indicator',a),stateHolder:$('[data-for="payment-details-cvv"].field-container',a),messageKeyPrefix:"creditCardCvv",result:null,rules:[{name:"securityCodeRequired",analyticsId:"F_B_19_1",stressedStateOnly:!0},{name:"securityCodeLength"},{name:"securityCodeContainsOnlyNumbers",analyticsId:"F_B_19_4"}]},inputTracking:{name:"Security code",uisPrimeId:"CKO.FORM.ERROR.creditCards[0].new_card_security_code",uisPrimeFormStartedReferrerId:"cko.form.start.cidentered"}},expiryDate:{$object:$("#expiry-date-fields"),expiryMonth:{$object:$("#expiry-month"),events:["blur"],validation:{stateIndicator:$('[data-for="separated-expiry-date-fields"].validation-state-indicator'),stateHolder:$("#expiry-date-fields"),messageKeyPrefix:"creditCardExpiryMonth",result:null,rules:[{name:"required",analyticsId:"F_B_21_3",stressedStateOnly:!0},{name:"expiryMonthIsValid",analyticsId:"F_B_21_3"},{name:"expiryDateIsValid",analyticsId:"F_B_21_5"}]},inputTracking:{name:"Expiry date month",uisPrimeId:"CKO.FORM.ERROR.creditCards[0].expiration_month",uisPrimeFormStartedReferrerId:"cko.form.start.cardexpiremonth"}},expiryYear:{$object:$("#expiry-year"),events:["blur"],validation:{stateIndicator:$('[data-for="separated-expiry-date-fields"].validation-state-indicator'),stateHolder:$("#expiry-date-fields"),messageKeyPrefix:"creditCardExpiryYear",result:null,rules:[{name:"required",analyticsId:"F_B_22",stressedStateOnly:!0},{name:"expiryYearIsValid",analyticsId:"F_B_22_3"},{name:"expiryDateIsValid",analyticsId:"F_B_21_5"}]},inputTracking:{name:"Expiry date year",uisPrimeId:"CKO.FORM.ERROR.creditCards[0].expiration_year",uisPrimeFormStartedReferrerId:"CKO.FORM.START.CARDEXPIREYEAR"}},validation:{$object:$("#expiry-date-validator-indicator"),stateHolder:$("#expiry-date-validator-indicator"),stateIndicator:$("#expiry-date-validator-indicator"),result:null,rules:[{name:"expiryDateIsEntirelyFilled",analyticsId:"F_B_22_5",stressedStateOnly:!0},{name:"creditCardIsNotExpired",analyticsId:"F_B_21_5"}]}},saveCardCheckbox:{$object:$("#payment-details-save-card-checkbox"),parentContainer:$("#save-card-checkbox-container"),validation:{stateIndicator:$('[data-for="payment-details-save-card-checkbox"].validation-state-indicator',a),stateHolder:$('[data-for="payment-details-save-card-checkbox"].field-container',a),result:null,rules:[]}},savedCardNickname:{$object:$("#payment-details-saved-card-nickname"),parentContainer:$("#save-card-nickname-container"),events:["blur"],validation:{stateIndicator:$('[data-for="payment-details-saved-card-nickname"].validation-state-indicator',a),stateHolder:$('[data-for="payment-details-saved-card-nickname"].field-container',a),result:null,messageKeyPrefix:"nickName",rules:[{name:"alphaNumericWithSpace",analyticsId:"F_B_50_1"},{name:"maxLength",analyticsId:"F_B_50_2",parameter:25}]},inputTracking:{name:"Saved Card Nickname"}},installments:{$object:$("#payment-details-installments"),templateName:"hcom.templates.pages.cop.bookingForm.paymentDetails.installments",injectionType:"insert",option:$("#payment-details-installments input"),bin:null,hasRenderTimeOptions:{value:null},info:{$object:$(".installments-info"),templateName:"hcom.templates.pages.cop.bookingForm.paymentDetails.installmentsInfo",injectionType:"insert"}},selectedCreditCard:{value:null},selectedSavedCard:{value:null},expandButton:$("#change-payment-method-btn")}}function n(){var e;return{$object:$("#payment-option-NOCREDITCARD"),controllerName:"NoCreditCardController"}}function d(){var e=$("#payment-option-GIFTCARD .gift-card-state-container.check-balance");return{$object:e,submitButton:$("button",e),result:null,isInProcessingState:!1,validation:{result:null,isInStressedState:!1},fields:{giftCardNumber:{$object:$("#gift-card-number"),events:["blur"],validation:{stateIndicator:$('[data-for="gift-card-number"].validation-state-indicator',e),stateHolder:$('[data-for="gift-card-number"].field-container',e),result:null,messageKeyPrefix:"giftCardNumber",rules:[{name:"required",analyticsId:"F_B_52_1",stressedStateOnly:!0},{name:"containsOnlyNumbers",analyticsId:"F_B_52_2"},{name:"minLength",analyticsId:"F_B_52_3",parameter:16},{name:"maxLength",analyticsId:"F_B_52_4",parameter:16}]},inputTracking:{name:"Gift Card|Check Balance|Gift Card Number",uisPrimeId:"CKO.FORM.ERROR.giftCard[0].card_number"}},giftCardPin:{$object:$("#gift-card-pin-code"),events:["blur"],validation:{stateIndicator:$('[data-for="gift-card-pin-code"].validation-state-indicator',e),stateHolder:$('[data-for="gift-card-pin-code"].field-container',e),result:null,messageKeyPrefix:"giftCardPin",rules:[{name:"required",analyticsId:"F_B_59_1",stressedStateOnly:!0},{name:"containsOnlyNumbers",analyticsId:"F_B_59_2"},{name:"minLength",analyticsId:"F_B_59_3",parameter:8},{name:"maxLength",analyticsId:"F_B_59_4",parameter:8}]},inputTracking:{name:"Gift Card|Check Balance|Gift Card Pin Code",uisPrimeId:"CKO.FORM.ERROR.giftCard[0].card_pin"}}}}}function c(){var e=$("#payment-option-GIFTCARD .gift-card-state-container.apply-gift-card");return{$object:e,giftCardCurrent:$(".gift-card-current",e),giftCardBalance:$(".gift-card-balance",e),cancelApplyLink:$("a.cancel",e),submitButton:$("button",e),result:null,isInProcessingState:!1,validation:{result:null,isInStressedState:!1},fields:{amountToPay:{$object:$("#gift-card-amount-to-pay"),events:["blur"],validation:{stateIndicator:$('[data-for="gift-card-amount-to-pay"].validation-state-indicator',e),stateHolder:$('[data-for="gift-card-amount-to-pay"].field-container',e),result:null,messageKeyPrefix:"giftCardAmount",rules:[{name:"required",analyticsId:"F_B_60_1",stressedStateOnly:!0},{name:"priceValue",analyticsId:"F_B_60_2"},{name:"maxValue",analyticsId:"F_B_60_3",parameter:99999}]},inputTracking:{name:"Gift Card Apply|Amount to pay",uisPrimeId:"CKO.FORM.ERROR.giftCard[0].deducted_amount"}}}}}function m(){var e=$("#payment-option-GIFTCARD .gift-card-state-container.summary");return{$object:e,giftCardCurrent:$(".gift-card-current",e),giftCardBalance:$(".gift-card-balance",e),giftCardAmountToPay:$(".gift-card-amount-to-pay",e),giftCardRemainingBalance:$(".gift-card-remaining-balance",e),giftCardAmountLeftToPay:$("#payment-option-GIFTCARD .summary .gift-card-amount-left-to-pay"),cancelApplyLink:$("#cancel-gift-card-apply-link",e),changeAmountLink:$("#change-amount-link",e)}}function u(e){var a=$("#payment-option-GIFTCARD");return w.giftCard={balance:{},applied:{},$object:a,errorMessage:{$object:$(".gift-card-error",a),injectionType:"insert"},checkBalanceForm:d(e),applyForm:c(e),summaryForm:m(e)},{controllerName:"GiftCardController",balanceChecked:{$object:$(".check-balance button",a),validation:{stateIndicator:$('[data-for="gift-card-check-balance"].validation-state-indicator',a),stateHolder:$('[data-for="gift-card-check-balance"].field-container',a),result:null,messageKeyPrefix:"giftCardCheckBalance",rules:[{name:"isGiftCardChecked",stressedStateOnly:!0}]},inputTracking:{uisPrimeId:"CKO.FORM.ERROR.giftCard[0].check_balance"}},amountApplied:{$object:$(".apply-gift-card button",a),validation:{stateIndicator:$('[data-for="gift-card-apply"].validation-state-indicator',a),stateHolder:$('[data-for="gift-card-apply"].field-container',a),result:null,messageKeyPrefix:"giftCardApply",rules:[{name:"isGiftCardApplied",stressedStateOnly:!0}]},inputTracking:{uisPrimeId:"CKO.FORM.ERROR.giftCard[0].apply_amount"}}}}function p(){var e=$("#payment-option-GOOGLEWALLET");return{$object:e,controllerName:"GoogleWalletController",validation:{stateIndicator:$('[data-for="gw-button"].validation-state-indicator',e),stateHolder:$(".gw-button-container",e),result:null,messageKeyPrefix:"googleWallet",rules:[{name:"isGoogleWalletAuthorized",stressedStateOnly:!0}]},button:$(".gw-button",e),email:$(".gw-email",e),card:$(".gw-card",e),googleTransactionId:null,changeJwt:null,maskedWalletJwt:null,fullWalletJwt:null,cardNumber:null,securityCode:null,changeButton:$(".gw-change-card",e),paymentReady:{value:$.Deferred()}}}function g(e){var a=$("#payment-option-GOOGLEPAY"),t=dio.getObjectByName("validationConfig.firstNameMinLength",e),n=dio.getObjectByName("validationConfig.lastNameMinLength",e),i="bookingForm.fields.paymentDetails.GOOGLEPAY.paymentDataResponse.countryCode",r=25,o=40;return{$object:a,paymentLogo:$(".payment-method-logo-small.GOOGLEPAY"),controllerName:"GooglePayController",libraryPromise:null,paymentsClient:null,isAvailable:null,selectedCard:null,prepareForSubmitDeferredObject:{value:null},turnTheProcessingStateOnDeferredObject:{value:null},paymentDataResponse:{countryCode:null,token:null,postCode:{value:null,validation:{result:null,stateIndicator:a,stateHolder:a,rules:[{name:"conditionalRequired",parameter:"bookingForm.fields.homeDetails.postCode.validation.isRequired"},{name:"postCodeMinLength",parameter:i},{name:"maxLength",parameter:10},{name:"postCodeValid",parameter:i}]}},firstName:{value:null,validation:{result:null,stateIndicator:a,stateHolder:a,rules:[{name:"required"},{name:"minLength",parameter:t},{name:"maxLength",parameter:25},{name:"invalidCharsInventory"}]}},lastName:{value:null,validation:{result:null,stateIndicator:a,stateHolder:a,rules:[{name:"required"},{name:"minLength",parameter:n},{name:"maxLength",parameter:40},{name:"invalidCharsInventory"}]}}}}}function y(){return{$object:$("#payment-option-APPLEPAY"),controllerName:"ApplePayController",templateName:"hcom.templates.pages.cop.common.offscreenIframe",injectionType:"insert",selectedCard:null,isAvailable:null,isSubmissionReady:!1,isCancellationWithError:null,session:null,result:null,paymentReady:{value:$.Deferred()}}}function _(e){var a=$("#points-and-amounts-pairs"),t={};e.forEach(function(e){return t[e.value]=$(".radio-list-item[data-value="+e.value+"]",a)}),w.discover(w.bookingForm.fields.paymentDetails.POINTS.loggedInSection.pointsAndAmountsPairs.optionsWrappersMap,t)}function I(e){var a=$("#payment-option-POINTS"),t=$("#points-and-amounts-pairs");return{$object:a,controllerName:"PointsController",loggedOutSection:{$object:$("#points-logged-out-section"),templateName:"hcom.templates.pages.cop.bookingForm.paymentDetails.pointsLoggedOut",loginButton:{$object:$(".points-login-button",a),validation:{stateIndicator:$('[data-for="points-login-main-button"].validation-state-indicator',a),stateHolder:$('[data-for="points-login-main-button"].field-container',a),messageKeyPrefix:dio.getObjectByName("baseConfig.brandId",e),result:null,rules:[{name:"isPointsUserLoggedIn",stressedStateOnly:!0}]}}},loggedInSection:{$object:$("#points-logged-in-section"),templateName:"hcom.templates.pages.cop.bookingForm.paymentDetails.pointsLoggedIn",hasWidgets:!0,logoutButton:$("#points-logout-button"),pointsAndAmountsPairs:{$object:t,option:$("#points-and-amounts-pairs input"),optionsWrappersMap:null},pointsSummary:{$object:$("#points-summary"),templateName:"hcom.templates.pages.cop.bookingForm.paymentDetails.pointsSummary"},balance:{$object:$("#points-balance"),changePaymentButton:$("#points-balance-change-payment-button"),redirectToPdpButton:$("#points-balance-redirect-to-pdp-button"),validation:{stateIndicator:a,stateHolder:a,result:null,rules:[{name:"isPointsBalanceSufficient"}]}},pointsSplitPaymentTitle:{$object:$("#points-split-payment-title"),templateName:"hcom.templates.pages.cop.bookingForm.paymentDetails.pointsSplitPaymentTitle"}}}}function v(e,a){var t,n={KLARNA:"KlarnaPayOverTimeController",KLARNA_PAY_NOW:"KlarnaPayNowController",KLARNA_PAY_LATER:"KlarnaPayLaterController"};return{$object:$("#payment-option-"+a.id),id:a.id,controllerName:n[a.id],klarnaWidgetContainer:$("#klarna-widget-container-"+a.id),authorizationToken:null,klarnaError:{$object:$("#klarna-error-container-"+a.id),templateName:"hcom.templates.pages.cop.bookingForm.paymentDetails.klarnaError",inErrorState:!1,validation:{stateIndicator:$("#klarna-error-container-"+a.id),stateHolder:$("#klarna-error-container-"+a.id),result:null,messageKeyPrefix:"klarna",rules:[{name:"isKlarnaInErrorState",parameter:a.id}]},changePaymentButton:$(".klarna-change-payment-button")}}}function F(e,a){var t=$("#payment-option-"+a.id),n="Bank selector field";switch(a.id.toLowerCase()){case"ibp":n="CKO.FORM.ERROR.ibp_bank_ID";break;case"hpp":n="CKO.FORM.ERROR.hpp";break;case"ideal":n="CKO.FORM.ERROR.ideal";break;default:n="CKO.FORM.ERROR.bank_selector"}return{$object:t,bankSelector:{$object:$("select",t),validation:{stateIndicator:$('[data-for="payment-details-bank-selector-'+a.id+'"].validation-state-indicator',t),stateHolder:$('[data-for="payment-details-bank-selector-'+a.id+'"].field-container',t),messageKeyPrefix:"bankSelector",result:null,rules:[{name:"required",analyticsId:"F_B_64_1",stressedStateOnly:!0}]},inputTracking:{uisPrimeId:n}}}}function C(n){var e=dio.getObjectByName("paymentConfigurations",n)||[],a=dio.getObjectByName("paymentDetails",n),i={$object:$("#payment-details"),paymentOptionsList:$("#payment-options-list"),paymentDetailsPanel:$("#payment-details-panel"),paymentSelector:{$object:$("#payment-options-list .radio-list-item input"),inputTracking:{name:"Payment method selector",skipAutoBookingFormProgressionTracking:!0}},paymentPreselectionPromise:{value:$.Deferred()},selectedPayments:[],availablePayments:[],selectedPaymentConfig:{value:{}},configuration:{value:a}};return $.each(e,function(e,a){var t=M[a.id];i[a.id]={},i.availablePayments.push(a.id),a.redirectShowBankSelector&&(t=F),t&&(i[a.id]=t(n,a)),i[a.id].configuration={value:a},i[a.id].tab=$("#payment-option-tab-"+a.id),i[a.id].panel=$("#payment-option-"+a.id)}),i}function B(e){var a={};e&&($.each(e,function(e){a["night"+(e+1)]={$object:$("#deals-and-discounts-loyalty-rewards-night-"+e),events:["click"]}}),w.discover(w.dealsAndDiscounts.discountOptions.loyaltyRewardsRedeemOption.form.fields.nightCheckboxes,a))}function k(e){for(var a=dio.getObjectByName("numberOfRooms",e),t={},n=void 0,i=0;i<a;i++)n=$('.room-price-breakdown-switcher[data-room-id="room'+i+'"]'),t["room"+i]={$object:$(".widget-toggle-btn",n),events:["click"],subtotal:$(".room-subtotal-price",n),prices:$('.collapsible-row[data-belongs-to="room'+i+'"]')};return t}function P(e){var a={},t=void 0,n=void 0;return"sica"===e?(t=$("#sica-create-account-remember-me, #sica-create-account-remember-me-small-screen"),a.email={$object:$("#txt_email_address"),events:["blur"],validation:{stateIndicator:$('[data-for="txt_email_address"].validation-state-indicator'),stateHolder:$('[data-for="txt_email_address"].field-container'),messageKeyPrefix:"email",result:null,rules:r("F_B_34",!1)},tryingAutoComplete:!1,inputTracking:{name:"Hotels.com Rewards Email"}},n=$(".sica-create-account-form")):"loyaltyRewardsDialUp"===e&&(t=$("#create-account-remember-me"),n=$("#loyalty-rewards-dial-up-create-account")),a.password={$object:$("#txt_password",n),events:["blur"],validation:{stateIndicator:$('[data-for="txt_password"].validation-state-indicator'),stateHolder:$('[data-for="txt_password"].field-container'),messageKeyPrefix:"password",result:null,rules:[{name:"minLength",analyticsId:"F_B_35_1",parameter:6},{name:"minDigitCount",analyticsId:"F_B_35_7",parameter:1}],allowLeadingAndTrailingSpaces:!0},inputTracking:{name:"Hotels.com Rewards Password",uisPrimeId:"HOT.CKO.CONFIRMPASSWORD1"}},a.rememberMe=t,a}function j(e){return{$object:$("."+e+"-forgotten-password-form"),fields:{email:{$object:$("#"+e+"-forgotten-password-email, #"+e+"-forgotten-password-email-small-screen"),events:["blur"],validation:{stateIndicator:$('[data-for="'+e+'-forgotten-password-email"].validation-state-indicator, [data-for="'+e+'-forgotten-password-email-small-screen"].validation-state-indicator'),stateHolder:$('[data-for="'+e+'-forgotten-password-email"].field-container, [data-for="'+e+'-forgotten-password-email-small-screen"].field-container'),messageKeyPrefix:"email",result:null,rules:r("F_B_36",!0)},inputTracking:{name:"Forgotten password"}}},submitButton:$("."+e+"-reset-password-btn"),cancelButton:$("."+e+"-cancel-forgot-password-btn"),confirmationMessage:{$object:$(".forgotten-password-confirmation"),placeholder:$(".sica-sign-in-notification.js-placeholder"),templateName:"hcom.templates.pages.cop.bookingForm.sica.forgottenPasswordConfirmation",injectionType:"insert",hasWidgets:!0},errorMessage:{$object:$("."+e+"-forgotten-password-error.js-placeholder"),templateName:"hcom.templates.pages.cop.common.messages.generalMessage",injectionType:"insert"},redesignedErrorMessage:{$object:$("."+e+"-forgotten-password-error.js-placeholder"),templateName:"hcom.templates.pages.cop.bookingForm.sica.forgottenPasswordError",injectionType:"insert"},validation:{result:null,isInStressedState:!1,isSubmitButtonAlwaysEnabled:"identified-user"===e&&dio.getClientData("mvt10286.enableIdentifiedUserCtaByDefault")},isInProcessingState:!1}}function O(e){return dio.getObjectByName("identifiedUser",e)?dio.cop.sica.selectedFlow.identifiedUser:dio.cop.sica.selectedFlow.flowSelector}function S(e){function a(){var e,a=[];return dio.getClientData("isTravelerIdFieldMandatory")&&(a.push({name:"required",analyticsId:"F_B_66_1",stressedStateOnly:!0}),a.push({name:"travelerIdValid",analyticsId:"F_B_66_2"})),a}var t={$object:$("#contact-details"),isVisible:!0};return t.email={$object:$("#contact-details-email"),container:$('[data-for="contact-details-email"].field-container'),events:["blur"],validation:{stateIndicator:$('[data-for="contact-details-email"].validation-state-indicator'),stateHolder:$('[data-for="contact-details-email"].field-container'),messageKeyPrefix:"email",result:null,rules:r("F_B_11",!0)},inputTracking:{name:"Email address",uisPrimeFormStartedReferrerId:"cko.form.start.emailaddress"}},dio.getObjectByName("emailValidationModel",e)&&(t.email.warningIsClosed=!0,t.email.isInWarningState=!1,t.email.isInProgressState=!1,t.email.kickboxAjaxRequest=null,t.email.lastSubmittedEmail="",t.email.trackMessage="",t.email.analyticsId="F_B_39_13",t.email.kickboxValidation={stateIndicator:$('[data-for="contact-details-email"].kickbox-state-indicator'),stateIndicatorClose:$(".state-indicator-close-icon")}),t.phone={$object:$("#contact-details-phone"),container:$('[data-for="contact-details-phone"].field-container'),events:["blur"],validation:{stateIndicator:$('[data-for="contact-details-phone"].validation-state-indicator'),stateHolder:$('[data-for="contact-details-phone"].field-container'),messageKeyPrefix:"phoneNumber",result:null,rules:[{name:"required",analyticsId:"F_B_13_1",stressedStateOnly:!0},{name:"containsNoAlphaCharacters",analyticsId:"F_B_13_2"},{name:"minLengthPhoneNumber",analyticsId:"F_B_13_3"},{name:"phoneNumberContainsAtLeastTwoDistinctChars",analyticsId:"F_B_13_4"}]},inputTracking:{name:"Telephone number",uisPrimeFormStartedReferrerId:"cko.form.start.phonenumber"}},t.phoneCountryCode={$object:$("#contact-details-phone-country-code"),container:$('[data-for="contact-details-phone"].field-container'),parentContainer:$(".contact-details-phone-country-container"),events:["change"],validation:{stateIndicator:$('[data-for="contact-details-phone"].validation-state-indicator'),stateHolder:$('[data-for="contact-details-phone"].field-container'),messageKeyPrefix:"phoneNumber",result:null,rules:[{name:"minLengthPhoneNumber",analyticsId:"F_B_13_3"},{name:"phoneNumberContainsAtLeastTwoDistinctChars",analyticsId:"F_B_13_4"}]},selectedCountryCodeNumber:null,inputTracking:{name:"Telephone number",uisPrimeFormStartedReferrerId:"cko.form.start.phonenumber"}},t.travelerId={$object:$("#contact-details-traveler-id"),container:$('[data-for="contact-details-traveler-id"].field-container'),events:["blur"],validation:{stateIndicator:$('[data-for="contact-details-traveler-id"].validation-state-indicator'),stateHolder:$('[data-for="contact-details-traveler-id"].field-container'),messageKeyPrefix:"travelerId",result:null,rules:a()},inputTracking:{name:"Traveler ID"}},t.updateBillingDetails={$object:$("#update-billing-details"),container:$("#update-billing-details"),field:$("#update-details-field"),templateName:"hcom.templates.pages.cop.bookingForm.contactDetails.updateBillingDetailsField",injectionType:"insert"},t.newsletter={$object:$("#contact-details-newsletter-container"),field:$("#contact-details-newsletter"),visibilityStatusTrigger:{value:!1},visibilityStatus:{value:!0}},t.guestNameFieldsSeparatorLine={$object:$("#guests-name-fields-separator-line")},t}function x(){for(var e={},a=dio.getClientData("numberOfRooms"),t=0;t<a;t++)e["room"+t]={isOpened:!1,container:$("#cancellation-item-"+t),toggleButton:$("#cancellation-item-toggler-"+t),content:$("#cancellation-item-content-"+t)};return e}function N(){return{paymentDetails:{placeholder:$("#step-indicator-payment-details"),templateName:"hcom.templates.pages.cop.bookingForm.common.modules.headerTitle",injectionType:"insert"}}}function R(){return{selectedInsurance:null,isInProcessingState:!1,libraryPromise:null,tracking:{showDetailsSent:!1,hideDetailsSent:!1},headerTitle:$("#step-indicator-insurance > span")}}function L(){var t=[];$(".module").each(function(e,a){a.id&&t.push(a.id)});var e=t.map(function(e,a){var t=$("#"+e),n=!!t.data("async-loaded-module");return{name:e,order:a,$object:t,openButton:t.find("button.module-open-button"),isOpen:!n,isLoaded:!n}}).reduce(function(e,a){return e[a.name]=a,e},{});return Object.assign({moduleNames:t},e)}function T(){return{isOverlayOpened:!1,cvvFormSubmitted:!1,cvvRequiredForm:{$object:$("#cvv-required-overlay-form"),fields:{securityCode:{$object:$("#cvv-required-overlay-cvv"),events:["blur","focus"],validation:{stateIndicator:$('[data-for="cvv-required-overlay-cvv"].validation-state-indicator'),stateHolder:$('[data-for="cvv-required-overlay-cvv"].field-container'),messageKeyPrefix:"creditCardCvv",result:null,rules:[{name:"securityCodeRequired",analyticsId:"F_B_19_1",stressedStateOnly:!0},{name:"securityCodeLength"},{name:"securityCodeContainsOnlyNumbers",analyticsId:"F_B_19_4"}]}}},submitButton:$("#cvv-required-overlay-form-book-button"),isInProcessingState:!1,validation:{isSubmitButtonAlwaysEnabled:!0,isInStressedState:!1,result:null}}}}function A(){var e={carouselInstance:null,captionTitleText:$(".property-images-carousel .caption-container .title-text"),captionIndex:$(".property-images-carousel .caption-container .index")};return dio.getClientData("isHmvt9792RenderedDuplicatedCarousel")&&(e.mobilePlaceholder=$("#property-images-carousel-placeholder-mobile"),e.desktopPlaceholder=$("#property-images-carousel-placeholder-desktop")),e}function D(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},a;if(w.header=$("#header-full"),w.hiddenFields=$('#booking-form input[type="hidden"]'),w.mainContent=$("#main-content"),w.contentWrapper=$("#content-wrapper"),w.environment={window:$(window),document:$(document),page:$("html, body"),screenWidth:$(window).width(),hash:location.hash.replace(/^#/,"")},w.user={emailAddress:dio.getObjectByName("user.emailAddress",e),phone:dio.getObjectByName("user.phone",e),firstName:dio.getObjectByName("user.firstName",e),lastName:dio.getObjectByName("user.lastName",e),accountId:dio.getObjectByName("user.accountId",e),postCode:dio.getObjectByName("user.postCode",e),countryCode:dio.getObjectByName("user.countryCode",e),smsCountryCode:dio.getObjectByName("user.smsCountryCode",e),segments:dio.getClientData("user.segments"),loyalty:{value:dio.getObjectByName("user.loyalty",e)}},w.sica={$object:$("#sica, #sica-mobile"),ready:{value:$.Deferred()},notSignedInDialUpTogglingContainer:{isOpened:!1,collapsibleArea:$("#sica-dial-up-collapsible-container")},injectionType:{value:"default"},isUserSignedIn:dio.getObjectByName("sica.isUserSignedIn",e)||!1,selectedFlow:O(e),signedIn:{signOutLink:$(".sica-sign-out-link")},flowSelector:{$object:$(".sica-flow-selector-form"),signInButton:$(".sica-sign-in-control-btn"),createAccountButton:$(".sica-create-account-control-btn"),learnMoreLink:$(".sica-flow-selector-form").find('a[target="_blank"]'),loyaltyCardMainMessage:$("#loyalty-card-main-message")},signInForm:{$object:$(".sica-sign-in-form"),fields:{email:{$object:$("#mobile_booking_login_email_addr"),events:["blur"],validation:{stateIndicator:$('[data-for="mobile_booking_login_email_addr"].validation-state-indicator'),stateHolder:$('[data-for="mobile_booking_login_email_addr"].field-container'),messageKeyPrefix:"email",result:null,isForcedToBeValidatedWhenInvisible:!0,rules:r("F_B_34",!0)},tryingAutoComplete:!1,inputTracking:{name:"Account email address"}},password:{$object:$("#mobile_booking_login_passwd"),events:["blur"],validation:{stateIndicator:$('[data-for="mobile_booking_login_passwd"].validation-state-indicator'),stateHolder:$('[data-for="mobile_booking_login_passwd"].field-container'),messageKeyPrefix:"password",result:null,isForcedToBeValidatedWhenInvisible:!0,rules:[{name:"required",analyticsId:"F_B_35_4",stressedStateOnly:!0},{name:"minLength",analyticsId:"F_B_35_1",parameter:6}],allowLeadingAndTrailingSpaces:!0},inputTracking:{name:"Account password"}},rememberMe:$("#sica-remember-me, #sica-remember-me-small-screen")},notification:{$object:$(".sica-sign-in-notification.js-placeholder"),templateName:"hcom.templates.pages.cop.common.messages.generalMessage",injectionType:"inject"},forgottenPasswordLink:$(".sica-forgotten-password-btn"),errorPlaceholder:{$object:$(".sica-sign-in-error.js-placeholder"),templateName:"hcom.templates.pages.cop.common.messages.generalMessage",injectionType:"insert"},submitButton:$(".sica-sign-in-btn"),cancelButton:$(".sica-cancel-sign-in-btn"),protectionWidgetContainer:{$object:$("#sign-in-form-protection-widget"),templateName:"hcom.templates.pages.cop.common.protectionWidget",injectionType:"insert"},validation:{result:null,isInStressedState:!1},isInProcessingState:!1,forceCacheUpdate:!1},forgottenPasswordForm:j("sica"),createAccountForm:{$object:$(".sica-create-account-form"),cancelButton:$(".sica-cancel-create-account-btn"),learnMoreLink:$(".sica-create-account-form").find('a[target="_blank"]'),fields:P("sica"),validation:{result:null,isInStressedState:!1},isInProcessingState:!1},identifiedUser:{$object:$("#identified-user-container"),signInForm:{$object:$(".identified-user-sign-in-form"),fields:{email:dio.getObjectByName("identifiedUser.emailAddressField.value",e),password:{$object:$("#identified_user_mobile_booking_login_passwd"),events:["blur"],validation:{stateIndicator:$('[data-for="identified_user_mobile_booking_login_passwd"].validation-state-indicator'),stateHolder:$('[data-for="identified_user_mobile_booking_login_passwd"].field-container'),messageKeyPrefix:"password",result:null,rules:[{name:"required",analyticsId:"F_B_35_4",stressedStateOnly:!0},{name:"minLength",analyticsId:"F_B_35_1",parameter:6}],allowLeadingAndTrailingSpaces:!0},inputTracking:{name:"Identified user password"}},rememberMe:$("#identified-user-remember-me")},notification:{$object:$(".identified-user-sign-in-notification.js-placeholder"),templateName:"hcom.templates.pages.cop.common.messages.generalMessage",injectionType:"inject"},forgottenPasswordLink:$(".identified-user-forgotten-password-btn"),errorPlaceholder:{$object:$(".identified-user-sign-in-error.js-placeholder"),templateName:"hcom.templates.pages.cop.common.messages.generalMessage",injectionType:"insert"},submitButton:$(".identified-user-sign-in-btn"),cancelButton:$(".identified-user-cancel-sign-in-btn"),protectionWidgetContainer:{$object:$("#identified-user-form-protection-widget"),templateName:"hcom.templates.pages.cop.common.protectionWidget",injectionType:"insert"},validation:{result:null,isInStressedState:!1,isSubmitButtonAlwaysEnabled:dio.getClientData("mvt10286.enableIdentifiedUserCtaByDefault")},isInProcessingState:!1},forgottenPasswordForm:j("identified-user")},accountBenefit:$("#detailed-account-benefit"),loyaltyRewardsDialUp:$(".loyalty-rewards-dial-up")},w.callCenterModule=$("#call-center-module"),w.bookingForm={$object:$("#booking-form"),isBookingFormCollapsed:dio.getObjectByName("baseConfig.isBookingFormCollapsed",e)||!1,fields:{roomDetails:i(e),roomDetailsCollapsed:{templateName:"hcom.templates.pages.cop.bookingForm.roomDetails.roomDetailsCollapsed",$object:$("#room-details-collapsed"),placeholder:$("#room-details-collapsed-placeholder"),expandButton:$("#edit-booking-btn")},paymentDetails:C(e),billingDetails:{$object:$("#billing-details"),hasAddress:dio.getClientData("cop.billingDetails.hasAddress"),country:{$object:$("#billing-details-country"),configurationPath:"billingDetails.countryConfiguration",selectedCountryConfiguration:{value:null},validation:{stateIndicator:$('[data-for="billing-details-country"].validation-state-indicator'),stateHolder:$('[data-for="billing-details-country"].field-container'),messageKeyPrefix:"country",result:null,rules:[{name:"required",analyticsId:"F_B_26_2",stressedStateOnly:!0}]},inputTracking:{name:"Billing Details|Country",uisPrimeFormStartedReferrerId:"CKO.FORM.START.BILLINGCOUNTRY"}},street:{$object:$("#billing-details-street-address"),events:["blur"],validation:{stateIndicator:$('[data-for="billing-details-street-address"].validation-state-indicator'),stateHolder:$('[data-for="billing-details-street-address"].field-container'),messageKeyPrefix:"street",result:null,rules:[{name:"required",analyticsId:"F_B_39_1",stressedStateOnly:!0},{name:"maxLength",analyticsId:"F_B_39_2",parameter:100},{name:"containsOnlyLatin1Chars"}]},inputTracking:{name:"Billing Details|Street",uisPrimeFormStartedReferrerId:"CKO.FORM.START.BILLINGADDRESS1"}},city:{$object:$("#billing-details-city"),events:["blur"],validation:{stateIndicator:$('[data-for="billing-details-city"].validation-state-indicator'),stateHolder:$('[data-for="billing-details-city"].field-container'),messageKeyPrefix:"city",result:null,rules:[{name:"required",analyticsId:"F_B_41_5",stressedStateOnly:!0},{name:"maxLength",analyticsId:"F_B_41_1",parameter:40},{name:"containsOnlyLatin1Chars"}]},inputTracking:{name:"Billing Details|City",uisPrimeFormStartedReferrerId:"CKO.FORM.START.BILLINGCITY"}},state:{$object:$("#billing-details-state"),templateName:"hcom.templates.pages.cop.bookingForm.common.stateField",placeholder:$("#billing-details-state-container"),events:["blur"],label:$('label[for="billing-details-state"]'),field:{name:dio.getClientData("billingDetails.stateField")&&dio.getClientData("billingDetails.stateField").name,id:"billing-details-state"},validation:{stateIndicator:$('[data-for="billing-details-state"].validation-state-indicator'),stateHolder:$('[data-for="billing-details-state"].field-container'),messageKeyPrefix:"state",result:null,rules:[{name:"requiredState",parameter:{nodePath:"bookingForm.fields.billingDetails.country",useCommonErrorMessage:!0},analyticsId:"F_B_42_1",stressedStateOnly:!0},{name:"maxLengthState",analyticsId:"F_B_42_2",parameter:{nodePath:"bookingForm.fields.billingDetails.country",useCommonErrorMessage:!0,maxLength:40}},{name:"containsOnlyAsciiChars"}]},inputTracking:{name:"Billing Details|State",uisPrimeFormStartedReferrerId:"CKO.FORM.START.BILLINGSTATE"}},postCode:{$object:$("#billing-details-post-code"),events:["blur"],label:$('label[for="billing-details-post-code"]'),labelText:{placeholder:$('label[for="billing-details-post-code"] .label-text'),templateName:"hcom.templates.pages.cop.bookingForm.common.postCodeLabelText",injectionType:"inject"},placeholder:$("#billing-details-post-code-container"),validation:{stateIndicator:$('[data-for="billing-details-post-code"].validation-state-indicator'),stateHolder:$('[data-for="billing-details-post-code"].field-container'),messageKeyPrefix:"postCode",result:null,rules:[{name:"conditionalRequired",analyticsId:"F_B_32_3",parameter:"bookingForm.fields.billingDetails.postCode.validation.isRequired",stressedStateOnly:!0},{name:"postCodeMinLength",analyticsId:"F_B_32_4",parameter:"bookingForm.fields.billingDetails.country"},{name:"maxLength",analyticsId:"F_B_32_2",parameter:10},{name:"postCodeValid",parameter:"bookingForm.fields.billingDetails.country"}],isRequired:!1},inputTracking:{name:"Billing Details|Post Code",uisPrimeFormStartedReferrerId:"cko.form.start.billingzipcode"},inputFormatter:{instance:null}}},homeDetails:{$object:$("#home-details"),hasAddress:dio.getClientData("cop.homeDetails.hasAddress"),country:{$object:$("#home-details-country"),configurationPath:"homeDetails.countryConfiguration",selectedCountryConfiguration:{value:null},validation:{stateIndicator:$('[data-for="home-details-country"].validation-state-indicator'),stateHolder:$('[data-for="home-details-country"].field-container'),messageKeyPrefix:"countryHomeAddress",result:null,rules:[{name:"required",analyticsId:"F_B_65_1",stressedStateOnly:!0}]}},street:{$object:$("#home-details-street-address"),events:["blur"],validation:{stateIndicator:$('[data-for="home-details-street-address"].validation-state-indicator'),stateHolder:$('[data-for="home-details-street-address"].field-container'),messageKeyPrefix:"streetHomeAddress",result:null,rules:[{name:"required",analyticsId:"F_B_39_1",stressedStateOnly:!0},{name:"minLength",analyticsId:"F_B_65_3",parameter:2},{name:"maxLength",analyticsId:"F_B_65_2",parameter:255}]},inputTracking:{name:"Home Details|Street"}},city:{$object:$("#home-details-city"),events:["blur"],validation:{stateIndicator:$('[data-for="home-details-city"].validation-state-indicator'),stateHolder:$('[data-for="home-details-city"].field-container'),messageKeyPrefix:"cityHomeAddress",result:null,rules:[{name:"required",analyticsId:"F_B_65_5",stressedStateOnly:!0},{name:"minLength",analyticsId:"F_B_41_2",parameter:2},{name:"maxLength",analyticsId:"F_B_65_4",parameter:255}]},inputTracking:{name:"Home Details|City"}},state:{$object:$("#home-details-state"),templateName:"hcom.templates.pages.cop.bookingForm.common.stateField",placeholder:$("#home-details-state-container"),events:["blur"],label:$('label[for="home-details-state"]'),field:{name:dio.getClientData("homeDetails.stateField")&&dio.getClientData("homeDetails.stateField").name,id:"home-details-state"},validation:{stateIndicator:$('[data-for="home-details-state"].validation-state-indicator'),stateHolder:$('[data-for="home-details-state"].field-container'),messageKeyPrefix:"stateHomeAddress",result:null,rules:[{name:"requiredState",parameter:{nodePath:"bookingForm.fields.homeDetails.country",countriesRequiresState:["CA","AU","US"]},analyticsId:"F_B_65_6",stressedStateOnly:!0},{name:"maxLengthState",analyticsId:"F_B_65_7",parameter:{nodePath:"bookingForm.fields.homeDetails.country",maxLength:255}}]}},postCode:{$object:$("#home-details-post-code"),events:["blur"],label:$('label[for="home-details-post-code"]'),labelText:{placeholder:$('label[for="home-details-post-code"] .label-text'),templateName:"hcom.templates.pages.cop.bookingForm.common.postCodeLabelText",injectionType:"inject"},placeholder:$("#home-details-post-code-container"),validation:{stateIndicator:$('[data-for="home-details-post-code"].validation-state-indicator'),stateHolder:$('[data-for="home-details-post-code"].field-container'),messageKeyPrefix:"postCodeHomeAddress",result:null,rules:[{name:"conditionalRequired",analyticsId:"F_B_32_3",parameter:"bookingForm.fields.homeDetails.postCode.validation.isRequired",stressedStateOnly:!0},{name:"containsOnlyLatin1Chars",analyticsId:"F_B_65_8"},{name:"postCodeMinLength",analyticsId:"F_B_65_9",parameter:"bookingForm.fields.homeDetails.country"},{name:"maxLength",analyticsId:"F_B_65_10",parameter:10},{name:"containsValidZipCodeForUS",analyticsId:"F_B_65_11",parameter:"bookingForm.fields.homeDetails.country"},{name:"containsValidZipCodeForJP",parameter:"bookingForm.fields.homeDetails.country"}],isRequired:!1,minLength:4},inputTracking:{name:"Home Details|Post Code"},inputFormatter:{instance:null}}},travelAgreement:{$object:$("#travel-agreement"),disclaimer:{$object:$("#travel-agreement-disclaimer")},reason:{container:$("#travel-agreement-reason-block"),$object:$("#travel-agreement-reason input"),validation:{stateIndicator:$('[data-for="travel-agreement-reason"].validation-state-indicator'),stateHolder:$('[data-for="travel-agreement-reason"].field-container'),messageKeyPrefix:"travelAgreementReason",result:null,rules:[{name:"required",analyticsId:"F_B_47_1",stressedStateOnly:!0}]}}},taxId:o(e),affiliateField:l(e),contactDetails:S(e),termsOfBooking:{$object:$("#terms-of-booking"),privacyAndTermsDetails:{$object:$("#terms-and-privacy-conditions-container"),templateName:"hcom.templates.pages.cop.bookingForm.cancellationPolicy.privacyAndTermsLink",injectionType:"replace"}},paymentProcessingLocationMessage:$("#payment-processing-location-message"),afrMembershipNumber:{$object:$("#afr-membership-number"),validation:{stateIndicator:$('[data-for="afr-membership-number"].validation-state-indicator'),stateHolder:$('[data-for="afr-membership-number"].field-container'),result:null,rules:[]},inputTracking:{name:"Afr membership number"}},cancellationPolicy:{$object:$("#cancellation-policy-section"),freeCancellationDropdownToggler:{$object:$("#cancellation-policy-section .cancellation-accordion.free-cancellation"),events:["click"]},freeCancellationDropdownTrackingSent:!1,nonRefundableCancellationDropdownTrackingSent:!1,installmentsNoRefundMessage:$("#terms-of-booking .installments-norefund"),agreeCheckbox:s(e),ageCheckbox:{$object:$("#age-consent")},personalInfoCheckbox:{$object:$("#personal-info-consent")},thirdPartyCheckbox:{$object:$("#third-party-consent")},cancellationItems:x(),nonRefCancellationDropdownToggler:{$object:$("#cancellation-policy-section .cancellation-accordion.non-refundable"),events:["click"]}},loyaltyRewardsDialUp:{createAccountPlaceholder:$("#loyalty-rewards-dial-up-create-account-placeholder"),createAccount:$("#loyalty-rewards-dial-up-create-account"),password:{$object:$("#txt_password"),events:["blur"],validation:{stateIndicator:$('[data-for="txt_password"].validation-state-indicator'),stateHolder:$('[data-for="txt_password"].field-container'),messageKeyPrefix:"password",result:null,rules:[{name:"minLength",analyticsId:"F_B_35_1",parameter:6},{name:"minDigitCount",analyticsId:"F_B_35_7",parameter:1}],allowLeadingAndTrailingSpaces:!0},inputTracking:{name:"Loyalty Rewards Password"}},rememberMe:$("#create-account-remember-me")}},validation:{result:null,lastFiveValidationErrors:null,isInStressedState:dio.getObjectByName("isBookingFormInStressedState",e)||!1,hasServerSideError:null,isSubmitButtonAlwaysEnabled:!0,analyticsIdCustomLinkMap:{value:dio.getObjectByName("fieldValidationErrorAnalyticsIdCustomLinkMap",e)}},isInProcessingState:!1,submitButton:$("#book-button"),googlePaySubmitButtonContainer:$("#google-pay-button-container"),bookButtonArea:{$object:$("#book-button-area .button-container"),tooltipContainer:$("#book-button-area .button-tooltip-container")},commonErrorMessage:{templateName:"hcom.templates.pages.cop.common.messages.generalMessage",container:{$object:$(".common-error-message-container")},injectionType:"insert",messageObject:null},forceDuplicate:!1,homeAwayIovation:{iframe:{$object:$("#homeaway-iovation-iframe"),placeholder:$("#homeaway-iovation-iframe-placeholder"),injectionType:"replace",templateName:"hcom.templates.pages.cop.common.offscreenIframe"},input:$("#homeaway-iovation-input"),statusInput:$("#homeaway-iovation-status-input")},protectionWidgetContainer:{$object:$("#booking-form-protection-widget"),templateName:"hcom.templates.pages.cop.common.protectionWidget",injectionType:"insert"},singMessage:{$object:$(".sing-message-container"),configuration:{value:dio.getObjectByName("singMessaging",e)}},additionalPostParameters:{},dontMissPopup:{$object:$("#dont-miss-popup"),closeButton:$("#dont-miss-popup-close-btn"),continueButton:$("#dont-miss-popup-continue-btn"),overlay:$("#dont-miss-popup-overlay-mask")},isRequiredErrorModuleFieldClickedReportSent:!1},w.loyaltyRewardsDialUp={placeholder:$("#loyalty-rewards-dial-up-create-account-placeholder"),templateName:"hcom.templates.pages.cop.bookingForm.loyaltyRewards.createAccountDialUp",injectionType:"insert",createAccount:$("#loyalty-rewards-dial-up-create-account"),fields:P("loyaltyRewardsDialUp"),validation:{result:null,isInStressedState:!1}},w.bookingSummaryAndDiscountsContainer=$("#booking-summary-and-discounts-cont"),w.bookingSummary={$object:$("#booking-summary"),vipvap:{$object:$("#vipvap-placeholder"),templateName:"hcom.templates.pages.cop.bookingForm.vipvap"},financialDetails:{$object:$("#financial-details"),rendered:!0,templateName:"hcom.templates.pages.cop.bookingForm.bookingSummary.financialDetails.financialColumn",hasWidgets:!0,wrapper:$("#financial-details-wrapper"),configuration:{value:null},nightlyPriceBreakdown:k(e),paymentClassMap:{value:{POINTS:"points-payment"}},pricingDetails:{feesBreakdown:{$object:$(".fees-breakdown-with-price-approx"),templateName:"hcom.templates.pages.cop.bookingForm.bookingSummary.financialDetails.multipleTotalPrices.feesBreakdownWithPriceApprox",injectionType:"insert",configuration:{value:null},hasWidgets:!0},dealsAndDiscountsApplied:{removeButton:$("#coupon-code-remove-btn")},taxesAndFees:{configuration:{value:null},$object:$("#taxes-and-fees-row"),templateName:"hcom.templates.pages.cop.bookingForm.bookingSummary.financialDetails.additionalPricingBreakdown.taxesAndFees",injectionType:"replace",hasWidgets:!0},total:$("#financial-details-total-price")},priceChangeMessage:{$object:$(".price-change-message"),injectionType:"insert",placeholder:$(".price-change-message-placeholder"),templateName:"hcom.templates.pages.cop.bookingForm.bookingSummary.priceChangeMessage",defaultValue:dio.getObjectByName("priceChangeMessage",e)}}},w.multipleHotelImages=A(),w.whySignUp={learnMoreLink:$("#detailed-account-benefit-learn-more"),signUpLink:$("#detailed-account-benefit-sign-up-link")},w.dealsAndDiscounts={templateName:"hcom.templates.pages.cop.bookingForm.dealsAndDiscounts.dealsAndDiscounts",hasWidgets:!0,$object:$("#deals-and-discounts"),ready:{value:$.Deferred()},toggleWidget:{$object:$(".deals-and-discounts-toggle"),widgetBody:$(".deals-and-discounts-toggle .widget-toggle-bd")},placeholder:$("#deals-and-discounts"),removeGiftCardMessage:$("#remove-gift-card-message"),discountOptions:{radioButtons:$("#deals-and-discounts .discount-option-radio"),availableOptions:null,couponCodeOption:{$object:$("#coupon-code-container"),form:{$object:$("#coupon-code-form"),couponCodeField:{$object:$("#coupon-code-field"),inputTracking:{name:"Coupon code"}},submitButton:$("#coupon-code-apply-btn"),isInProcessingState:!1},appliedInfo:{$object:$(".coupon-applied-info"),templateName:"hcom.templates.pages.cop.bookingForm.dealsAndDiscounts.couponCodeAppliedInfo",placeholder:$("#coupon-applied-info-placeholder"),injectionType:"insert"},errorMessage:$("#coupon-code-error-message em"),errorTermsAndConditionLink:$("#coupon-code-error-t-and-c"),multiRoomWarning:$("#coupon-code-multi-room-warning"),unitedMilesWarning:$("#coupon-code-airmiles-warning"),appliedCouponCode:null,appliedCouponDetails:null},loyaltyRewardsRedeemOption:{configuration:{value:dio.getObjectByName("dealsAndDiscounts.loyaltyRewards",e)},section:{$object:$("#loyalty-rewards-redeem-container"),templateName:"hcom.templates.pages.cop.bookingForm.dealsAndDiscounts.loyaltyRewardsRedeem.loyaltyRewardsRedeem",placeholder:$("#loyalty-rewards-option-container"),action:"replace"},$object:$("#loyalty-rewards-redeem-container"),form:{$object:$("#loyalty-rewards-redeem-form"),fields:{nightCheckboxes:null},submitButton:$("#loyalty-rewards-apply-btn"),validation:{result:null,isInStressedState:!1},isInProcessingState:!1,state:null},discountOptionNameContainer:$("#loyalty-rewards-redeem-container .discount-option-name-container"),numberOfNightLeftPlaceholder:$("#loyalty-rewards-night-left-placeholder"),loyaltyRewardsRedeemAppliedMessage:{$object:$("#loyalty-rewards-redeem-applied-message-container"),templateName:"hcom.templates.pages.cop.bookingForm.dealsAndDiscounts.loyaltyRewardsRedeem.loyaltyRewardsRedeemAppliedMessage",placeholder:$("#loyalty-rewards-redeem-applied-message-container"),injectionType:"insert",savedValuePlaceholder:$("#loyalty-rewards-saved-value")},pendingCreditsCountText:$("#loyalty-rewards-pending-credits-count-text"),removeButton:$("#loyalty-rewards-remove-button"),radioButton:$("#deals-and-discounts-loyalty-rewards-selector"),cancelButton:$("#loyalty-cancel-btn"),freeNightsApplied:!1,request:null,errorMessage:$("#loyalty-rewards-error-message"),forceCacheUpdate:!1},breakfastUpsell:{$object:$("#breakfast-upsell"),checkbox:$("#breakfast-upsell-chk"),price:$("#breakfast-upsell-price"),errorMessage:$("#breakfast-upsell-error"),isInProcessingState:!1,previousValue:null}},isInProcessingState:!1},w.validation={validators:{value:{}},roomDetailsUniqueNameCache:{value:{last:{values:{}},actual:{}}}},w.requests={signIn:{failed:!1},userDataUpdate:{failed:!1},booking:null},w.tracking={propertyType:dio.getObjectByName("tracking.propertyType",e),inputTrackingOrder:1,formStartedReportSent:!1,uisPrimeformStartedReportSent:!1,sica:{sicaStartedReportSent:!1},dealsAndDiscounts:{lastInvalidCouponCode:"",lastInvalidCouponErrorCode:"",isLoyaltyRewardsApplied:!1},prices:{originalTotalPrice:dio.getObjectByName("tracking.prices.originalTotalPrice",e),discountedTotalPrice:dio.getObjectByName("tracking.prices.discountedTotalPrice",e),depositAmount:dio.getObjectByName("tracking.prices.depositAmount",e),mandatoryFee:dio.getObjectByName("tracking.prices.mandatoryFee",e),mandatoryFeeTooltips:$(".fee-tooltip.widget-tooltip .widget-tooltip-trigger-content"),sentFeeTooltipTrackingIds:{value:[]}},bookingForm:{errors:null,sections:{roomDetails:{$object:$("#room-details"),sectionName:"Room Details"},breakfastUpsell:{$object:$("#breakfast-upsell"),sectionName:"Breakfast"},paymentDetails:{$object:$("#payment-details"),sectionName:"Payment Details"},billingDetails:{$object:$("#billing-details"),sectionName:"Billing Address"},contactDetails:{$object:$("#contact-details"),sectionName:"Your Details"}}},fieldValidationError:null},w.interstitial={$object:$("#interstitial"),placeholder:$("body"),injectionType:"append",templateName:"hcom.templates.pages.cop.bookingForm.common.overlays.interstitial",header:$("#interstitial-header"),redirectText:$("#interstitial-redirect-text"),progressText:$("#interstitial-progress-text"),progressValue:$("#interstitial-progressbar-value")},w.overlayMessage={$object:$("#overlay-message"),placeholder:$("body"),injectionType:"append",templateName:"hcom.templates.pages.cop.bookingForm.common.overlays.overlayMessage",ready:{value:$.Deferred()},overlayInstance:{value:null}},w.securePayment={$object:$("#secure-payment"),templateName:"hcom.templates.pages.cop.bookingForm.paymentDetails.securePayment",placeholder:$("body"),injectionType:"append",active:!1,occured:!1,isChallengeAbandoned:!1,iframe:{$object:$("#secure-payment iframe"),refreshButton:$("#secure-payment .refresh-button"),refreshCount:0,config:null}},w.egSecurePayment={$object:$("#eg-secure-payment"),templateName:"hcom.templates.pages.cop.bookingForm.paymentDetails.egSecurePayment",placeholder:$("body"),injectionType:"append",ThreeDSConnector:null,threeDSChallenge:null,paymentSubmitDeferred:null,paymentSessionId:null,paymentIdentifier:null,overlay:{value:null,iframe:$("#eg-secure-payment-iframe-sandbox"),securePaymentMessageClose:$("#eg-secure-payment-message-close")},isCancellationRequested:!1,secureCardNotice:{$object:$(".eg-secure-payment-notice"),placeholder:$("#eg-secure-payment-notice-large-screen"),placeHolderSmallDevices:$("#eg-secure-payment-notice-small-screen"),templateName:"hcom.templates.pages.cop.bookingForm.paymentDetails.egSecurePaymentNotice",injectionType:"insert"}},w.paymentInitialization={isPaymentInitializationSuccessful:!1},w.hcomRewardsCreditCard={sdkConfig:null},w.hcomRewardsCreditCardCtaModule={$object:$("#hcc-module"),placeholder:$("#hcc-cta-placeholder"),templateName:"hcom.templates.modules.hcc.bookingFormHccCtaModule",injectionType:"insert"},w.cache={value:{}},w.externalLinks=$(".external-link"),w.affiliates={affiliateReauthIframe:$("#affiliate-reauth iframe")},w.asideProgressOverlay={$object:$("#aside-progress-overlay"),message:$("#aside-progress-message")},w.stepIndicators=N(),w.modules=L(),w.uisPrime={libraryScriptTag:$("#uis-prime-library")},e.insurance&&(w.insurance=R()),w.cvvRequiredOverlay=T(),w.traderInformationButton=$("#trader-information-trigger"),dio.getObjectByName("pricingDetails.mandatoryFeesBreakdown.mandatoryFees",dio.getClientData("financialDetails"))){var t=w.bookingSummary.financialDetails.pricingDetails,n=$("#fees-breakdown");t.mandatoryFeesBreakdown={$object:n,templateName:"hcom.templates.pages.cop.bookingForm.bookingSummary.financialDetails.oneTotalPrice.mandatoryFeesBreakdown",injectionType:"insert",configuration:{value:null},hasWidgets:!0,mandatoryFeesToggle:{$object:$("#mandatory-fees-widget-wrapper-toggle"),firstExpandReportSent:!1}}}dio.getClientData("bookingSummary.financialDetails.isGrandTotalShown")&&(w.bookingSummary.financialDetails.grandTotalPrice={$object:$("#financial-details-grand-total-price"),templateName:"hcom.templates.pages.cop.bookingForm.bookingSummary.financialDetails.oneTotalPrice.priceDisplay",injectionType:"insert",configuration:{value:{amount:null,isNonBillable:null}}}),w.discover(),B(dio.getObjectByName("dealsAndDiscounts.loyaltyRewards.redeemableNights",e))}var w=e("LiveState"),M={CREDITCARD:t,NOCREDITCARD:n,GIFTCARD:u,GOOGLEWALLET:p,GOOGLEPAY:g,APPLEPAY:y,POINTS:I,KLARNA:v,KLARNA_PAY_NOW:v,KLARNA_PAY_LATER:v},K={ANA:{rules:[{name:"containsOnlyNumbers",analyticsId:"F_B_43_108"},{name:"minLength",analyticsId:"F_B_43_6",parameter:10},{name:"maxLength",analyticsId:"F_B_43_6",parameter:10},{name:"isPassingANAChecksum",analyticsId:"F_B_43_7"}],messageKeyPrefix:"ana"},JAL:{rules:[{name:"containsOnlyNumbers",analyticsId:"F_B_43_1"},{name:"maxLength",analyticsId:"F_B_43_104",parameter:9}],messageKeyPrefix:"jal"},"4TRAVEL":{rules:[{name:"minLength",analyticsId:"F_B_43_106",parameter:2},{name:"maxLength",analyticsId:"F_B_43_107",parameter:25},{name:"containsOnly4TravelCompliantChars",analyticsId:"F_B_43_105"}],messageKeyPrefix:"4travel"},ASIA_MILES:{rules:[{name:"containsOnlyNumbers",analyticsId:"F_B_43_11"},{name:"minLength",analyticsId:"F_B_43_12",parameter:10},{name:"maxLength",analyticsId:"F_B_43_12",parameter:10},{name:"isPassingASIAChecksum",analyticsId:"F_B_43_13"}],messageKeyPrefix:"asiaMiles"},KOREAN_AIR:{rules:[{name:"minLength",analyticsId:"F_B_43_15",parameter:10},{name:"maxLength",analyticsId:"F_B_43_15",parameter:12},{name:"isPassingKOREANChecksum",analyticsId:"F_B_43_16"}],messageKeyPrefix:"koreanAir"},PHOENIX_MILES:{rules:[{name:"minLength",analyticsId:"F_B_43_18",parameter:11},{name:"maxLength",analyticsId:"F_B_43_18",parameter:14},{name:"isPassingPhoenixMilesChecksum",analyticsId:"F_B_43_19"}],messageKeyPrefix:"phoenixMiles"},MYER_ONE:{rules:[{name:"minLength",analyticsId:"F_B_43_21",parameter:13},{name:"maxLength",analyticsId:"F_B_43_21",parameter:16},{name:"isPassingMyerOneChecksum",analyticsId:"F_B_43_22"}],messageKeyPrefix:"myerOne"},EUROBONUS:{rules:[{name:"maxLength",analyticsId:"F_B_43_23",parameter:12},{name:"alphaNumeric",analyticsId:"F_B_43_24"},{name:"isEuroBonusFormat",analyticsId:"F_B_43_25"},{name:"luhnCheck",analyticsId:"F_B_43_26"}],messageKeyPrefix:"eurobonus"},TUDO_AZUL:{rules:[{name:"minLength",analyticsId:"F_B_43_27",parameter:14},{name:"maxLength",analyticsId:"F_B_43_28",parameter:14},{name:"isPassingCPFChecksum",analyticsId:"F_B_43_29"}],messageKeyPrefix:"tudoAzul",isMasked:!0},MILEAGEPLUS:{rules:[{name:"maxLength",analyticsId:"F_B_43_30",parameter:11},{name:"alphaNumeric",analyticsId:"F_B_43_31"},{name:"isPassingMileagePlusChecksum",analyticsId:"F_B_43_32",ignorable:!0}],messageKeyPrefix:"mileageplus"},AVIANCA:{rules:[{name:"minLength",analyticsId:"F_B_43_33",parameter:14},{name:"maxLength",analyticsId:"F_B_43_34",parameter:14},{name:"isPassingCPFChecksum",analyticsId:"F_B_43_35"}],messageKeyPrefix:"avianca",isMasked:!0},DOTZ:{rules:[{name:"minLength",analyticsId:"F_B_43_36",parameter:14},{name:"maxLength",analyticsId:"F_B_43_37",parameter:14},{name:"isPassingCPFChecksum",analyticsId:"F_B_43_38"}],messageKeyPrefix:"dotz",isMasked:!0},CEA:{rules:[{name:"minLength",analyticsId:"F_B_43_39",parameter:12},{name:"maxLength",analyticsId:"F_B_43_40",parameter:12},{name:"isPassingCEAChecksum",analyticsId:"F_B_43_41"}],messageKeyPrefix:"cea"},CHINA_REWARDS:{rules:[{name:"minLength",analyticsId:"F_B_43_42",parameter:11},{name:"maxLength",analyticsId:"F_B_43_43",parameter:11},{name:"containsOnlyNumbers",analyticsId:"F_B_43_44"},{name:"isChinaRewardsFormat",analyticsId:"F_B_43_45"}],messageKeyPrefix:"chinarewards"},HAPPY_GO:{rules:[{name:"minLength",analyticsId:"F_B_43_46",parameter:10},{name:"maxLength",analyticsId:"F_B_43_47",parameter:10},{name:"isHappyGoFormat",analyticsId:"F_B_43_48"}],messageKeyPrefix:"happygo"},FAR_EAST_TONE:{rules:[{name:"minLength",analyticsId:"F_B_43_49",parameter:10},{name:"maxLength",analyticsId:"F_B_43_50",parameter:10},{name:"isFETFormat",analyticsId:"F_B_43_51"}],messageKeyPrefix:"fet"},AEROPLAN:{rules:[{name:"minLength",analyticsId:"F_B_43_52",parameter:9},{name:"maxLength",analyticsId:"F_B_43_53",parameter:9},{name:"isPassingAeroplanChecksum",analyticsId:"F_B_43_54"}],messageKeyPrefix:"aeroplan"},SKYMILES:{rules:[{name:"containsOnlyNumbers",analyticsId:"F_B_43_58"},{name:"minLength",analyticsId:"F_B_43_59",parameter:10},{name:"maxLength",analyticsId:"F_B_43_59",parameter:10}],messageKeyPrefix:"skymiles"},CASHPOINTS:{rules:[{name:"minLength",analyticsId:"F_B_43_60",parameter:8},{name:"maxLength",analyticsId:"F_B_43_60",parameter:10},{name:"isPassingCashPointsChecksum",analyticsId:"F_B_43_61"}],messageKeyPrefix:"cashpoints"},AVIOS:{rules:[{name:"minLength",analyticsId:"F_B_43_62",parameter:8},{name:"maxLength",analyticsId:"F_B_43_62",parameter:16},{name:"isAviosFormat",analyticsId:"F_B_43_63"},{name:"required",analyticsId:"F_B_43_77",stressedStateOnly:!0}],messageKeyPrefix:"avios"},LIFEMILES:{rules:[{name:"minLength",analyticsId:"F_B_43_67",parameter:2},{name:"maxLength",analyticsId:"F_B_43_68",parameter:11},{name:"isPassingLifeMilesChecksum",analyticsId:"F_B_43_69"}],messageKeyPrefix:"lifemiles"},LIFESTYLESREWARD:{rules:[{name:"maxLength",analyticsId:"F_B_43_65",parameter:64},{name:"isLifestylesRewardFormat",analyticsId:"F_B_43_66"}],messageKeyPrefix:"lifestylesReward"},MULTIPLUS:{rules:[{name:"required",analyticsId:"F_B_43_70",stressedStateOnly:!0},{name:"isPassingMultiplusChecksum",analyticsId:"F_B_43_71"}],messageKeyPrefix:"multiplus"},LIVELO:{rules:[{name:"required",analyticsId:"F_B_43_72",stressedStateOnly:!0},{name:"isPassingLiveloChecksum",analyticsId:"F_B_43_73"}],messageKeyPrefix:"livelo"},MILESANDMORE:{rules:[{name:"containsOnlyNumbers",analyticsId:"F_B_43_74"},{name:"minLength",analyticsId:"F_B_43_76",parameter:15},{name:"maxLength",analyticsId:"F_B_43_75",parameter:15}],messageKeyPrefix:"milesandmore"},HAINAN:{rules:[{name:"minLength",analyticsId:"F_B_43_78",parameter:10},{name:"maxLength",analyticsId:"F_B_43_79",parameter:10},{name:"isPassingFortuneWingsClubChecksum",analyticsId:"F_B_43_80"}],messageKeyPrefix:"fortuneWingsClub"},REWARDU:{rules:[{name:"isPassingRewardUChecksum",analyticsId:"F_B_43_81"}],messageKeyPrefix:"rewardu"},SUMA:{rules:[{name:"minLength",analyticsId:"F_B_43_82",parameter:10},{name:"maxLength",analyticsId:"F_B_43_83",parameter:10},{name:"isAirEuropaFormat",analyticsId:"F_B_43_84"},{name:"luhnCheck",analyticsId:"F_B_43_85"}],messageKeyPrefix:"suma"},BOLBOL:{rules:[{name:"isPegasusFormat",analyticsId:"F_B_43_86"}],messageKeyPrefix:"bolbol"},CATHAYMILES:{rules:[{name:"minLength",analyticsId:"F_B_43_87",parameter:10},{name:"maxLength",analyticsId:"F_B_43_88",parameter:10},{name:"containsOnlyNumbers",analyticsId:"F_B_43_89"}],messageKeyPrefix:"cathayMiles"},CARREFOUR:{rules:[{name:"required",analyticsId:"F_B_43_90",stressedStateOnly:!0},{name:"minLength",analyticsId:"F_B_43_91",parameter:13},{name:"maxLength",analyticsId:"F_B_43_92",parameter:13},{name:"containsOnlyNumbers",analyticsId:"F_B_43_93"},{name:"isCarrefourFormat",analyticsId:"F_B_43_94"}],messageKeyPrefix:"carrefour"},CPF:{rules:[{name:"required",analyticsId:"F_B_43_95",stressedStateOnly:!0},{name:"minLength",analyticsId:"F_B_43_96",parameter:11},{name:"maxLength",analyticsId:"F_B_43_97",parameter:11},{name:"containsOnlyNumbers",analyticsId:"F_B_43_98"},{name:"isCpfFormat",analyticsId:"F_B_43_99"}],messageKeyPrefix:"cpf"},TAP_AIRLINES:{rules:[{name:"required",analyticsId:"F_B_43_100",stressedStateOnly:!0},{name:"minLength",analyticsId:"F_B_43_101",parameter:11},{name:"maxLength",analyticsId:"F_B_43_102",parameter:11},{name:"isTapAirlinesFormat",analyticsId:"F_B_43_103"}],messageKeyPrefix:"tap"},BASIC:{rules:[{name:"required",analyticsId:"F_B_43_104",stressedStateOnly:!0}],messageKeyPrefix:"basic"},ASIANA:{rules:[{name:"required",analyticsId:"F_B_43_105",stressedStateOnly:!0},{name:"minLength",analyticsId:"F_B_43_106",parameter:9},{name:"maxLength",analyticsId:"F_B_43_107",parameter:9},{name:"isAsianaAirlinesFormat",analyticsId:"F_B_43_108"}],messageKeyPrefix:"asiana"},SK_TELECOM:{rules:[{name:"required",analyticsId:"F_B_43_109",stressedStateOnly:!0}],messageKeyPrefix:"sk_telecom"}};a.exports={build:D,buildPointsOptionsWrappersMap:_,buildLoyaltyRewardsNightCheckboxes:B}});
/*! pages/cop/booking-form/common/templates/template-injector.js*/
"use strict";dio.di.define("TemplateInjector",function(e,t){function a(e){dio.widget.Tooltip(),dio.widget.PopOut(),dio.widget.Toggle({cont:e}),g.externalLinks.rebind()}function i(e){var t=dio.getClientData("baseConfig.showSica"),i=g.sica.getDOM(),a=t?i.filter(":visible"):i.first();r(g.sica,e,a,"hcom.templates.pages.cop.bookingForm.sica.notSignedIn"),g.sica.flowSelector.rebind(),g.sica.signInForm.rebind(),e.sicaData.createAccount&&g.sica.createAccountForm.rebind(),g.sica.forgottenPasswordForm.rebind(),g.sica.loyaltyRewardsDialUp.rebind(),g.sica.identifiedUser.rebind()}function o(e){var t={user:e,signOutURL:dio.getClientData("sica.signOutURL"),showSignOutLink:dio.getClientData("sica.showSignOutLink"),protectionData:dio.getClientData("protectionData"),loyaltyRewardsConfig:dio.getClientData("loyaltyRewardsConfig")},i=g.sica.getDOM().filter(":visible");r(g.sica,t,i,"hcom.templates.pages.cop.bookingForm.sica.signedIn"),g.sica.signedIn.rebind(),a(i)}function n(e){dio.template.call("hcom.templates.pages.cop.bookingForm.bookButtonArea.bookButtonTooltip",{data:e,placeholder:g.bookingForm.bookButtonArea.tooltipContainer.getDOM()})}function l(e){var t=g.sica.signInForm.forceCacheUpdate.get();if(m.savedCardSelector.getDOM().is(":empty")||t){var i=e.map(function(e){return{value:e.id,selected:e.selected,label:e.nickname}});i.unshift({selected:!1,label:dio.i18n("fastbooking.storedPayment.pay_with_new_card"),value:"new"}),dio.template.call("hcom.templates.pages.cop.common.formElements.options",{data:{optionList:i},placeholder:m.savedCardSelector.getDOM()}),m.savedCardSelector.rebind()}}function c(e){dio.template.call("hcom.templates.pages.cop.bookingForm.callCenterModule.callCenterModule",{data:e,placeholder:g.callCenterModule.getDOM(),action:"replace"})}function d(e){dio.template.call("hcom.templates.pages.cop.bookingForm.loyaltyRewards.loyaltyCardDialUp",{data:e,placeholder:g.sica.loyaltyRewardsDialUp.getDOM(),action:"replace"}),g.sica.loyaltyRewardsDialUp.rebind()}function s(e){dio.template.call("hcom.templates.pages.cop.bookingForm.sica.identifiedUser",{data:{identifiedUser:e,signInData:dio.getClientData("sica.signIn"),forgottenPasswordData:dio.getClientData("sica.forgottenPassword"),baseConfig:dio.getClientData("baseConfig"),loyaltyRewardsConfig:dio.getClientData("loyaltyRewardsConfig")},placeholder:g.sica.identifiedUser.getDOM(),action:"replace"}),g.sica.identifiedUser.rebind()}function r(e,t,i,a){p.render(e,t,i,a)}var g=e("LiveState"),p=e("TemplateRenderer"),m=g.bookingForm.fields.paymentDetails.CREDITCARD;t.exports={injectNotSignedInTemplates:i,injectSignedInTemplate:o,injectBookButtonTooltip:n,injectSavedCards:l,injectCallCenterModule:c,injectLoyaltyRewardsDialUp:d,injectIdentifiedUser:s,render:r}});
/*! pages/cop/booking-form/common/server-error-processor.js*/
"use strict";dio.di.define("ServerErrorProcessor",function(r,e){function o(r){if(r&&r.errors){var e=r.errors.globalErrors,o=r.errors.fieldErrors;if(e&&0<e.length)return e[0].value;if(o&&0<o.length)return o[0].value}}e.exports={getServerOrFieldError:o}});
/*! pages/cop/booking-form/common/overlays/aside-progress-overlay-service.js*/
"use strict";dio.di.define("AsideProgressOverlayService",function(e,s){function i(e){t.asideProgressOverlay.message.set(e),o.showElement(t.asideProgressOverlay)}function r(){o.hideElement(t.asideProgressOverlay)}var t=e("LiveState"),o=e("UtilityService");s.exports={show:i,hide:r}});
/*! pages/cop/booking-form/dio.widget.popout.js*/
"use strict";!function(){var e={classes:{selector:".widget-popout"},popOutDefaults:{height:600,width:600,toolbar:0,scrollbars:1,status:0,resizable:1,left:0,top:0,center:1,fullscreen:0,href:"",name:"popout"}};dio.addWidget("PopOut",dio.Widget,{bindUI:function e(){var t,o=this.conf.classes.selector,s=$(o);this.event(s,"on","click",this.popout)},popout:function e(t){var o=t.target,s,i,r=void 0!==window.screenLeft?window.screenLeft:window.screenX,n=void 0!==window.screenTop?window.screenTop:window.screenY;if("a"!==o.tagName.toLowerCase()&&"button"!==o.tagName.toLowerCase()&&!(o=$(o).parents("a:first").get(0)))return!1;s=[",toolbar=",(i=this.getSettings(o)).toolbar,",scrollbars=",i.scrollbars,",status=",i.status,",resizable=",i.resizable],1===i.fullscreen?(s.push(",height="+screen.height),s.push(",width="+screen.width),s.push(",left="+r),s.push(",top="+n),i.center=0,i.top=0,i.left=0):(s.push(",height="+i.height),s.push(",width="+i.width)),0!==i.top||0!==i.left?(s.push(",top="+(n+i.top)),s.push(",left="+(r+i.left))):1===i.center&&(s.push(",top="+(screen.height-i.height)/2),s.push(",left="+(r+(screen.width-i.width)/2))),"#"!==o.href&&this.open(o.href?o.href:i.href,i.name,s.join("")),t.preventDefault()},open:function e(t,o,s){var i=window.open(t,o,s);i&&i.focus()},getSettings:function e(t){var o=this.conf.popOutDefaults,s,i={},r;if(!t)return o;for(r in s=$(t).data(),o)o.hasOwnProperty(r)&&(i[r]=void 0!==s[r]?s[r]:o[r]);return i}},e),dio.widget.PopOut()}();
/*! pages/cop/booking-form/booking-request-polling-service.js*/
"use strict";dio.di.define("BookingRequestPollingService",function(t,e){function i(t){if(t.requestCount>=u.retryLimit)return t.limitReachedCallback(),t.abortPolledRequest(),r(t),void 0;t.promise=$.ajax(d).always(o.bind(null,t)),t.requestCoutingStarted&&t.requestCount++}function o(t,e){var i=e.bookingProcessStatusData&&e.bookingProcessStatusData.confirmationUri;i?c.redirectTo(window,i):"abort"!==e.statusText&&a(t)}function a(t){t.timer=setTimeout(function(){i(t)},u.periodMillisec)}function n(t){var e={requestCount:0,requestCoutingStarted:!1,abortPolledRequest:t.abortPolledRequest,limitReachedCallback:t.limitReachedCallback};return a(e),{cancel:r.bind(null,e),startRequestCounting:function t(){e.requestCoutingStarted=!0}}}function r(t){clearTimeout(t.timer),t.promise&&t.promise.abort()}var u=dio.getClientData("bookingProcessPolling"),l=dio.getClientData("baseConfig.uuid"),s=dio.getClientData("baseConfig.clientToken"),c=t("UtilityService"),d={url:u.url,data:{uuid:l},dataType:"json",type:"POST"};d.data[s.name]=s.value,e.exports={startPolling:n}});
/*! pages/cop/booking-form/booking-service.js*/
"use strict";dio.di.define("BookingService",function(e,a){function r(e){m.handleServerFieldErrors(y.bookingForm,e),m.handleServerFieldErrors(y.sica.createAccountForm,e),m.handleServerFieldErrors(y.loyaltyRewardsDialUp,e)}function t(e){v.render(M.commonErrorMessage,D.createGeneralErrorData({message:e.description,isFullWideOnXS:!0}),M.commonErrorMessage.container.getDOM()),e.unexpectedException?S.set({errorType:"unexpectedException"},!0):e.communicationException?S.set({errorType:"communicationException"},!0):e.lockedLoyaltyException?S.set({errorType:"lockedLoyaltyException"},!0):e.loyaltyRedeemedException&&S.set({errorType:"loyaltyRedeemedException"},!0),k.scrollTo(0)}function o(){M.commonErrorMessage.container.getDOM().empty()}function n(a){function e(e){return e.addClass("cta-processing"),S.set({errorType:"hotelNotAvailable",errorData:a},!0),T(a.lastSearchUrl),!1}var r=dio.getClientData("overlayServiceMessages.backToSearch"),t=dio.getClientData("baseConfig.brandName");h.show({data:{type:"soldOut",id:"hotel-sold-out",brandName:t,soldOutMessage:a.soldOutMessage},buttons:{ok:{className:"cta",label:r,callback:e},close:!1}})}function i(e,a){var r={default:{data:{type:"default",differenceMessage:a.differenceMessage,newPriceMessage:a.newPriceMessage,titleMessage:a.titleMessage},buttons:{ok:{className:"cta",callback:function e(){return c(a)}},close:!1}},priceIncrease:{data:{type:"priceIncrease",id:"hotel-price-increase"},buttons:{ok:{label:dio.getClientData("overlayServiceMessages.completeBooking")},cancel:{className:"cta cta-link",label:dio.getClientData("overlayServiceMessages.cancelBooking"),callback:function e(){return l(a)}}}},priceIncreaseAfterChallenge:{data:{type:"priceIncrease",id:"hotel-price-increase"},buttons:{ok:{label:dio.getClientData("overlayServiceMessages.completeBooking"),callback:function e(){return d(a)}},cancel:{className:"cta cta-link",label:dio.getClientData("overlayServiceMessages.cancelBooking"),callback:function e(){return l(a)}}}},priceDecreaseAfterChallenge:{data:{type:"priceDecrease",id:"hotel-price-decrease"},buttons:{ok:{label:dio.getClientData("overlayServiceMessages.continueBooking"),callback:function e(){return d(a)}}}},priceDecrease:{data:{type:"priceDecrease",id:"hotel-price-decrease"},buttons:{ok:{label:dio.getClientData("overlayServiceMessages.continueBooking")}}},priceIncreaseReload:{data:{type:"priceIncreaseReload",id:"hotel-price-increase"},buttons:{ok:{label:dio.getClientData("overlayServiceMessages.updatePayment"),callback:function e(){return s(a)}},cancel:{className:"cta cta-link",label:dio.getClientData("overlayServiceMessages.cancelBooking"),callback:function e(){return l(a)}}}},priceDecreaseReload:{data:{type:"priceDecreaseReload",id:"hotel-price-decrease"},buttons:{ok:{label:dio.getClientData("overlayServiceMessages.updatePayment"),callback:function e(){return s(a)}}}},priceIncreaseCoupon:{data:{type:"priceIncreaseCoupon",id:"hotel-price-increase"},buttons:{ok:{label:dio.getClientData("overlayServiceMessages.continueBooking"),callback:$.noop}}},priceDecreaseCoupon:{data:{type:"priceDecreaseCoupon",id:"hotel-price-decrease"},buttons:{ok:{label:dio.getClientData("overlayServiceMessages.continueBooking"),callback:$.noop}}}},t=r[e]||{};return $.extend(!0,{},r.default,t)}function c(e){return S.set({errorType:"priceChangeAccepted",errorData:e},!0),E(),h.hide(),!1}function l(e){return S.set({errorType:"priceChangeCancelled",errorData:e},!0),T(e.priceRisenCancelUrl),!1}function s(e){return S.set({errorType:"priceChangeAccepted",errorData:e},!0),T(dio.getClientData("baseConfig.initialBookingFormGetUrl")),!1}function d(e){return S.set({errorType:"priceChangeAccepted",errorData:e},!0),C.updatePaymentDetails({totalPaymentAmount:e.newFormattedPrice}),h.hide(),E(),!1}function u(e,a){var r=i(e,a);h.show(r)}function p(e){function a(){M.forceDuplicate.set(e.forceDuplicateKey),E(),h.hide()}function r(){return T(e.cancelBookingUrl),!1}var t=dio.getClientData("overlayServiceMessages.duplicateCompleteBooking"),o=dio.getClientData("overlayServiceMessages.duplicateCancelBooking");e.id="duplicate-booking",e.type="duplicateBooking",e.brandName=dio.getClientData("baseConfig.brandName"),S.set({errorType:"duplicateBooking"}),h.show({data:e,buttons:{ok:{className:"cta",label:t,callback:a},cancel:{className:"cta cta-link",label:o,callback:r},close:!1}})}function g(a){var e=y.affiliates.affiliateReauthIframe;h.show({data:{type:"iframeWidget",id:"affiliate-reauth",title:a.overlayTitle,iframeUrl:a.reauthPageUrl},anim:0,escToClose:!0,clickMaskToClose:!0}),e.rebind(),e.removeHandler("load"),e.onDOMEvent("load",function(e){return f(a.authCodeUpdateUrl,e)})}function f(e,a){var r=a.domEvent.target.contentWindow.location,t=k.urlToObject(r.href),o=JSON.stringify(t.query),n;-1!==r.href.indexOf(e)&&o&&$.ajax({url:e,method:"POST",contentType:"application/json",data:o}).always(function(){return h.hide()}).done(E).fail(b)}function b(){y.bookingForm.commonErrorMessage.messageObject.set({description:dio.i18n("fastbooking.error.generalloginerror")})}var y=e("LiveState"),m=e("FormService"),k=e("UtilityService"),v=e("TemplateRenderer"),h=e("OverlayService"),C=e("PaymentService"),D=e("GeneralErrorDataBuilder"),M=y.bookingForm,S=y.tracking.bookingForm.errors,E=dio.debounce(function(){return M.triggerDOMEvent("submit")},100),T=dio.debounce(function(e){return k.redirectTo(window,e)},100);a.exports={setServerErrorOnFields:r,handleCommonErrorMessage:t,resetCommonErrorMessage:o,showHotelNotAvailableError:n,showPriceChangeError:u,showDuplicateError:p,showAffiliateSessionError:g}});
/*! pages/cop/booking-form/booking-form-controller.js*/
"use strict";dio.di.define("BookingFormController",function(e){function s(){var e=m.decodeJqRequestState(arguments);u.requests.booking.set(e)}function i(){p.setPaymentInitializationState(!1)}function t(e){e.domEvent.preventDefault(),d.isFormValid(k)&&(v.prepareForTurningProcessingStateOn().done(function(){return d.turnProcessingStateOn(k)}),m.disableKey(A),v.prepareForSubmit().done(o).fail(function(e){d.turnProcessingStateOff(k),m.enableKey(A),e&&k.commonErrorMessage.messageObject.set({description:e})}))}function n(){var e=dio.getClientData("baseConfig.bookingFormActionURL"),t=dio.getClientData("bookingProcessPolling.bookingTimeoutMillisec"),o,i,n={url:e,dataType:"json",type:"POST",data:b.build(),traditional:!0,beforeSend:s,timeout:t};if(p.isPaymentInitializationSuccessful()){var a,r={"Booking-Form-Id":dio.getClientData("baseConfig.paymentInitializationData.bookingFormId")};Object.assign(n,{headers:r})}return n}function a(){window.hcombookingWidgetReset&&window.hcombookingWidgetReset()}function o(){dio.getClientData("homeAwayIovation")&&r();var e=n(),t=$.ajax(e).always(s).always(i()).always(function(){return m.enableKey(A)}).done(function(e){o.cancel(),E.process(e),v.processBookingSubmissionResponse(e)}).fail(function(){return o.startRequestCounting()}).always(a),o=y.startPolling({abortPolledRequest:t.abort,limitReachedCallback:E.processFailure})}function r(){var e=u.bookingForm.homeAwayIovation.statusInput,t=e.get(),o=dio.cop.homeAway.iovation.statuses,i=o.STATUS_WAITING_FOR_IFRAME,n=o.STATUS_WAITING_FOR_MESSAGE,a=o.STATUS_FAILED_TO_LOAD_IFRAME,r=o.STATUS_NO_MESSAGE_SENT,s=o.STATUS_EMPTY_MESSAGE_SENT,l=o.STATUS_UNEXPECTED_ERROR,c;t!==o.STATUS_SUCCESS&&t!==s&&(t===i?e.set(a):t===n?e.set(r):e.set(l))}function l(e){var t=$(e.domEvent.currentTarget);S.show({clickMaskToClose:!0,data:{type:"iframeWidget",title:t.attr("data-title"),iframeUrl:t.attr("href")},anim:0}),e.domEvent.preventDefault()}function c(e){var t=e.element.get();t?f.handleCommonErrorMessage(t):f.resetCommonErrorMessage()}function g(){v.init(),T.registerForm(k),m.disableKey(D,k.getDOM()),k.onDOMEvent("submit",t),m.putToCache("initialValues",[k.fields.billingDetails.country,k.fields.billingDetails.postCode,k.fields.paymentDetails.CREDITCARD.creditCardType]),dio.widget.Toggle({cont:u.mainContent.getDOM()}),dio.getClientData("baseConfig.showExternalLinksInOverlay")&&u.externalLinks.onDOMEvent("click",l),v.prepareForDisplay(),k.commonErrorMessage.messageObject.onChange(c),C.init()}var u=e("LiveState"),d=e("FormService"),m=e("UtilityService"),S=e("OverlayService"),f=e("BookingService"),T=e("CommonFormController"),b=e("BookingRequestBuilder"),C=e("SingMessageController"),E=e("BookingResponseProcessor"),v=e("PaymentDetailsController"),y=e("BookingRequestPollingService"),p=e("PaymentInitializationService"),k=u.bookingForm,D=13,A=27;g()});
/*! pages/cop/booking-form/booking-session-builder.js*/
"use strict";dio.di.define("BookingSessionBuilder",function(e,n){function o(){d.hiddenFields.rebind();var i={},e=d.hiddenFields.getDOM(),n=dio.getClientData("dealsAndDiscounts.coupon.couponInputField.name"),o=d.bookingForm.forceDuplicate.get(),t=d.dealsAndDiscounts.discountOptions.couponCodeOption.appliedCouponCode.get();return e&&e.each(function(e,n){var o=$(n);i[o.attr("name")]=o.attr("value")}),o&&(i[o]=!0),n&&t&&(i[n]=t),i}var d=e("LiveState");n.exports={getBookingSession:o}});
/*! pages/cop/booking-form/booking-request-builder.js*/
"use strict";dio.di.define("BookingRequestBuilder",function(e,t){function a(){var e=$.extend({},B.getBookingSession());return n(e),i(e),l(e),m(e),b(e),P(e),I(e),h(e),k(e),N(e),R(e),F(e),w(e),O(e),S(e),x(e),L(e),e}function o(e,t){var a=2<arguments.length&&void 0!==arguments[2]&&arguments[2],n=e.getDOM();if(n){var i=n.attr("name");!i&&1<n.length&&n.each(function(){return!(i=$(this).attr("name"))});var r=a?E.maskify(e):e.get();if(i){t[i]="string"==typeof r?$.trim(r):r;var o=dio.getClientData("sica.createAccount.passwordField.name")===i&&dio.getClientData("sica.createAccount.confirmPasswordField.name"),s=dio.getClientData("createAccount.passwordField.name")===i&&dio.getClientData("createAccount.confirmPasswordField.name");o&&(t[dio.getClientData("sica.createAccount.confirmPasswordField.name")]=t[i]),s&&(t[dio.getClientData("createAccount.confirmPasswordField.name")]=t[i])}}}function n(e){var t=T.sica.createAccountForm.fields;T.sica.selectedFlow.get()===V&&E.isFormValid(T.sica.createAccountForm)&&(o(t.email,e),o(t.password,e),o(t.rememberMe,e))}function i(e){for(var t=0;t<dio.getClientData("numberOfRooms");t++){var a=U.roomDetails["room"+t];o(a.mainGuest.firstName,e),o(a.mainGuest.lastName,e),o(a.bedType,e),o(a.smokingPref,e),r(a,t,e),s(a,t,e)}}function r(t,e,a){var n=dio.getClientData("roomDetails.rooms");n&&n[e]&&n[e].otherGuests&&$.each(n[e].otherGuests,function(e){o(t["otherGuest"+e].fullName,a)})}function s(e,t,a){var n=dio.getClientData("roomDetails.rooms");if(o(e.specialRequest,a,!0),n&&n[t]){if(n[t].selectableAccessibilitiesCount)for(var i=0;i<n[t].selectableAccessibilitiesCount;i++)o(e["accessibility"+i],a);if(n[t].specialRequestOmniturePrefixes)for(var r=0;r<n[t].specialRequestOmniturePrefixes.length;r++)o(e.specialRequests["request"+(r+1)],a)}}function l(e){o(T.dealsAndDiscounts.discountOptions.breakfastUpsell.checkbox,e)}function m(n){n.payments=[],$.each(U.paymentDetails.selectedPayments.get(),function(e,t){var a=Y[W=t];a?n.payments.push(a()):n.payments.push(c())}),g(n),d(n)}function d(n){var i=U.paymentDetails.configuration.get().postParameterNamePrefix;$.each(n.payments,function(a,e){$.each(e,function(e,t){n[i+"["+a+"]."+e]=t})}),delete n.payments}function c(){var e=U.paymentDetails,t=e.selectedPaymentConfig.get(),a=t.postParameters,n={};return n[a.paymentIdentifier.name]=a.paymentIdentifier.value,n[a.paymentAmount.name]=a.paymentAmount.value,a.bankCode&&(t.redirectShowBankSelector?n[a.bankCode.name]=e[t.id].bankSelector.get():n[a.bankCode.name]=a.bankCode.value),n}function u(){var e=U.paymentDetails.CREDITCARD,t=$.isArray(e.configuration.get().savedCards),a=e.selectedSavedCard.get(),n=t&&!a,i=t&&a&&"EXPIRED"===a.state,r=e.configuration.get().postParameters,o=U.billingDetails.postCode.getDOM(),s=o&&o.is(":visible"),l={};return l[r.paymentIdentifier.name]=e.creditCardType.get(),l[r.paymentAmount.name]=r.paymentAmount.value,l[r.securityCode.name]=e.securityCode.get(),l[r.country.name]=U.billingDetails.country.get(),l[r.postalCode.name]=s?U.billingDetails.postCode.get():"",l[r.cardLiability.name]=e.binService.cardLiability.get(),U.billingDetails.hasAddress.get()&&(l[r.streetAddress.name]=U.billingDetails.street.get(),l[r.city.name]=U.billingDetails.city.get(),l[r.state.name]=U.billingDetails.state.get()),e.installments.option.get()&&(l[r.installments.name]=e.installments.option.get()),e.configuration.get().installments&&e.configuration.get().installments.bankName&&(l[r.installmentsBankName.name]=e.configuration.get().installments.bankName),U.taxId.get()&&(l[r.taxId.name]=U.taxId.get().toString().toUpperCase()),(!t||n||i)&&(l[r.bankIdentificationNumber.name]=q.getCreditCardBin(e.creditCardNumber.get()),l[r.cardNumber.name]=e.creditCardNumber.get(),l[r.expiryMonth.name]=e.expiryDate.expiryMonth.get(),l[r.expiryYear.name]=e.expiryDate.expiryYear.get()),t&&!n||(l[r.firstName.name]=e.firstName.get(),l[r.lastName.name]=e.lastName.get()),g(l),f(l),l}function g(e){var t,a=U.paymentDetails.CREDITCARD.configuration.get().postParameters,n=T.securePayment.isChallengeAbandoned.get();a.challengeAbandoned&&T.securePayment.occured.get()&&n&&(e[a.challengeAbandoned.name]=n)}function f(e){var t=U.paymentDetails.CREDITCARD,a=t.configuration.get().postParameters;if($.isArray(t.configuration.get().savedCards))if(e[a.savedCard.name]=t.savedCardSelector.get(),t.selectedSavedCard.get())e[a.paymentIdentifier.name]=t.selectedSavedCard.get().cardType;else{var n=t.selectedCreditCard.get(),i=n&&n.isCreditCardStorable;if(i){var r=void 0,o=dio.getClientData("cop.mvt6544.saveCardCheckboxLogicReversed")&&i,s=t.saveCardCheckbox.get();(o&&!s||!o&&s)&&(r="true"),(e[a.saveCardSelected.name]=r)&&(e[a.saveCardNickName.name]=t.savedCardNickname.get())}}}function p(){var e=U.paymentDetails.GOOGLEWALLET,t=e.configuration.get()&&e.configuration.get().postParameters,a={};return t&&(a[t.paymentIdentifier.name]=t.paymentIdentifier.value,a[t.cardNumber.name]=e.cardNumber.get(),a[t.securityCode.name]=e.securityCode.get(),a[t.walletDescription.name]=e.card.get(),a[t.fullWalletJwt.name]=e.fullWalletJwt.get(),a[t.paymentAmount.name]=t.paymentAmount.value),a}function y(){var e=U.paymentDetails.GOOGLEPAY,t=U.contactDetails,a=e.configuration.get()&&e.configuration.get().postParameters,n={};if(a){n[a.paymentAmount.name]=a.paymentAmount.value;var i=e.paymentDataResponse,r=i.token.get();r&&(n[a.paymentIdentifier.name]=e.selectedCard.get()&&e.selectedCard.get().id,n[a.firstName.name]=i.firstName.get(),n[a.lastName.name]=i.lastName.get(),n[a.country.name]=i.countryCode.get(),n[a.postalCode.name]=i.postCode.get(),n[a.token.name]=r,t.updateBillingDetails.field.set(!1))}return n}function C(){var e=U.paymentDetails.APPLEPAY,t=U.contactDetails,a=e.configuration.get()&&e.configuration.get().postParameters,n={};if(a){var i=e.result.get();n[a.paymentIdentifier.name]=e.selectedCard.get()&&e.selectedCard.get().id,n[a.paymentAmount.name]=a.paymentAmount.value,i&&(n[a.firstName.name]=i.firstName,n[a.lastName.name]=i.lastName,n[a.country.name]=i.countryCode,n[a.postalCode.name]=i.postalCode,n[a.token.name]=i.token,t.email.set(i.emailAddress),t.phone.set(i.phoneNumber),t.updateBillingDetails.field.set(!1))}return n}function v(){var e=T.giftCard,t=U.paymentDetails.GIFTCARD.configuration.get(),a=t&&t.postParameters,n={};return $.isEmptyObject(e.applied.get())||(n[a.paymentIdentifier.name]=a.paymentIdentifier.value,n[a.giftCardNumber.name]=e.checkBalanceForm.fields.giftCardNumber.get(),n[a.giftCardPinCode.name]=e.checkBalanceForm.fields.giftCardPin.get(),n[a.paymentAmount.name]=e.applied.get().appliedAmount.unformattedValue,n[a.initialGiftCardBalance.name]=e.applied.get().initialGiftCardBalance.unformattedValue),n}function D(){var e=U.paymentDetails.POINTS.configuration.get(),t=e&&e.postParameters,a={};return t&&(a[t.paymentIdentifier.name]=t.paymentIdentifier.value,a[t.paymentAmount.name]=t.paymentAmount.value,e.isPointsUserLoggedIn&&(a[t.points.name]=t.points.value,a[t.pointsAmount.name]=t.pointsAmount.value,a[t.virtualCurrency.name]=t.virtualCurrency.value,a[t.rateId.name]=t.rateId.value,a[t.fraudSessionId.name]=t.fraudSessionId.value,a[t.exchangeRate.name]=t.exchangeRate.value,a[t.memberId.name]=t.memberId.value)),a}function A(e){var t=U.paymentDetails[e],a=t.configuration.get(),n=a&&a.postParameters,i={};return n&&(i[n.paymentIdentifier.name]=n.paymentIdentifier.value,i[n.paymentAmount.name]=n.paymentAmount.value,i[n.token.name]=t.authorizationToken.get()),i}function b(e){U.paymentDetails.selectedPaymentConfig.get().isAffiliateFieldHidden||o(U.affiliateField,e)}function P(e){var t=T.bookingForm.fields.travelAgreement;o(t.reason,e),dio.getClientData("travelAgreement.sendDisclaimerValue")&&o(t.disclaimer,e)}function I(e){var t=U.contactDetails;o(t.email,e),o(t.phone,e),o(t.newsletter.field,e),t.phoneCountryCode.get()&&o(t.phoneCountryCode,e),t.travelerId.get()&&o(t.travelerId,e),t.updateBillingDetails.field.get()&&o(t.updateBillingDetails.field,e)}function h(e){var t=T.bookingForm.fields.homeDetails;t.getDOM()&&(o(t.country,e),o(t.street,e),o(t.city,e),o(t.state,e),o(t.postCode,e))}function k(e){o(U.afrMembershipNumber,e)}function N(e){o(U.cancellationPolicy.agreeCheckbox,e)}function R(e){var t=dio.getClientData("trustWidget");if(t){var a=t.payloadRequestParameterName,n=window.trustApi.getTrustPayload&&"function"==typeof window.trustApi.getTrustPayload&&window.trustApi.getTrustPayload();n&&(e[a]=n)}}function F(e){dio.getClientData("protectionData")&&E.serializeDOM(T.bookingForm.protectionWidgetContainer,e)}function w(e){var t=T.dealsAndDiscounts.discountOptions.loyaltyRewardsRedeemOption;t.freeNightsApplied.get()&&$.extend(e,t.request.get())}function O(e){var t=T.loyaltyRewardsDialUp;dio.getClientData("loyaltyRewardsConfig.loyaltyDialUpEnabled")&&E.isFormValid(t)&&(o(t.fields.password,e),o(t.fields.rememberMe,e))}function S(e){var t=G.getMarketingCloudVisitorID();t&&(e[t.key]=t.value)}function x(e){var t=T.insurance,a=t&&t.selectedInsurance.get();if(a){var n=dio.getClientData("requestInfo.currency"),i=a.price.find(function(e){var t=e.currencyCode;return n===t})||a.price[0],r={insRecId:a.insRecId,insuranceId:a.insuranceId,currency:i.currencyCode,amount:i.amount};Object.assign(e,M.flattenObject(r,"insuranceFormData"))}}function L(e){var t,a=T.bookingForm.additionalPostParameters.get();a&&a.skipPriceChangeValidation&&(e[a.skipPriceChangeValidation.name]=a.skipPriceChangeValidation.value),e.ajax="true",e.forceCacheUpdate=T.sica.signInForm.forceCacheUpdate.get()}var T=e("LiveState"),B=e("BookingSessionBuilder"),E=e("FormService"),G=e("SiteCatalystService"),M=e("UtilityService"),q=e("CardBinService"),V=dio.cop.sica.selectedFlow.createAccount,U=T.bookingForm.fields,Y={CREDITCARD:u,GOOGLEPAY:y,GOOGLEWALLET:p,APPLEPAY:C,GIFTCARD:v,POINTS:D,KLARNA:function e(){return A(W)},KLARNA_PAY_NOW:function e(){return A(W)},KLARNA_PAY_LATER:function e(){return A(W)}},W=void 0;t.exports={build:a}});
/*! pages/cop/booking-form/booking-response-processor.js*/
"use strict";dio.di.define("BookingResponseProcessor",function(e,r){function a(){l.resetField(d.bookingForm.fields.paymentDetails.CREDITCARD.securityCode),l.showAllValidationResults(d.bookingForm)}function o(){d.bookingForm.fields.contactDetails.newsletter.visibilityStatusTrigger.set(!0,!0)}function n(e){switch(o(),!0){case!$.isEmptyObject(e.hotelNotAvailableError):p.showHotelNotAvailableError(e.hotelNotAvailableError);break;case!$.isEmptyObject(e.priceChangeError)&&"RISE"===e.priceChangeError.priceChangeType:p.showPriceChangeError("priceIncrease",e.priceChangeError);break;case!$.isEmptyObject(e.priceChangeError)&&"DROP"===e.priceChangeError.priceChangeType:p.showPriceChangeError("priceDecrease",e.priceChangeError);break;case!$.isEmptyObject(e.priceChangeError)&&"RISE_RELOAD"===e.priceChangeError.priceChangeType:p.showPriceChangeError("priceIncreaseReload",e.priceChangeError);break;case!$.isEmptyObject(e.priceChangeError)&&"DROP_RELOAD"===e.priceChangeError.priceChangeType:p.showPriceChangeError("priceDecreaseReload",e.priceChangeError);break;case!$.isEmptyObject(e.duplicateBookingError):p.showDuplicateError(e.duplicateBookingError);break;case!!e.affiliateSessionExpiredError:p.showAffiliateSessionError(e.affiliateSessionExpiredError)}e.commonErrorMessage&&(d.bookingForm.commonErrorMessage.messageObject.set(e.commonErrorMessage),a()),e.fieldErrors&&$.isEmptyObject(e.priceChangeError)&&$.isEmptyObject(e.duplicateBookingError)&&(p.setServerErrorOnFields(e.fieldErrors),a())}function s(e){var r=e.replace(/[^0-9.]/g,"");return parseFloat(r).toFixed(2)}function c(e){var r=d.bookingForm.protectionWidgetContainer;m.render(r,{protectionWidgetData:e},r.getDOM(),"hcom.templates.pages.cop.common.protectionWidget")}function i(e){var r=e.data,o=d.bookingForm.fields.paymentDetails.CREDITCARD.configuration;if(r.redirectionUrl){var i=d.giftCard&&d.giftCard.applied.get(),t=i&&i.appliedAmount?s(i.appliedAmount.unformattedValue):"0.00";g.setCookie("GiftCardAmout",t),g.redirectTo(window,r.redirectionUrl)}else{if(r.errors&&r.errors.sessionExpiredException)return d.bookingForm.getDOM().get(0).submit(),void 0;l.turnProcessingStateOff(d.bookingForm),r.errors?n(r.errors):d.bookingForm.commonErrorMessage.messageObject.set(void 0),r.iframe&&(d.securePayment.iframe.config.set(r.iframe,!0),a()),r.threeDsChallenge&&d.egSecurePayment.threeDSChallenge.set(r.threeDsChallenge,!0),dio.getClientData("protectionData")&&r.protectionData&&(r.protectionData.bookingFormWidget?c(r.protectionData.bookingFormWidget):r.protectionData.atoshieldWidget&&r.protectionData.atoshieldWidget.booking&&c({protectionWidget:r.protectionData.atoshieldWidget.booking})),r.savedCards&&o.set($.extend({},o.get(),{savedCards:r.savedCards})),r.discountDetail&&(r.errors=void 0,E.processLoyaltyRewardsUpdateResponse(e)),r.hiddenFields&&g.updateHiddenFields(r.hiddenFields)}}function t(){var e=dio.getClientData("baseConfig.showSica")?"fastbooking.localPayment.paymentsite.callback.error.booking_not_found.brand":"fastbooking.localPayment.paymentsite.callback.error.booking_not_found.no_account.brand";d.bookingForm.commonErrorMessage.messageObject.set({description:dio.i18n(e,dio.getClientData("baseConfig.brandName")),communicationError:!0}),a(),l.turnProcessingStateOff(d.bookingForm)}var g=e("UtilityService"),d=e("LiveState"),p=e("BookingService"),l=e("FormService"),m=e("TemplateRenderer"),E=e("DealsAndDiscountsResponseProcessor");r.exports={process:i,processFailure:t}});
/*! pages/cop/booking-form/resume-order-request-builder.js*/
"use strict";dio.di.define("ResumeOrderRequestBuilder",function(e,r){function i(e){var r=dio.cop.bookingForm.threeDs.RESUME_ORDER_REQUEST_TIMEOUT,i=e.resumeOrderUrl,s=e.isAbandonRequested,t=void 0!==s&&s,d={url:i,type:"GET",timeout:r};if(t){var o={data:{abandonIfPossible:t}};Object.assign(d,o)}return d}r.exports={buildResumeOrderRequest:i}});
/*! pages/cop/booking-form/resume-order-response-processor.js*/
"use strict";dio.di.define("ResumeOrderResponseProcessor",function(e,r){function o(e){var r=e.data,o=r.errorMessage,a=r.redirectionUrl,i=r.hotelNotAvailableError,t=r.priceChangeError,n=r.additionalPostParameters;t&&c(t),i&&g.showHotelNotAvailableError(i),o&&d(o),a&&l.redirectTo(window,a),n&&s(n)}function s(e){var r=a.bookingForm;r.additionalPostParameters.get()?r.additionalPostParameters=dio.mix({},r.additionalPostParameters.get(),e):r.additionalPostParameters.set(e)}function c(e){var r=e.priceChangeType,o=void 0;"RISE"===r?o="priceIncreaseAfterChallenge":"DROP"===r&&(o="priceDecreaseAfterChallenge"),g.showPriceChangeError(o,e)}function d(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:i;a.bookingForm.commonErrorMessage.messageObject.set({description:e})}var a=e("LiveState"),l=e("UtilityService"),g=e("BookingService"),i=dio.i18n("fastbooking.localPayment.paymentsite.callback.error.booking_not_found.no_account.brand");r.exports={process:o,showResumeOrderErrorMessage:d}});
/*! pages/cop/booking-form/trust-widget-controller.js*/
"use strict";dio.di.define("TrustWidgetController",function(){function i(){var i=dio.getClientData("trustWidget");if(i){var t=i.clientConfiguration;window.trustApi={clientConfiguration:t},dio.require(i.libraryUrl)}}i()});
/*! pages/cop/booking-form/booking-visitorid-cookie-cloner.js*/
"use strict";dio.di.define("BookingVisitorIdCookieCloner",function(i){function o(i){var o=t.getCookieValue(i),e;o&&(e='"'+o+'"',t.setCookie(i+"_quote",e))}function e(){o("s_vi")}var t=i("UtilityService");e()});
/*! pages/cop/booking-form/cancellation-accordion/cancellation-accordion-controller.js*/
"use strict";dio.di.define("CancellationAccordionController",function(o){function e(o){for(var e=i.bookingForm.fields.cancellationPolicy.cancellationItems,n=0;n<o;n++)e["room"+n].toggleButton.onDOMEvent("click",t.bind(null,n))}function t(o){var e=i.bookingForm.fields.cancellationPolicy.cancellationItems["room"+o],n=e.isOpened.get();e.isOpened.set(!n),e.container.getDOM().toggleClass(l,!n),e.toggleButton.getDOM().prop("aria-expanded",!n),e.content.getDOM().slideToggle(230)}function n(){var o;e(dio.getClientData("numberOfRooms"))}var i=o("LiveState"),l=dio.cop.general.states.OPEN;n()});
/*! pages/cop/booking-form/common/tracking/kickbox-tracker.js*/
"use strict";dio.di.define("KickboxTracker",function(i){function e(i){l.sendPartialReport({eVar33:i},null,null,!1,!0)}function t(){e(s.get())}function a(){c.isInWarningState.get()?(e(c.analyticsId.get()),s.set("Kickbox email undeliverable")):s.set("Kickbox email valid")}function n(){o.bookingForm.onDOMEvent("submit",t),c.lastSubmittedEmail.onChange(a),s.set("Kickbox Null")}var l=i("SiteCatalystService"),o=i("LiveState"),c=o.bookingForm.fields.contactDetails.email,s=c.trackMessage;dio.getClientData("emailValidationModel")&&n()});
/*! pages/cop/booking-form/contact-details/kickbox-email-validator-controller.js*/
"use strict";dio.di.define("KickboxEmailValidatorController",function(t){function e(t){c.warningIsClosed.set(!0),d.handleCloseClick(t)}function i(t){c.isInWarningState.set(t),c.warningIsClosed.set(!t)}function n(){var t=c.kickboxAjaxRequest.get();t&&"pending"===t.state()&&t.abort()}function a(){var t=void 0;c.validation.result.get().valid?(t=$.trim(c.get()),c.lastSubmittedEmail.get()!==t&&(c.warningIsClosed.set(!0),c.isInWarningState.set(!1),c.isInProgressState.set(!0),n(),s(t),c.lastSubmittedEmail.set(t))):(c.isInProgressState.set(!1),c.isInWarningState.set(!1),c.warningIsClosed.set(!0),n()),d.updateViewBasedOnState()}function s(t){var e=c.kickboxAjaxRequest;e.set($.ajax(r.buildKickboxServiceRequest(t))),e.get().always(function(){c.isInProgressState.set(!1)}).done(function(t){i(!0!==t.emailAddressValid)}).fail($.noop).always(function(){d.updateViewBasedOnState()})}function o(){dio.getClientData("emailValidationModel")&&(c.onDOMEvent("blur",function(){setTimeout(a,100)}),c.kickboxValidation.stateIndicatorClose.onDOMEvent("click",e))}var l=t("LiveState"),r=t("KickboxServiceRequestBuilder"),d=t("KickboxServiceStateHandler"),c=l.bookingForm.fields.contactDetails.email;o()});
/*! pages/cop/booking-form/contact-details/kickbox-service-request-builder.js*/
"use strict";dio.di.define("KickboxServiceRequestBuilder",function(e,i){function t(e){return{url:dio.getClientData("emailValidationModel.url"),cache:!0,type:"POST",contentType:"application/json",dataType:"json",timeout:dio.getClientData("emailValidationModel.timeout"),data:JSON.stringify({emailAddress:e})}}i.exports={buildKickboxServiceRequest:t}});
/*! pages/cop/booking-form/contact-details/kickbox-service-state-handler.js*/
"use strict";dio.di.define("KickboxServiceStateHandler",function(t,e){function a(t){r.render(c,{message:dio.i18n("fastbooking.kickboxWarning.formData.contactDetails.emailAddress"),indicatedId:v,isClosable:t},c.kickboxValidation.stateIndicator.getDOM(),"hcom.templates.pages.cop.common.formElements.kickboxStateIndicator"),t&&c.kickboxValidation.stateIndicatorClose.rebind(),c.kickboxValidation.stateIndicator.rebind()}function s(){a(!0),c.validation.stateHolder.getDOM().removeClass(k).addClass(m)}function d(){a(!1),c.validation.stateHolder.getDOM().removeClass(m).addClass(k)}function l(){c.validation.stateHolder.getDOM().removeClass(m+" "+k)}function i(){var t=c.validation.stateHolder.getDOM().hasClass(k),e=c.validation.stateHolder.getDOM().hasClass(m),a=c.isInProgressState.get(),i=c.isInWarningState.get(),o=c.warningIsClosed.get(),n=c.validation.result.get().valid;a&&!t?d():!i||e||o?(!n||o&&!a)&&l():s()}function o(t){i(),t.domEvent.preventDefault()}var n=t("LiveState"),r=t("TemplateRenderer"),c=n.bookingForm.fields.contactDetails.email,g=dio.cop.contactDetails.kickBoxValidation,k=g.inProgressClass,m=g.warningClass,v=g.indicatedId;e.exports={updateViewBasedOnState:i,handleCloseClick:o}});
/*! pages/cop/booking-form/booking-form-collapsed-controller.js*/
"use strict";dio.di.define("BookingFormCollapsedController",function(e,o){function t(e){var o=e.element.get();r.contentWrapper.getDOM().toggleClass("collapsed",o),a(),n(),i(o)}function i(e){var o=c&&c.getDOM(),t=1<p.value.length;if(o&&t){var i=u.APPLEPAY,a=i&&i.isAvailable.get(),n=u.GOOGLEPAY,s=n&&n.isAvailable.get(),l,r;if(o.removeClass(D),o.removeClass(f),e)a||s||o.addClass(D);else if(3===p.value.length)i&&!a&&(n&&!s)&&o.addClass(D)}}function a(){m.render(d,{roomDetails:v,userData:{emailAddress:r.user.emailAddress.get(),phone:r.user.phone.get(),firstName:r.user.firstName.get(),lastName:r.user.lastName.get()}})}function n(){r.bookingForm.fields.contactDetails.newsletter.visibilityStatusTrigger.set(!0,!0)}function s(){r.bookingForm.isBookingFormCollapsed.set(!1)}function l(){r.bookingForm.isBookingFormCollapsed.onChange(t),d.expandButton.onDOMEvent("click",s),u.CREDITCARD.expandButton.onDOMEvent("click",s),r.bookingForm.validation.hasServerSideError.onChange(s,null,g.isTruthy),r.bookingForm.commonErrorMessage.messageObject.onChange(s,null,g.isTruthy)}var r=e("LiveState"),g=e("LiveStateFilters"),m=e("TemplateRenderer"),d=r.bookingForm.fields.roomDetailsCollapsed,u=r.bookingForm.fields.paymentDetails,c=u.paymentOptionsList,p=u.availablePayments,v=dio.getClientData("mainRoomDetails"),D=dio.cop.payments.JS_HIDDEN_OPTIONS_LIST,f=dio.cop.general.states.HIDDEN;l(),o.exports={hidePaymentOptionsList:i}});
/*! pages/cop/booking-form/common/tracking/booking-form-collapsed-tracker.js*/
"use strict";dio.di.define("BookingFormCollapsedTracker",function(e){function n(){s.sendPartialReport({},"event85","Edit your booking details")}function o(){s.sendPartialReport({},"event84","Pay using another method")}function t(){a.bookingForm.isBookingFormCollapsed.get()&&s.sendPartialReport({},"event83","Saved Card Impression")}function i(){a.bookingForm.fields.roomDetailsCollapsed.expandButton.onDOMEvent("click",n),a.bookingForm.fields.paymentDetails.CREDITCARD.expandButton.onDOMEvent("click",o),a.sica.isUserSignedIn.onChange(t,null,r.isTruthy)}var a=e("LiveState"),r=e("LiveStateFilters"),s=e("SiteCatalystService");i()});
/*! pages/cop/booking-form/common/tracking/room-details-tracker.js*/
"use strict";dio.di.define("RoomDetailsTracker",function(e){function o(e){var i=e.value,t=e.element.omniturePrefix.get(),o=i?" clicked":" unticked";a.sendPartialReport({eVar33:t+o,prop33:t+o})}function i(){for(var e=dio.getClientData("numberOfRooms"),i=0;i<e;i++){var t=r.bookingForm.fields.roomDetails["room"+i].specialRequests;t&&t.onChange(o,"children")}}var r=e("LiveState"),a=e("SiteCatalystService");i()});
/*! pages/cop/booking-form/common/tracking/room-details-toggle-button-tracker.js*/
"use strict";dio.di.define("RoomDetailsToggleButtonTracker",function(e){function o(){for(var r=dio.getClientData("numberOfRooms"),e=function e(i){var o=function e(){var o="Room "+(i+1)+"/"+r+" clicked";t.sendPartialReport({eVar33:o},"",o,!1,!0),dio.event.unsubscribe("nightly-price-breakdown-room-"+i+":show:Toggle",e)};dio.event.subscribe("nightly-price-breakdown-room-"+i+":show:Toggle",o)},o=0;o<r;o++)e(o)}var t=e("SiteCatalystService");o()});
/*! pages/cop/booking-form/common/tracking/mandatory-fee-tracker.js*/
"use strict";dio.di.define("MandatoryFeeTracker",function(e,t){function i(e,t){dio.event.publish("OneStream",{isDioEvent:!0,schema:e,params:t})}function n(){var e=dio.getClientData("mandatoryFeeCategoryIds");e&&i("genericImpression",{eventName:"priceBreakdownFeesSeen",eventType:"impression",impressionCategory:"priceBreakdown",isTemporary:!1,contextData:{feesLoadedIds:e.join(","),numberOfFees:e.length.toString()}})}function r(e){var t=s.getPageName(),n=e.domEvent.currentTarget.dataset.categoryId;n&&!a.tracking.prices.sentFeeTooltipTrackingIds.get().includes(n)&&(s.sendPartialReport({pageName:t,eVar33:"BF | fee_hovered_"+n},null,"Fee Tooltip Hovered"),i("genericImpression",{eventName:"feeTooltipSeen",eventType:"impression",impressionCategory:"priceBreakdown",isTemporary:!1,contextData:{feeSeenId:n}}),a.tracking.prices.sentFeeTooltipTrackingIds.get().push(n))}function o(){n(),a.tracking.prices.mandatoryFeeTooltips.onDOMEvent(["click","touchstart","mouseover"],r)}var a=e("LiveState"),s=e("SiteCatalystService");t.exports={init:o}}),$(function(){window.commonDataBlock&&dio.di.require("MandatoryFeeTracker").init()});
/*! pages/cop/booking-form/sing-message-controller.js*/
"use strict";dio.di.define("SingMessageController",function(e,i){function n(){var e=s.bookingForm.singMessage,i=e.configuration.get();i&&(new dio.widget.Urgency({target:e.getDOM(),messages:['<div class="'+a[i.messageType]+'">'+i.message+"</div>"]}),e.getDOM().find(".widget-urgency").addClass(g[i.messageStyle]))}var s=e("LiveState"),g={NOTICE:"bg-warning bdc-warning",ASSURANCE:"bg-assurance bdc-assurance"},a={VISITOR_COUNT:"with-large-icon icon-others",ROOMS_LEFT:"with-large-icon icon-clock_icon"};i.exports={init:n}});
/*! pages/cop/booking-form/booking-form-step-indicators-controller.js*/
"use strict";dio.di.define("BookingFormStepIndicatorsController",function(e){function n(e){e?a.render(o.paymentDetails,{stepNumberDesktop:3,stepNumberMobile:4,titleKey:dio.getClientData("paymentDetailsHeaderTitle")}):a.render(o.paymentDetails,{stepNumberDesktop:2,stepNumberMobile:3,titleKey:dio.getClientData("paymentDetailsHeaderTitle")})}function t(){i.bookingForm.fields.contactDetails.isVisible.onChange(function(e){var t=e.previousValue,i=e.value;t!==i&&n(i)})}var i=e("LiveState"),a=e("TemplateRenderer"),o=i.stepIndicators;t()});
/*! pages/cop/booking-form/booking-form-homeaway-iovation-controller.js*/
"use strict";dio.di.define("BookingFormHomeAwayIovationController",function(o){var r=o("LiveState"),e=o("TemplateRenderer"),m=r.bookingForm.homeAwayIovation.statusInput,v=r.bookingForm.homeAwayIovation.input,d=dio.getClientData("homeAwayIovationIframeUrlOrigin"),i=dio.getClientData("homeAwayIovationIframeUrlParams"),s=dio.cop.homeAway.iovation.providerType,n=dio.cop.homeAway.iovation.statuses,t=n.STATUS_WAITING_FOR_IFRAME,A=n.STATUS_WAITING_FOR_MESSAGE,S=n.STATUS_EMPTY_MESSAGE_SENT,g=n.STATUS_SUCCESS,a=function o(e){var i=e.domEvent,n=$.extend({},i);if(!n.origin&&n.originalEvent&&(n=n.originalEvent),n.origin===d){var t=n.data,a=t.providerType;m.set(A),t&&a===s&&(v.set(JSON.stringify(t)),m.set(g),r.environment.window.removeHandler("message",o)),a||m.set(S)}},I=function o(){m.set(t),r.environment.window.onDOMEvent("message",a),e.render(r.bookingForm.homeAwayIovation.iframe,{id:"homeaway-iovation-iframe",src:""+d+i})},T;(function o(){dio.getClientData("homeAwayIovation")&&I()})()});
/*! pages/cop/booking-form/insurance/insurance-request-builder.js*/
"use strict";dio.di.define("InsuranceRequestBuilder",function(e,t){function n(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{},u={url:e,method:"POST",dataType:"json",timeout:2e4,traditional:!0};return Object.assign({},u,n,{data:t})}function u(){var e=r.build();return n(a.applyUrl,e)}function i(){var e=r.build();return n(a.removeUrl,e)}var r=e("BookingRequestBuilder"),a=dio.getClientData("insurance");t.exports={buildRequest:n,buildApplyInsuranceCostRequest:u,buildRemoveInsuranceCostRequest:i}});
/*! pages/cop/booking-form/insurance/insurance-widget.js*/
"use strict";var _slicedToArray=function(){function t(r,e){var t=[],n=!0,i=!1,o=void 0;try{for(var a=r[Symbol.iterator](),u;!(n=(u=a.next()).done)&&(t.push(u.value),!e||t.length!==e);n=!0);}catch(r){i=!0,o=r}finally{try{!n&&a.return&&a.return()}finally{if(i)throw o}}return t}return function(r,e){if(Array.isArray(r))return r;if(Symbol.iterator in Object(r))return t(r,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();dio.di.define("InsuranceWidget",function(r,e){function o(i,o,r){return o=$.extend(!0,{},o),Object.assign(i,{updateAmount:function r(e){var t,n=_slicedToArray(o.tripComponents,1)[0];n.price.amount!==e&&(n.price.amount=e,i.update(o))},setDisabled:function r(e){i.update({disabled:e})},headerTitle:r})}function t(){return a.libraryPromise.get()||a.libraryPromise.set(dio.require(c)),a.libraryPromise.get()}function n(n){var i=$.Deferred();return t().then(function(){return s(function(){var t=window.InsModule.initCheckout(Object.assign({},n,{brand:d,onLoaded:function r(e){i.resolve(o(t,n.data,e&&e.headerTitle))}}))})}).fail(function(){n.onError&&n.onError(),i.reject()}),i}var i,a=r("LiveState").insurance,u,c=(dio.getClientData("insurance")||{}).libraryUrl,d=dio.cop.insurance.widget.BRAND_ID,s=window.requestIdleCallback||window.requestAnimationFrame;e.exports={createWidget:n}});
/*! pages/cop/booking-form/insurance/insurance-service.js*/
"use strict";dio.di.define("InsuranceService",function(e,n){function r(e){return!!e&&!/^none$/i.test(e.insuranceId)}function t(e){var n=e.data,r=e.errors;return r?$.Deferred().reject(r):n}function s(){var e,n=o.selectedInsurance.get()?c():i();return $.ajax(n).then(t)}var u=e("LiveState"),a=e("InsuranceRequestBuilder"),c=a.buildApplyInsuranceCostRequest,i=a.buildRemoveInsuranceCostRequest,o=u.insurance;n.exports={isInsuranceSelected:r,toggleInsuranceCost:s,normalizeToggleInsuranceCostResponse:t}});
/*! pages/cop/booking-form/insurance/insurance-tracker.js*/
"use strict";dio.di.define("InsuranceTracker",function(e,n){function i(e,n){dio.event.publish("OneStream",{isDioEvent:!0,schema:e,params:n},{defer:!0})}function s(e){i("genericImpression",{eventType:"impression",eventName:e?"collapsedInsuranceModuleSeen":"expandedInsuranceModuleSeen",impressionCategory:"insuranceModule",isTemporary:!1})}function t(e){p({eVar33:"Insurance - "+(e?"Yes":"No"),prop33:"D=v33"},"","Booking Form Progression")}function a(){p({},"","Insurance - T and C's Clicked")}function r(){u&&!u.tracking.showDetailsSent.get()&&(p({},"","Insurance - Show Details"),u.tracking.showDetailsSent.set(!0))}function o(){u&&!u.tracking.hideDetailsSent.get()&&(p({},"","Insurance - Hide Details"),u.tracking.hideDetailsSent.set(!0))}function c(){i("genericImpression",{eventType:"impression",eventName:"insuranceModuleFailedToLoad",impressionCategory:"insuranceModule",isTemporary:!1}),p({},"event301","Insurance Widget Failure")}var d,u=e("LiveState").insurance,l,p=e("SiteCatalystService").sendPartialReport;n.exports={sendInsuranceOptIn:t,sendTNCClick:a,sendWidgetShowDetailsClick:r,sendWidgetHideDetailsClick:o,sendWidgetFailure:c,sendWidgetModuleSeen:s}});
/*! pages/cop/booking-form/insurance/insurance-controller.js*/
"use strict";dio.di.define("InsuranceController",function(e,n){function i(e){var n=e.paymentConfigurations,i=e.paymentDetails,t=e.discountDetail.financialDetails,a=e.hiddenFields;m.bookingSummary.financialDetails.configuration.set({financialDetails:t}),a&&D.updateHiddenFields(a),n&&S.updatePaymentConfigurations(n),i&&S.updatePaymentDetails(i),m.giftCard&&!$.isEmptyObject(m.giftCard.applied.get())&&m.giftCard.summaryForm.changeAmountLink.triggerDOMEvent("click")}function t(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};e.commonErrorMessage&&C.handleCommonErrorMessage(e.commonErrorMessage)}function a(e){k.isInProcessingState.set(e),y.setDisabled(e),e?b.show(dio.i18n("fastbooking.insurance."+(v.isInsuranceSelected(k.selectedInsurance.get())?"applying":"removing"))):b.hide();var n=m.dealsAndDiscounts.discountOptions.breakfastUpsell.checkbox.getDOM();n&&n.prop("disabled",e)}function s(){a(!0),v.toggleInsuranceCost().then(i).fail(t).always(function(){a(!1)})}function o(){var e,n=m.bookingSummary.financialDetails.configuration.get().financialDetails;y.updateAmount(n.pricingDetails.bookingValue.amount)}function c(e){var n;e.value&&k.selectedInsurance.set(null)}function r(){var e=m.dealsAndDiscounts.discountOptions.breakfastUpsell;k.selectedInsurance.onChange(function(){e.isInProcessingState.get()||s()}),m.bookingSummary.financialDetails.configuration.onChange(function(){k.isInProcessingState.get()||o()}),e.isInProcessingState.onChange(c),m.dealsAndDiscounts.isInProcessingState.onChange(function(e){var n=e.value;y.setDisabled(n)})}function l(e){var n=v.isInsuranceSelected(e);I.sendInsuranceOptIn(n),k.selectedInsurance.set(n?e:null)}function d(){y&&y.get()&&l(y.get())}function u(e){var n=e.type,i=e.eventName,t=e.data,a=dio.cop.insurance.widget,s=a.EXPAND,o=a.COLLAPSE;"TNC"===i&&"click"===n?I.sendTNCClick():n!==s&&n!==o||(t.isCollapsed?I.sendWidgetHideDetailsClick():I.sendWidgetShowDetailsClick())}function g(){I.sendWidgetFailure()}function f(){var e=dio.getClientData("insurance");if(e){var n=e.data,i=e.collapsible,t=D.isLargeScreen(),a=t?"#insurance-container":"#insurance-container-mobile",s=t?"insurance-section":"insurance-section-mobile",o=t?"insurance-section-mobile":"insurance-section";return h.deactivateModule(m.modules[o]),p.createWidget({data:n,selector:a,collapsible:i,minimal:!0,onProductSelected:l,onProductsLoaded:d,onInteraction:u,onError:g}).then(function(e){y=e,k.headerTitle.set(e.headerTitle),r(),m.modules[s].isLoaded.set(!0),window.dispatchEvent(new Event("resize")),I.sendWidgetModuleSeen(i)})}}var m=e("LiveState"),v=e("InsuranceService"),p=e("InsuranceWidget"),S=e("PaymentService"),D=e("UtilityService"),C=e("BookingService"),I=e("InsuranceTracker"),b=e("AsideProgressOverlayService"),h=e("ModuleService"),k=m.insurance,y=void 0;n.exports={init:f}});
/*! pages/cop/booking-form/cvv-required-overlay/cvv-required-overlay-controller.js*/
"use strict";dio.di.define("CvvRequiredOverlayController",function(e){function r(e){var r;if(e.domEvent.preventDefault(),n.isFormValid(o.cvvRequiredOverlay.cvvRequiredForm)){var v=o.cvvRequiredOverlay.cvvRequiredForm.fields.securityCode.get();l.securityCode.set(v),o.cvvRequiredOverlay.cvvFormSubmitted.set(!0),d.hide(),o.bookingForm.triggerDOMEvent("submit")}}function v(){var e=l.selectedCreditCard.get(),r=e&&e.brand;o.cvvRequiredOverlay.isOverlayOpened.get()||(d.show({anim:0,escToClose:!0,clickMaskToClose:!0,data:{type:"cvvRequiredOverlay",id:"cvv-required-overlay",cvvFieldProperties:{name:"paymentAndBilling.creditCardDetails.securityCode"},cardType:r,bookButtonMessage:o.bookingForm.submitButton.get()}}),o.cvvRequiredOverlay.cvvRequiredForm.rebind(),n.validateForm(o.cvvRequiredOverlay.cvvRequiredForm),o.cvvRequiredOverlay.isOverlayOpened.set(!0))}function i(){a.registerForm(o.cvvRequiredOverlay.cvvRequiredForm),o.cvvRequiredOverlay.cvvRequiredForm.onDOMEvent("submit",r),o.bookingForm.onDOMEvent("submit",v,"self",t.isCvvTheOnlyInvalidField),dio.event.subscribe("hide",function(){return o.cvvRequiredOverlay.isOverlayOpened.set(!1)})}var o=e("LiveState"),t=e("CvvRequiredOverlayService"),d=e("OverlayService"),a=e("CommonFormController"),n=e("FormService"),l=o.bookingForm.fields.paymentDetails.CREDITCARD;i()});
/*! pages/cop/booking-form/cvv-required-overlay/cvv-required-overlay-service.js*/
"use strict";dio.di.define("CvvRequiredOverlayService",function(e,i){function t(){var e=r.bookingForm.fields.paymentDetails.CREDITCARD,i,t=n.getVisibleFormFieldsWithValidationRules(r.bookingForm).filter(function(e){var i=e.validation.result.get();return!!i&&!i.valid});return 1===t.length&&t[0]===e.securityCode}var r=e("LiveState"),n=e("FormService");i.exports={isCvvTheOnlyInvalidField:t}});
/*! pages/cop/booking-form/common/general-error-data-builder.js*/
"use strict";dio.di.define("GeneralErrorDataBuilder",function(e,s){function r(e){var s,r,i;return{type:"error",isEmphasised:!0,additionalClasses:e.additionalClasses||"mb-mouse mb-none--xs fs-mouse fw-bold",content:e.message,isFullWideOnXS:!!e.isFullWideOnXS}}s.exports={createGeneralErrorData:r}});
/*! pages/cop/booking-form/common/modules/module-controller.js*/
"use strict";dio.di.define("ModuleController",function(e){function n(e){e.getDOM().addClass("loaded"),e.isLoaded.removeHandler("change")}function o(){d.getModulesAsArray().filter(function(e){return!!e.openButton.getDOM()}).forEach(function(e){var n=e.getDOM().hasClass("expanded");d.toggleCollapsibleModule(e,n),e.openButton.onDOMEvent("click",function(){d.toggleCollapsibleModule(e,!e.isOpen.get())})})}function t(){d.getModulesAsArray().forEach(function(e){e.isLoaded.get()||e.isLoaded.onChange(function(){return n(e)})})}function i(){t(),o()}var d=e("ModuleService");i()});
/*! pages/cop/booking-form/common/modules/module-service.js*/
"use strict";dio.di.define("ModuleService",function(e,o){function t(){return d.modules.moduleNames.get().map(function(e){return d.modules[e]})}function n(e){e.isLoaded.removeHandler("change"),e.isOpen.removeHandler("change"),e.openButton.removeHandler("click"),e.isLoaded.set(!1),e.getDOM().addClass(s)}function a(e,o){if(e.openButton.getDOM()){var t=e.getDOM();e.isOpen.set(o),t.toggleClass("expanded",o),t.toggleClass("collapsed",!o)}}var d=e("LiveState"),s=dio.cop.general.states.HIDDEN;o.exports={getModulesAsArray:t,deactivateModule:n,toggleCollapsibleModule:a}});
/*! pages/cop/booking-form/hotel-image/multiple-images-carousel-controller.js*/
"use strict";dio.di.define("MultipleImagesCarouselController",function(e){function t(){var e=o.getCarouselContainerId();n.multipleHotelImages.carouselInstance.set(new dio.widget.Carousel({cont:$(e),items:$(e+" .cont-bd").find("li"),infinite:{enabled:!0}}))}function i(){var e;n.multipleHotelImages.carouselInstance.get().subscribe("movePanel",function(e,t){var i=t.newImageIndex;n.multipleHotelImages.captionTitleText.set(r[i].title),n.multipleHotelImages.captionIndex.set(i+1+"/"+r.length)})}function l(){r&&(dio.getClientData("isHmvt9792RenderedDuplicatedCarousel")&&(o.removeDuplicationFromHtml(),dio.util.responsive.createListener(),dio.event.subscribe("viewportChanged",o.placeCarouselIntoProperPlaceholder)),t(),i(),a.init())}var n=e("LiveState"),o=e("MultipleImagesCarouselService"),a=e("MultipleImagesCarouselTrackingController"),r=dio.getClientData("hotelDetails.propertyImages");l()});
/*! pages/cop/booking-form/hotel-image/multiple-images-carousel-service.js*/
"use strict";dio.di.define("MultipleImagesCarouselService",function(e,t){function l(){return dio.getClientData("isHmvt9792RenderedDuplicatedCarousel")?a.isLargeScreen()?"#property-images-carousel-desktop":"#property-images-carousel-mobile":"#property-images-carousel"}function r(){a.isLargeScreen()?o.multipleHotelImages.mobilePlaceholder.getDOM().empty():o.multipleHotelImages.desktopPlaceholder.getDOM().empty()}function i(){var e=o.multipleHotelImages.mobilePlaceholder.getDOM(),t=o.multipleHotelImages.desktopPlaceholder.getDOM();e&&t&&(a.isLargeScreen()&&t.is(":empty")?t.append(e.children()):!a.isLargeScreen()&&e.is(":empty")&&e.append(t.children()))}var o=e("LiveState"),a=e("UtilityService");t.exports={getCarouselContainerId:l,removeDuplicationFromHtml:r,placeCarouselIntoProperPlaceholder:i}});
/*! pages/cop/booking-form/hotel-image/multiple-images-carousel-tracker.js*/
"use strict";dio.di.define("MultipleImagesCarouselTracker",function(e,o){function m(e,o){var t={};for(var a in e)t[a]=o(e[a]);return t}function i(e,o){dio.event.publish("OneStream",{isDioEvent:!0,schema:e,params:o},{defer:!0})}function t(e,o,t){var a={namespace:p.namespace,version:p.version,name:p.algorithmName},n=m({imageId:t,propertyId:dio.getObjectByName("commonDataBlock.property.hotelId"),rank:o},Number),r;i("propertyImpression",{eventType:"propertyImpression",eventName:"propertyImageViewed",component:"bookingSummary",componentElement:"heroImage",scroll:e,properties:[Object.assign({algorithm:a},n)],platform:dio.getObjectByName("commonDataBlock.user.platformId"),pageName:dio.getObjectByName("commonDataBlock.page.pageName"),pos:dio.getObjectByName("commonDataBlock.user.pos")})}function a(e){i("genericImpression",{eventType:"impression",eventName:"propertyImageCarouselAllImagesSeen",impressionCategory:"propertyImageCarousel",contextData:m({component:"bookingSummary",image_count:e},String)})}function n(e){i("genericImpression",{eventType:"impression",eventName:"propertyImageCarouselSeen",impressionCategory:"propertyImageCarousel",contextData:m({component:"bookingSummary",image_count:e},String)})}var p=dio.getClientData("hotelDetails.propertyImagesTrackingDetails");o.exports={sendImageCountEvent:n,sendAllImagesSeenEvent:a,sendImageScrollEvent:t}});
/*! pages/cop/booking-form/hotel-image/multiple-images-carousel-tracking-controller.js*/
"use strict";dio.di.define("MultipleImagesCarouselTrackingController",function(e,n){function t(){return s.multipleHotelImages.carouselInstance.get()}function a(){var e;t().subscribe("movePanel",function(e,n){var t=n.scroll,a=n.method,l=n.newImageIndex,i;l!==n.oldImageIndex&&("Swipe"===a&&(t="left"===t?"right":"left"),r.sendImageScrollEvent(t,l,u[l].imageId))})}function l(){var l=t(),i=new Set([0]);s.discover(s.multipleHotelImages,{seenImages:{value:i}});var e=function e(n,t){var a=t.newImageIndex;i.add(a),i.size===u.length&&(r.sendAllImagesSeenEvent(u.length),l.unsubscribe("movePanel",e))};l.subscribe("movePanel",e)}function i(){r.sendImageCountEvent(u.length)}function o(){l(),a(),i()}var s=e("LiveState"),r=e("MultipleImagesCarouselTracker"),u=dio.getClientData("hotelDetails.propertyImages");n.exports={init:o}});
/*! pages/cop/booking-form/cancellation-policy-toast-message-controller.js*/
"use strict";dio.di.define("CancellationPolicyToastMessageController",function(e,o){function i(e){n.discover(n.bookingForm.fields.cancellationPolicy,{cancellationPolicyToastMessage:{toastMessage:$("#"+e+"-toast-message"),closeButton:$("#"+e+"-toast-message-close-btn")}})}function a(){var e;l.isAllRoomHasFreeCancellation&&l.freeCancellationToastMessage?i("free-cancellation"):l.isAllRoomNonRefundable&&l.isNonRefundableToastMessageDisplayed&&i("non-refundable"),dio.getObjectByName("closeButton",n.bookingForm.fields.cancellationPolicy.cancellationPolicyToastMessage)&&n.bookingForm.fields.cancellationPolicy.cancellationPolicyToastMessage.closeButton.onDOMEvent("click",function(){t.hideElement(n.bookingForm.fields.cancellationPolicy.cancellationPolicyToastMessage.toastMessage)})}var n=e("LiveState"),t=e("UtilityService"),l=dio.getClientData("baseConfig");o.exports={init:a}}),$(function(){window.commonDataBlock&&dio.di.require("LiveState").ready.done(dio.di.require("CancellationPolicyToastMessageController").init)});
/*! pages/cop/booking-form/trader-information-controller.js*/
"use strict";dio.di.define("TraderInformationController",function(t){function e(){a.show({anim:0,escToClose:!0,clickMaskToClose:!0,data:{type:"traderInformation",traderInfoDetails:hcomClientData.traderInfoDetails}})}function o(){n.traderInformationButton.onDOMEvent("click",e)}var n=t("LiveState"),a=t("OverlayService");o()});
/*! pages/cop/booking-form/hcom-credit-card/hcom-rewards-credit-card-controller.js*/
"use strict";dio.di.define("HcomRewardsCreditCardController",function(e){function i(){var e=dio.getObjectByName(v);if(r(e)){var i=l.hcomRewardsCreditCard.sdkConfig.get(),t,n=(h.configuration.get()||{}).financialDetails,a;o(i,n&&n.hcomRewardsCreditCardPricing||dio.getClientData("hcc.module.hccPricingData"),e)}}function t(e){var i=dio.getObjectByName(v);if(r(i)){var t=e.financialDetails||dio.getClientData("financialDetails"),n=t&&t.hcomRewardsCreditCardPricing,a;if(n)o(dio.getClientData("hcc.module.sdkConfig")||l.hcomRewardsCreditCard.sdkConfig.get(),n,i)}}function o(e,i,t){var n={firstName:l.user.firstName.get(),lastName:l.user.lastName.get(),emailAddress:l.user.emailAddress.get(),customerAccountId:l.user.accountId.get()};e&&e.showCTA&&f.render(l.hcomRewardsCreditCardCtaModule,{locale:dio.getClientData("common.locale"),hccPricingData:i,hccData:e}).done(function(){return t({sdkConfig:e,user:n})})}function r(e){return"function"==typeof e}function n(){f.empty(l.hcomRewardsCreditCardCtaModule)}function a(){var e=dio.getObjectByName("hcc.application.approvedEventData"),i=dio.getObjectByName("hcc.application.pendingEventData");e?(c().done(d),n()):i&&n()}function c(){var e=!!m.form.getDOM(),i=!!l.dealsAndDiscounts.discountOptions.couponCodeOption.appliedCouponCode.get();return e&&!i?(m.forceCacheUpdate.set(!0),g.removeLoyaltyRewards()):$.Deferred().resolve()}function d(){p.forceCacheUpdate.set(!0),C.updateBookingFormAfterSuccessfulSignIn(p)}function s(e){var i=m.configuration.get();if(i){var t=!e&&i.isCustomerHcomRewardsCreditCardEligible,n=i.isCustomerHcomRewardsCreditCardApproved;(t||n)&&dio.event.publish("supreg_refresh")}}function u(){l.sica.isUserSignedIn.onChange(i),h.configuration.onChange(function(e){return t(e.value)}),dio.event.subscribe("hccApplicationOverlayHidden",a),m&&(m.configuration.onChange(function(){return s(!1)}),m.freeNightsApplied.onChange(function(){return s(!0)})),s()}var l=e("LiveState"),f=e("TemplateRenderer"),g=e("LoyaltyRewardsController"),C=e("SignInService"),m=l.dealsAndDiscounts.discountOptions.loyaltyRewardsRedeemOption,p=l.sica.signInForm,h=l.bookingSummary.financialDetails,v="hcc.module.initOverlay";u()});
/*! modules/hcom-credit-card/common/url-tracking.js*/
"use strict";$(function(){var d=function e(t,n){return t+(~t.indexOf("?")?"&":"?")+"intlid="+n},t=function e(t,n){var a=$(n),i=a.attr("href");if(!~i.indexOf("intlid")){var r=a.closest("[data-intlid]").data("intlid"),c=a.closest("[data-placement]").data("placement");a.attr("href",d(i,r+"_"+c))}},n=function e(t){var n=$(t.currentTarget);if(n.hasClass("expanded")||n.hasClass("expanding"))return!0;var a="referenceLinkClicked",i="applyNowClicked",r=n.data("tracking-event"),c=n.closest("[data-placement]").data("placement"),d={faqQuestion:"faqQuestionOpened",wfBenefits:"guideToBenefitsOpened",wfTnc:"importantCreditTermsOpened",wfCtp:"mobilePhoneBenefitsOpened",ctaReferenceLink:a,ctaApplyNow:i}[r];d&&(dio.sitecatalyst.sendPartialReport({eVar33:c},"",d),d!==a&&d!==i||s({eventName:d}))},e=function e(){$("[data-tracking-url]").each(t),$("[data-tracking-event]").off("click",n).on("click",n)},s=function e(){var t="bookingFormCTAClicked",n=dio.getObjectByName("hccOneStreamEventHandlers")||{};"function"==typeof n[t]&&n[t].apply(n,arguments)};dio.event.subscribe("tracking_refresh",e).publish("tracking_refresh")});
/*! modules/hcom-credit-card/wf-sdk/init-sdk.js*/
"use strict";$(function(){var T="1.17.latest",U="wfsdk3p",C=function e(n){return n&&(~n.indexOf("http")?n:""+window.location.origin+n)},S=function e(n){return"https://static.wellsfargo.com/websdk/ao/cbcc/"+n+"/"},B=function e(n){return"https://static.wellsfargo.com/websdk/ao/cbcc/"+n+"/public/js/wfg-sdk-bootstrap.min.js"},I="/v1/creditcard/sdkevent",O="/v1/edge/payment/initialization/hcomrewardscreditcard",W="https://www.hotels.com/creditcard",E="https://www.hotels.com/";dio.setValueByName("wfSdkInit",function(e,t,i){var r=e.jsonWebToken,o=e.sdkEventUrl,a=e.paymentInitializationUrl,n=e.applicationsUrl,c=e.secureConfigurationUrl,l=e.isWellsFargoApplication,p=e.coBrand,s=e.sdkVersion,d=void 0===s?T:s,u=e.referrerUrl,_=void 0===u?E:u,f=e.landingUrl,h=void 0===f?W:f,v=e.createType,m=void 0===v?"WEBSITE_SHOPPING_CART":v,g=e.instantCredit,y,b=p||{referrer:_,landingUrl:h,createType:m,instantCredit:void 0!==g&&g},A=[];r&&A.push({name:"Authorization",value:"Bearer "+r});var w=function e(n){return{userData:t,jsonWebToken:r,pageOrigin:i,isWellsFargoApplication:l,sdkEventData:n,createType:b.createType,sdkEventUrl:C(o||I),paymentInitializationUrl:C(a||O)}};if(window.WF_AO_SDK_Config||(window.WF_AO_SDK_Config={partnerHeaders:A,targetDivId:"wells_card_offer",secureConfigurationUrl:C(c)||"",applicationsUrl:C(n)||"",sdkUrl:S(d),brandIdentifier:"hcom",noAnimation:!0,loadCustomCSS:!0,loadCustomResourceBundle:!0,stubNetwork:!1,silentInit:!1,coBrand:b,prefill:{first_name:t.firstName||"",last_name:t.lastName||"",email:t.emailAddress||""},callbacks:{general:{start:function e(n){return dio.event.publish("hccApplyGeneral_start",w(n))},exit:function e(n){return dio.event.publish("hccApplyGeneral_exit",w(n))},log:function e(n){return dio.event.publish("hccApplyGeneral_log",w(n))},error:function e(n){return dio.event.publish("hccApplyGeneral_error",w(n))},system_error:function e(n){return dio.event.publish("hccApplyGeneral_system_error",w(n))},secure_configuration_error:function e(n){return dio.event.publish("hccApplyGeneral_secure_configuration_error",w(n))}},page:{load:function e(n){return dio.event.publish("hccApplyPage_load",w(n))},exit:function e(n){return dio.event.publish("hccApplyPage_exit",w(n))}},application:{pending:function e(n){return dio.event.publish("hccApplyApplication_pending",w(n))},approved:function e(n){return dio.event.publish("hccApplyApplication_approved",w(n))},approved_instant_credit:function e(n){return dio.event.publish("hccApplyApplication_approved_instant_credit",w(n))},card_ready:function e(n){return dio.event.publish("hccApplyApplication_card_ready",w(n))},submit:function e(n){return dio.event.publish("hccApplyApplication_submit",w(n))}}}}),document.getElementById(U))WF_SDK_BOOTSTRAP.initialize();else{var k=document.createElement("script");k.id=U,k.src=B(d),k.type="text/javascript",k.onload=function(){return WF_SDK_BOOTSTRAP.initialize()},k.onerror=function(){return dio.event.publish("hccInternalGeneral_download_error",w())},document.getElementsByTagName("body")[0].appendChild(k)}})});
/*! modules/hcom-credit-card/wf-sdk/eventbus.js*/
"use strict";$(function(){function S(e,a,n){$.ajax({type:"POST",data:JSON.stringify(e),dataType:"json",contentType:"application/json",url:a,headers:n})}var c="SDK_OSMA_ABOUTYOU",e="SDK_OSMA_YOURFINANCES",a="SDK_OSMA_REVIEWANDSUBMIT",r="SDK_OSMA_BONUSACQUISITION",o="SDK_OSMA_ONETIMEPASSCODE_GENERATE",_="SDK_OSMA_ONETIMEPASSCODE_VERIFY",p="SDK_OSMA_CANCELAPPLICATION",s="SDK_OSMA_ONETIMEPASSCODE_CANCEL",l="SDK_OSMA_SYSTEMERROR",d="SDK_OSMA_WAITSCREEN",u="SDK_OSMA_TIMEOUTWARNING",A="SDK_OSMA_OTPTIMEOUTWARNING",b="SDK_OSMA_TIMEOUTSESSION",I="SDK_OSMA_THANKYOUPENDING",O="SDK_OSMA_THANKYOUAPPROVED_ICA",v="SDK_OSMA_THANKYOUAPPROVED_NON_ICA",g="SDK_OSMA_DUPLICATEAPPLICATION_PREVIOUSDENIAL",h="SDK_OSMA_DUPLICATEAPPLICATION_PREVIOUSPENDING",E="SDK_OSMA_DUPLICATEAPPLICATION_PREVIOUSPREEXISTING",D=function e(a,n){},n=function e(a,n){var i=dio.getObjectByName("hccFireTagCommanderTags");"function"==typeof i&&i(a,n)},i=function e(a,n){var i,t=(a.sdkEventData||{}).page_id;switch(t!==d&&dio.event.publish("hccInternalPage_"+n,a),t){case c:dio.event.publish("hccInternalPage_"+n+"_aboutyou",a);break;case o:dio.event.publish("hccInternalPage_"+n+"_onetime_passcode_generate",a);break;case _:dio.event.publish("hccInternalPage_"+n+"_onetime_passcode_verify",a);break;case s:dio.event.publish("hccInternalPage_"+n+"_onetime_passcode_cancel",a);break;case p:dio.event.publish("hccInternalPage_"+n+"_cancel_application",a);break;case I:dio.event.publish("hccInternalPage_"+n+"_thankyou_pending",a);break;case O:dio.event.publish("hccInternalPage_"+n+"_thankyou_approved_ica",a);break;case v:dio.event.publish("hccInternalPage_"+n+"_thankyou_approved_non_ica",a);break;case r:dio.event.publish("hccInternalPage_"+n+"_bonus_acquisition",a);break;case l:dio.event.publish("hccInternalPage_"+n+"_system_error",a);break;case g:case h:case E:dio.event.publish("hccInternalPage_"+n+"_duplicate_application",a);break;case u:case A:case b:dio.event.publish("hccInternalPage_"+n+"_timeout",a)}},t=function e(a,n){if(n.paymentInitializationUrl&&("BookingForm"===n.pageOrigin||"ApplyPage"===n.pageOrigin)){var i=n.paymentInitializationUrl,t=n.jsonWebToken,c=n.sdkEventData,r=n.userData,o={},_={Authorization:"Bearer "+t};c&&r&&(_.requestId=c.client_request_id,o.contextRequestType={locale:dio.getClientData("common.locale"),point_of_sale:dio.getObjectByName("commonDataBlock.user.pos")},o.customerInfoRequestType={email_address:r.emailAddress,first_name:r.firstName,last_name:r.lastName},o.paymentDetailsRequestType={hcom_rewards_credit_card:{application_id:c.application_id||c.applicationId,application_token:c.application_token||c.applicationToken}}),S(o,i,_)}},P=function e(a,n){if(n.sdkEventUrl){var i=n.sdkEventUrl,t=n.jsonWebToken,c=n.createType,r=n.sdkEventData,o={name:a},_={"X-Client-Id":c,Authorization:"Bearer "+t};if(r){var p=r.timestamp,s=r.error_code,l=r.error_message,d=r.application_id||r.applicationId,u=r.application_status||r.applicationStatus;p&&(o.timestamp=p),s&&(o.error_code=s),l&&(o.error_message=l),d&&(o.application_id=d),u&&(o.application_status=u);var A=r.client_request_id,b=r.gateway_request_id;A&&(_["referrer-client-request-id"]=A),b&&(_["referrer-gateway-request-id"]=b)}S(o,i,_)}D(a,n.sdkEventData)};dio.event.subscribe("hccInternalGeneral_download_error",function(e,a){P("general.download_error",a)}),dio.event.subscribe("hccInternalApplication_approved_monitor",function(e,a){P(a.eventName,a.eventData)}),dio.event.subscribe("hccApplyGeneral_start",function(e,a){P("general.start",a)}),dio.event.subscribe("hccApplyGeneral_exit",function(e,a){P("general.exit",a),n(a,"general.exit")}),dio.event.subscribe("hccApplyGeneral_log",function(e,a){P("general.log",a)}),dio.event.subscribe("hccApplyGeneral_error",function(e,a){P("general.error",a)}),dio.event.subscribe("hccApplyGeneral_system_error",function(e,a){P("general.system_error",a)}),dio.event.subscribe("hccApplyGeneral_secure_configuration_error",function(e,a){P("general.secure_configuration_error",a)}),dio.event.subscribe("hccApplyApplication_pending",function(e,a){P("application.pending",a)}),dio.event.subscribe("hccApplyApplication_submit",function(e,a){P("application.submit",a)}),dio.event.subscribe("hccApplyApplication_approved",function(e,a){P("application.approved",a)}),dio.event.subscribe("hccApplyApplication_approved_instant_credit",function(e,a){P("application.approved_instant_credit",a)}),dio.event.subscribe("hccApplyApplication_card_ready",function(e,a){P("application.card_ready",a),t("application.card_ready",a)}),dio.event.subscribe("hccApplyPage_load",function(e,a){D("page.load",a.sdkEventData),i(a,"load"),n(a,"page.load")}),dio.event.subscribe("hccApplyPage_exit",function(e,a){D("page.exit",a.sdkEventData),i(a,"exit"),n(a,"page.exit")})});
/*! modules/hcom-credit-card/common/onestream-tracking.js*/
"use strict";$(function(){var k=function e(t){dio.event.publish("OneStream",{schema:"genericInteraction",isDioEvent:!0,params:t},{defer:!0})},e=function e(t){var i,a=(t.sdkEventData||{}).page_id;k({eventName:"creditCardApplicationStepReached",contextData:{stepReached:a}})},t=function e(t){var i,a;(t.sdkEventData||{}).application_status||k({eventName:"creditCardApplicationClosed"})},i=function e(t,i){var a=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null,o=dio.url().getParam("intlid")||a,n=t.userData,c=void 0===n?{}:n,r=t.isWellsFargoApplication,d=void 0!==r&&r,l=c.customerAccountId,s,p=(window.commonDataBlock||{}).marketing,u=void 0===p?{}:p,v=u.visitMarketingCode,m=void 0===v?"Hcom_Direct":v,g=u.lastTouchedMarketingCode,C=void 0===g?"Hcom_Direct":g;d=d.toString(),i&&l&&k({eventName:"creditCardApplicationProcessed",contextData:{creditCardModule:o,applicationStatus:i,isWellsFargoApplication:d,customerAccountId:l,visitMarketingCode:m,lastTouchedMarketingCode:C}})},a=function e(t){k({eventType:"interaction",eventName:t.eventName,interactionType:"click",isTemporary:!1,contextData:{creditCardModule:"BookingFormModule"}})};dio.setValueByName("hccOneStreamEventHandlers",{applicationStep:e,applicationClosed:t,applicationProcessed:i,bookingFormCTAClicked:a})});
/*! modules/hcom-credit-card/common/scroll-sdk-container.js*/
"use strict";$(function(){var s="html,body",v=".hcc-top-banner",o=0,t=function o(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},e=t.container,l=void 0===e?s:e,n=t.target,c=void 0===n?v:n,r=t.offset,i=void 0===r?0:r,a=$(l),f=$(c);if(a.length&&f.length){var d=l===s?0:a.scrollTop();a.scrollTop(d+f.offset().top-a.offset().top-i)}};dio.setValueByName("hccSdkScrollHandler",t)});
/*! modules/hcom-credit-card/marketing/tag-commander.js*/
"use strict";$(function(){var e=function e(t,a){var n="tcIframe_"+a.replace(/\./g,"_"),o=window.document.getElementById(n);o&&document.body.removeChild(o),(o=document.createElement("iframe")).id=n,o.style.cssText="position:absolute;top:-100px;left:0;width:0;height:0;",o.onload=function(){o.contentWindow.commonDataBlock=i(t),p(o.contentWindow.document)},document.body.appendChild(o)},i=function e(t){var a=JSON.parse(JSON.stringify(dio.getObjectByName("commonDataBlock")));return Object.assign({},a,n(t&&t.sdkEventData),{page:Object.assign({},a.page,o(t&&t.pageOrigin))})},p=function e(t){var a=t.createElement("script");a.id="tagCommanderScript",a.src=dio.getClientData("common.tracking.tagCommanderContainer")||"",a.defer=!0,t.body.appendChild(a)},n=function e(t){return t?{wfsdk:{appId:t.app_id||"",applicationStatus:t.application_status||"",flowType:t.flow_type||"",langPref:t.lang_pref||"",osmpAppRefNumber:t.osmp_app_ref_number||"",pageId:t.page_id||"",pageType:t.page_type||"",sorAppId:t.sor_appid||"",landDttmGmt:t.land_dttm_gmt||"",context:t.context||"",timestamp:t.timestamp||""}}:{}},o=function e(t){switch(t){case"ApplyPage":return{pageName:"Wells Fargo Credit Card Apply SDK Opened",siteSection:"Wells Fargo Credit Card Apply"};case"BookingForm":return{pageName:"Wells Fargo Booking Form SDK Opened",siteSection:"Wells Fargo Booking Form"};default:return{}}};dio.setValueByName("hccFireTagCommanderTags",e)});
/*! modules/hcom-credit-card/apply-overlay/overlay-init.js*/
"use strict";$(function(){function i(){var e=void 0;dio.event.subscribe("hccApplicationOverlayShown",function(){return!(e=!1)}),o.applicationOverlay=new dio.widget.ModalOverlay({overlay:r.$applicationOverlay,trigger:r.$applicationOverlayTrigger,manipulateHistory:!1,centered:!0,clickMaskToClose:!1}).subscribe("show",function(){return dio.event.publish("hccApplicationOverlayShown")}).subscribe("hide",function(){return dio.event.publish("hccApplicationOverlayHidden")}).subscribe("pre:hideStart",function(){return!(!e&&!0!==dio.getObjectByName("hcc.module.confirmLeaveDisabled"))||(o.confirmLeaveOverlay.show(),!1)}),o.confirmLeaveOverlay=new dio.widget.ModalOverlay({overlay:r.$confirmLeaveOverlay,manipulateHistory:!1,centered:!0,buttons:{close:!1,cancel:{label:dio.i18n("hcc.application.flow.leave_warning.button.cancel")},ok:{label:dio.i18n("hcc.application.flow.leave_warning.button.ok")}}}).subscribe("show",function(){return dio.event.publish("hccConfirmOverlayShown")}).subscribe("ok",function(){e=!0,o.applicationOverlay.hide()}).subscribe("pre:hideStart",function(){return dio.event.publish("hccConfirmOverlayPreHideStart")})}function a(){r.$applicationOverlay.on("click",".hcc-highlights .btn-see-more",function(){var e=r.$applicationOverlay.find(".hcc-highlights"),i=e.find("ul");e.toggleClass("expanded").is(".expanded")?i.slideDown():i.slideUp()})}function n(){dio.sitecatalyst.sendPartialReport({},"event325","HCOM Rewards Credit Card module shown"),dio.event.publish("tracking_refresh"),dio.event.publish("supreg_refresh")}function e(e){dio.setValueByName("wfSdkConfig",e),c(),0!==r.$applicationOverlay.length&&(n(),i(),a())}var o={},r={},c=function e(){r.$applicationOverlay=$("#hcc-apply-overlay"),r.$applicationOverlayTrigger=$(".hcc-apply"),r.$confirmLeaveOverlay=$("#hcc-apply-confirm-leave-overlay")};dio.setValueByName("hcc.module.initOverlay",e),dio.setValueByName("hcc.module.hideOverlay",function(){return o.applicationOverlay&&o.applicationOverlay.hide()}),dio.setValueByName("hcc.module.hideConfirmOverlay",function(){return o.confirmLeaveOverlay&&o.confirmLeaveOverlay.hide()});var l=dio.getClientData("hcc.module.sdkConfig"),t=dio.getClientData("hcc.module.user"),d,s,u,v,p;l&&t&&e({sdkConfig:l,user:{firstName:t.firstName,lastName:t.lastName,emailAddress:t.emailAddress,customerAccountId:t.accountId}})});
/*! modules/hcom-credit-card/apply-overlay/overlay-init-sdk.js*/
"use strict";$(function(){dio.event.subscribe("hccApplicationOverlayShown",function(){var i=dio.getObjectByName("wfSdkConfig")||{},o=i.sdkConfig,e=i.user;if(o){var n=dio.getObjectByName("wfSdkInit");"function"==typeof n&&n(o,e,"BookingForm")}})});
/*! modules/hcom-credit-card/apply-overlay/overlay-triggers.js*/
"use strict";$(function(){var l="replace",d=".hcc-top-banner",p="#hcc_post_app",t="bookingForm",o="#wells_card_offer_container",u="hcom.templates.modules.hcc.common.topBanner",a="hcom.templates.modules.hcc.backToBooking",h="hcom.templates.modules.hcc.applicationDisclosures",e=["hccInternalPage_exit_aboutyou","hccInternalPage_exit_thankyou_pending","hccInternalPage_exit_thankyou_approved_ica","hccInternalPage_exit_thankyou_approved_non_ica"].join(" "),n=["hccApplicationOverlayShown","hccInternalPage_load_aboutyou"].join(" "),i=["hccInternalPage_load_thankyou_pending","hccInternalPage_load_duplicate_application"].join(" "),c=["hccInternalPage_load_thankyou_approved_ica","hccInternalPage_load_thankyou_approved_non_ica"].join(" "),r=["hccInternalPage_load_system_error","hccInternalPage_load_thankyou_pending","hccInternalPage_load_thankyou_approved_ica","hccInternalPage_load_thankyou_approved_non_ica","hccInternalPage_load_duplicate_application"].join(" "),s=void 0,v=void 0,_=function e(n){return"hccInternalPage_load_thankyou_approved_ica"===n},f=function e(){return dio.setValueByName("hcc.module.confirmLeaveDisabled",!1)},m=function e(){return dio.setValueByName("hcc.module.confirmLeaveDisabled",!0)},g=function e(n,t){return dio.setValueByName("hcc.application.approvedEventData",{eventData:n,eventName:t})},b=function e(n,t){return dio.setValueByName("hcc.application.pendingEventData",{eventData:n,eventName:t})},y=function e(n){return v=n},w=function e(){return!!window.document.documentMode},P=function e(){var n=dio.getClientData("hotelDetails");if(n){var t=n.hotelName,o=n.hotelAddress,a=n.hotelImage,i=a&&a.availableSizes&&a.availableSizes.S_SMALL;t&&$(".hcc-hotel-name").text(t),o&&$(".hcc-hotel-addr").text(o.city+", "+o.country),a&&$(".hcc-hotel-image img").attr("src",i||a.url),$(".back-to-shopping").on("click",function(){m(),I()})}},k=function e(n){var t=dio.getObjectByName("hccSdkScrollHandler");"function"==typeof t&&t(Object.assign({},n,{container:o}))},I=function e(){var n=dio.getObjectByName("hcc.module.hideOverlay");"function"==typeof n&&n()},S=function e(){var n=dio.getObjectByName("hcc.module.hideConfirmOverlay");"function"==typeof n&&n()},O=function e(n){for(var t=arguments.length,o=Array(1<t?t-1:0),a=1;a<t;a++)o[a-1]=arguments[a];var i=dio.getObjectByName("hccOneStreamEventHandlers")||{};"function"==typeof i[n]&&i[n].apply(i,o)},D=function e(){$(".hcc-footnote").off(".footnote").on("click.footnote",function(e){e.preventDefault(),k({target:"[name="+$(e.currentTarget).attr("href").substring(1)+"]",offset:8})})},A=function e(){s&&(j()?window.history.pushState({},""):window.location.hash="hccConfirmOverlayHidden"),s=!1},C=function e(){j()?window.history.pushState({},""):window.location.hash="hccOverlayShown",window.addEventListener("popstate",N)},N=function e(){s=!0,j()&&(v&&S(),m()),I(),y(!1)},j=function e(){return navigator&&(/iPad|iPhone/.test(navigator.platform)||"MacIntel"===navigator.platform&&1<navigator.maxTouchPoints)&&!window.MSStream},B=function e(){window.removeEventListener("popstate",N),!s&&history.go(-1),s=!1},x=function e(){$.when(dio.template.call(u,{action:l,placeholder:$(d),data:{type:"default"}})).done(function(){dio.event.publish("supreg_refresh"),f()}),$(p).empty()},H=function e(){var n,t=(dio.getObjectByName("wfSdkConfig")||{}).sdkConfig,o,a=(void 0===t?{}:t).urls,i=dio.getClientData("hcc.module.variant"),c,r=(dio.getClientData("hcc.module.hccPricingData")||{}).roundedDownStatementCredit;$.when(dio.template.call(u,{action:l,placeholder:$(d),data:{urls:a,type:"highlights",locale:dio.getClientData("common.locale"),hccVariant:i,roundedDownStatementCredit:r}}),dio.template.call(h,{placeholder:$(p),data:{urls:a,roundedDownStatementCredit:r,hccVariant:i}})).done(function(){dio.event.publish("supreg_refresh"),dio.event.publish("popuplink_refresh"),dio.event.publish("tracking_refresh"),D(),f()})},E=function e(){var n="pending";$.when(dio.template.call(u,{action:l,placeholder:$(d),data:{type:n}}),dio.template.call(a,{placeholder:$(p),data:{type:n}})).done(P)},L=function e(n){var t="approved";$.when(dio.template.call(u,{action:l,placeholder:$(d),data:{type:t}}),dio.template.call(a,{placeholder:$(p),data:{type:t,isICA:_(n)}})).done(P)};dio.event.subscribe(e,x),dio.event.subscribe(n,H),dio.event.subscribe(i,E),dio.event.subscribe(c,L),dio.event.subscribe(r,m),dio.event.subscribe("hccInternalPage_exit",function(){return k()}),dio.event.subscribe("hccApplyGeneral_exit",function(){m(),I()}),dio.event.subscribe("hccInternalPage_load",function(e,n){return O("applicationStep",n)}),dio.event.subscribe("hccApplicationOverlayHidden",function(e,n){return O("applicationClosed",n||{})}),dio.event.subscribe("hccApplyApplication_pending",function(e,n){O("applicationProcessed",n,"pending",t),b(n,"booking_form_refresh.pending")}),dio.event.subscribe("hccApplyApplication_approved",function(e,n){O("applicationProcessed",n,"approved",t),g(n,"booking_form_refresh.approved")}),dio.event.subscribe("hccApplyApplication_approved_instant_credit",function(e,n){O("applicationProcessed",n,"approved_instant_credit",t),g(n,"booking_form_refresh.approved_instant_credit")}),dio.event.subscribe("hccApplicationOverlayHidden",function(){var e=dio.getObjectByName("hcc.application.approvedEventData");e&&dio.event.publish("hccInternalApplication_approved_monitor",e)}),dio.event.subscribe("hccApplicationOverlayShown",function(){!w()&&C()}),dio.event.subscribe("hccConfirmOverlayPreHideStart",function(){!w()&&A()}),dio.event.subscribe("hccConfirmOverlayShown",function(){!w()&&y(!0)}),dio.event.subscribe("hccApplicationOverlayHidden",function(){!w()&&B()})});
/*! modules/hcom-credit-card/common/reg-superscript.js*/
"use strict";$(function(){var d="®",u=document.createElement("sup");u.innerText=d;var c=function e(t){return/SCRIPT|STYLE/.test(t.parentNode.nodeName)?NodeFilter.FILTER_REJECT:NodeFilter.FILTER_ACCEPT};c.acceptNode=c;var e=function e(t,r){for(var n=document.createTreeWalker(r,NodeFilter.SHOW_TEXT,c,!1);n.nextNode();){var o=n.currentNode,a=o.data.indexOf(d);~a&&"SUP"!==o.parentNode.tagName&&((o=o.splitText(a)).deleteData(0,d.length),o.parentNode.insertBefore(u.cloneNode(!0),o),n.nextNode())}};dio.event.subscribe("supreg_refresh",function(){return $(".sup-reg").each(e)}).publish("supreg_refresh")});
/*! modules/hcom-credit-card/common/popup-links.js*/
"use strict";$(function(){var n=function n(r){return $(r).off(".popup").on("click.popup",function(n){n.preventDefault(),window.open($(n.currentTarget).attr("href"),"","width=800,height=600,menubar=0,toolbar=0,location=0,personalbar=0,status=0")})};dio.event.subscribe("popuplink_refresh",function(){return n("a.popup-link")}).publish("popuplink_refresh")});
/*! pages/cop/booking-form/financial-details/financial-details-controller.js*/
"use strict";dio.di.define("FinancialDetailsController",function(e){function t(e){var a;return h.paymentClassMap.get()[e]}function a(){var e=F.selectedPaymentConfig.get(),a=h.priceChangeMessage.defaultValue.get(),n=e.priceChangeMessage||a;D.render(h.priceChangeMessage,{priceChangeMessage:n})}function n(e){var a,n;i(e.previousValue.id),o()}function i(e){var a=p.getFirstMatchingConfiguration(dio.getClientData("paymentConfigurations"),e,"id"),n,i=a&&a.customizeFinancialDetailsAppearance&&t(e);i&&r(i,!1)}function o(){var e=F.selectedPaymentConfig.get(),a=e.customizeFinancialDetailsAppearance,n=e.id,i=a&&t(n);i&&r(i,!0)}function r(e,a){p.toggleVisibilityWithScrollAdjustment(h.wrapper,e,a)}function s(e){if(e.value){var a={extraGuestChargesTooltipMessage:dio.getClientData("baseConfig.extraGuestChargesTooltipMessage"),extraClasses:"mt-mouse fs-mouse ph-bird",taxesAndFees:e.value};D.render(y.taxesAndFees,a)}else D.empty(y.taxesAndFees)}function l(e){if(e.value){var a={financialDetailsData:e.value,baseConfig:dio.getClientData("baseConfig")};D.render(y.mandatoryFeesBreakdown,a)}else D.empty(y.mandatoryFeesBreakdown)}function g(e){if(e.value){var a={amount:e.value.amount,isNonBillableCurrency:e.value.isNonBillable};D.render(h.grandTotalPrice,a)}else D.empty(h.grandTotalPrice)}function d(e){if(e.value){var a={breakdown:e.value};D.render(y.feesBreakdown,a)}else D.empty(y.feesBreakdown)}function c(e){var a=dio.getClientData("baseConfig"),n=dio.getClientData("roomDetailsData"),i=dio.getClientData("travelDetails"),t=e.financialDetails||dio.getClientData("financialDetails"),o=e.depositDetails||dio.getClientData("depositDetails"),r=e.financialDetails.priceChangeMessage,s=e.hiddenFields,l,g,d={financialDetailsData:t,baseConfig:a,depositDetails:o,travelDetails:i,roomDetails:n,loyaltyData:e.loyaltyData,isSignedIn:C.sica.isUserSignedIn.get()};if(D.render(h,d,h.wrapper.getDOM()),D.render(h.priceChangeMessage,{priceChangeMessage:r}),e.errors&&e.errors.priceChangeError){var c=e.errors.priceChangeError;"RISE"===c.priceChangeType&&m.showPriceChangeError("priceIncreaseCoupon",c)}s&&p.updateHiddenFields(s)}function u(){var e=v.build();$.ajax({url:B,dataType:"json",type:"POST",data:e}).done(function(e){return h.configuration.set(e)})}function f(){y.total.onChange(o),y.taxesAndFees.configuration.onChange(s),F.selectedPaymentConfig.onChange(n),F.selectedPaymentConfig.onChange(a),y.mandatoryFeesBreakdown&&y.mandatoryFeesBreakdown.configuration.onChange(l),h.grandTotalPrice&&(h.grandTotalPrice.configuration.onChange(o),h.grandTotalPrice.configuration.onChange(g)),y.feesBreakdown&&y.feesBreakdown.configuration.onChange(d),B&&b.fields.billingDetails.country.onChange(u),h.configuration.onChange(function(e){c(e.value)}),a(),o()}var C=e("LiveState"),p=e("UtilityService"),D=e("TemplateRenderer"),m=e("BookingService"),v=e("BookingRequestBuilder"),h=C.bookingSummary.financialDetails,y=h.pricingDetails,b=C.bookingForm,F=b.fields.paymentDetails,B=dio.getObjectByName("financialColumnUpdateUrl",dio.getClientData("financialDetails"));f()});
/*! pages/cop/booking-form/book-button-area/book-button-tooltip-controller.js*/
"use strict";dio.di.define("BookButtonTooltipController",function(i){function o(){return!c.isFormValid(s.bookingForm)&&v.isLargeScreen()}function t(){return!c.isFormValid(s.bookingForm)&&!v.isLargeScreen()}function e(o){var t=$(o.domEvent.target).data("error-position");!t||o.domEvent.keyCode&&13!==o.domEvent.keyCode||(o.domEvent.preventDefault(),o.domEvent.stopImmediatePropagation(),v.scrollTo(t-f),$(o.domEvent.target.hash).focus()),s.bookingForm.isRequiredErrorModuleFieldClickedReportSent.get()||(m.sendPartialReport({},"","Required error module field clicked",!1,!0),s.bookingForm.isRequiredErrorModuleFieldClickedReportSent.set(!0))}function r(o){var i=[],r=[],t=function o(t,e){return t.y-e.y||t.x-e.x};return s.bookingForm.fields.forEach(function(o){var t=void 0,e=void 0;o.validation&&o.validation.result&&o.validation.result.get()&&!o.validation.result.get().valid&&!o.validation.result.get().ignorable&&o.getDOM()&&(e=o.getDOM(),t=(o.validation.isForcedToBeValidatedWhenInvisible?e:e.filter(":visible")).offset(),o.validation.result.get().dominantErrorMessage?r.push({id:e.attr("id"),description:o.validation.result.get().dominantErrorMessage,x:t.left,y:t.top,dominantError:!0}):t&&e.data("error-title")&&i.push({id:e.attr("id"),description:e.data("error-title"),x:t.left,y:t.top}))}),0<r.length?r:i.sort(t).slice(0,o)}function n(){var o=i("TemplateInjector");if(clearTimeout(k),s.bookingForm.bookButtonArea.tooltipContainer.getDOM().is(":empty")){var t=r(5),e=t.find(function(o){return o.dominantError});o.injectBookButtonTooltip({errors:t,hasDominantError:!!e})}}function a(){k=setTimeout(function(){s.bookingForm.bookButtonArea.tooltipContainer.getDOM().empty()},700)}function l(){var o=r(1),t=o.length?o[0]:void 0;t&&v.scrollTo(t.y-f)}function d(){return t()&&!g.isCvvTheOnlyInvalidField()&&!dio.getClientData("mvt9785.active")}function u(){s.bookingForm.submitButton.onDOMEvent("click",l,"self",d),s.bookingForm.bookButtonArea.onDOMEvent(["click","keydown"],e,"self",function(){return!dio.getClientData("mvt9785.active")}),s.bookingForm.bookButtonArea.onDOMEvent(["mouseenter","focusin","touchstart"],n,"self",o),s.bookingForm.bookButtonArea.onDOMEvent(["mouseleave","blur"],a)}var s=i("LiveState"),v=i("UtilityService"),c=i("FormService"),m=i("SiteCatalystService"),g=i("CvvRequiredOverlayService"),f=55,k=void 0;u()});
/*! pages/cop/booking-form/mvt10025-family-friendly-badge-tracking-controller.js*/
"use strict";dio.di.define("Mvt10025FamilyFriendlyBadgeTrackingController",function(i,e){function n(){o.discover(o.bookingSummary,{mvt10025FamilyFriendlyBadge:{$object:$('span[data-badge-type="familyFriendly"]')}})}function t(){var i="[Insight] Great for families badge tool tip interaction";r.sendPartialReport({},"",i),o.bookingSummary.mvt10025FamilyFriendlyBadge.removeHandler(["click","mouseenter"],t)}function a(){n(),o.bookingSummary.mvt10025FamilyFriendlyBadge.onDOMEvent(["click","mouseenter"],t)}var o=i("LiveState"),r=i("SiteCatalystService");e.exports={init:a}}),$(function(){window.commonDataBlock&&dio.di.require("LiveState").ready.done(dio.di.require("Mvt10025FamilyFriendlyBadgeTrackingController").init)});
/*! pages/cop/booking-form/common/overlays/interstitial-controller.js*/
"use strict";dio.di.define("InterstitialController",function(e){function a(e){e.value?t():i()}function t(){function e(){l.progressText.set(t[r]),++r>t.length-1&&clearInterval(g)}var t=dio.getClientData("interstitialMessages"),i,a=s.fields.paymentDetails.selectedPaymentConfig.get().redirectInterstitialMessage,n=dio.cop.bookingForm.interstitial.DURATION_IN_MILLISECONDS/t.length;a&&(l.redirectText.set(a),l.redirectText.getDOM().removeClass("hidden")),l.progressValue.getDOM().finish().css("width",0).animate({width:"100%"},dio.cop.bookingForm.interstitial.DURATION_IN_MILLISECONDS,"linear");var r=0;e(),g=setInterval(e,n),d.show()}function i(){clearInterval(g),d.hide()}function n(){var e=dio.getClientData("isModalOverlayWidgetPreferred"),t=dio.getClientData("interstitialModalTitleMessage"),i=e?dio.widget.ModalOverlay:dio.widget.OverlayCentered;o.render(l,{useModalOverlay:e,titleMessage:t}),d=new i({anim:0,buttons:!1,centered:!0,clickMaskToClose:!1,escToClose:!1,overlay:l.getDOM(),manipulateHistory:!1,modal:!0}),s.isInProcessingState.onChange(a)}var r=e("LiveState"),o=e("TemplateRenderer"),s=r.bookingForm,l=r.interstitial,d=void 0,g=void 0;n()});
/*! pages/cop/booking-form/common/overlays/overlay-service.js*/
"use strict";var _slicedToArray=function(){function t(e,r){var t=[],a=!0,o=!1,n=void 0;try{for(var i=e[Symbol.iterator](),l;!(a=(l=i.next()).done)&&(t.push(l.value),!r||t.length!==r);a=!0);}catch(e){o=!0,n=e}finally{try{!a&&i.return&&i.return()}finally{if(o)throw n}}return t}return function(e,r){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,r);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();dio.di.define("OverlayService",function(e,r){function t(e){var r=$.extend(!0,{},d,e),t=l.overlayMessage;t.selector="#"+r.data.id,t.rebind(),s.render(t,{data:r.data}),o($.extend(!0,{},r,{overlay:t.getDOM()}))}function a(e){var r=e.data,t=r.useDefaultOverlay,a=r.useModalOverlay,o=void 0;return new(o=t?dio.widget.Overlay:a?dio.widget.ModalOverlay:dio.widget.OverlayCentered)(e)}function o(o){var n=a(o);l.overlayMessage.overlayInstance.set(n),o.buttons&&Object.entries(o.buttons).forEach(function(e){var r=_slicedToArray(e,2),t=r[0],a;r[1].callback&&n.subscribe("pre:"+t,function(e){return i(n,o,e)})}),n.subscribe("close",c),n.subscribe("hide",c),n.show()}function i(e,r,t){var a=r.data.useModalOverlay?".widget-modaloverlay-":".widget-overlay-",o=t.split(":")[1],n=e.cont.find(a+o);return r.buttons[o].callback(n)}function n(e){var r=l.overlayMessage.overlayInstance.get();r&&(r instanceof dio.widget.Overlay?(r.cont.remove(),r.destroy(),"hide"!==e&&r.hide()):(r.hide(),r.destroy()),l.overlayMessage.overlayInstance.set(null))}var l=e("LiveState"),s=e("TemplateRenderer"),d={anim:"slow",buttonsOrder:["ok","cancel","close"],clickMaskToClose:!1,centered:!0,data:{classes:"",id:"overlay-message",useDefaultOverlay:!1,useModalOverlay:dio.getClientData("isModalOverlayWidgetPreferred")},escToClose:!1,manipulateHistory:!1,modal:!0},c=dio.debounce(n,0);r.exports={show:t,hide:n}});
/*! mvt7327-reporting-patch.js*/
"use strict";dio.di.define("Mvt7327ReportingPatch",function(i,t){function e(){var i,t=a.bookingForm.fields.contactDetails.updateBillingDetails.mvt7327isHidden.get(),e=s.buildMvtReport(7327);t&&e&&s.sendPartialReport({eVar34:e,list3:"D=v34"})}function n(){var i=a.bookingForm.isBookingFormCollapsed;i.get()?i.onChange(e):e()}function o(){dio.getClientData("sica.isUserSignedIn")?n():a.sica.isUserSignedIn.onChange(n)}var a=i("LiveState"),s=i("SiteCatalystService");t.exports={init:o}});
/*! mvt7327-update-account-controller.js*/
"use strict";dio.di.define("Mvt7327UpdateAccountController",function(e,t){function n(){var e=s.bookingForm.fields.paymentDetails.CREDITCARD.selectedSavedCard.get(),t=e&&e.country||s.user.countryCode.get()||"",n=e&&e.postCode||s.user.postCode.get()||"",i=l.country.get()===t,o=l.postCode.get()===n,a=g.phone.get()===(s.user.phone.get()||""),d=i&&o&&a;g.updateBillingDetails.mvt7327isHidden.set(d)}function i(){l.country.onChange(n),l.postCode.onChange(n),g.phone.onChange(n),n()}function o(){s.discover(g.updateBillingDetails,{mvt7327isHidden:{value:null}}),g.updateBillingDetails.mvt7327isHidden.onChange(function(e){return g.updateBillingDetails.getDOM().toggleClass("di-b",!e.value)})}function a(){o(),r?i():s.sica.isUserSignedIn.onChange(i),e("Mvt7327ReportingPatch").init()}var s=e("LiveState"),d=s.bookingForm.fields,l=d.billingDetails,g=d.contactDetails,r=dio.getClientData("sica.isUserSignedIn");t.exports={init:a}}),$(function(){window.commonDataBlock&&dio.di.require("Mvt7327UpdateAccountController").init()});
/*! pages/cop/booking-form/common/tracking/deals-and-discounts-tracker.js*/
"use strict";dio.di.define("DealsAndDiscountsTracker",function(e){function n(){g.sendPartialReport({pageName:"Booking Form - Coupon Apply Button Clicked",eVar33:"Coupon Apply Button Clicked"},null,"Coupon Apply Button Clicked")}function o(){g.sendPartialReport({pageName:"Booking Form - WR Apply Button Clicked",eVar33:"WR Apply Button Clicked"},null,"WR Apply Button Clicked")}function a(e){var n=e.element.get(),o=g.getPageName();g.sendPartialReport({pageName:o+" :: Coupon applied",prop59:"a-"+n,eVar30:n,eVar33:o+" :: Coupon applied"},null,"coupon applied "+n)}function t(){var e=g.getPageName();g.sendPartialReport({pageName:e+" :: Coupon removed",eVar30:"none"},null,"coupon removed")}function i(){var e="WRRewardNightApplied";g.sendPartialReport({pageName:g.getPageName()+" :: "+e,eVar33:e},null,e)}function l(){var e=u.tracking.dealsAndDiscounts.lastInvalidCouponCode.get(),n=g.getPageName();g.sendPartialReport({pageName:n+" :: Coupon failed",prop59:"f-"+e,eVar30:"f-"+e,eVar33:n+" :: Coupon failed"},null,"coupon failed "+e)}function d(){var e=u.tracking.dealsAndDiscounts.lastInvalidCouponCode.get(),n=u.tracking.dealsAndDiscounts.lastInvalidCouponErrorCode.get(),o=g.getPropertyType();g.sendPartialReport({pageName:o+" Booking Form - Dynamic Validation Error",channel:"Booking Form with Error",eVar33:n,list2:n,prop59:"f-"+e,eVar30:"f-"+e},null,"dynamic validation error")}function p(e){e.domEvent&&s()}function s(){var e="Breakfast Applied";g.sendPartialReport({pageName:g.getPageName()+" :: "+e,eVar33:e},null,e)}function r(){u.dealsAndDiscounts.discountOptions.couponCodeOption.form.onDOMEvent("submit",n),u.dealsAndDiscounts.discountOptions.loyaltyRewardsRedeemOption.form.onDOMEvent("submit",o),u.dealsAndDiscounts.discountOptions.couponCodeOption.appliedCouponCode.onChange(a,null,c.isChecked),u.dealsAndDiscounts.discountOptions.couponCodeOption.appliedCouponCode.onChange(t,null,c.isUnchecked),u.tracking.dealsAndDiscounts.isLoyaltyRewardsApplied.onChange(i,null,c.isChecked),u.tracking.dealsAndDiscounts.lastInvalidCouponCode.onChange(l),u.tracking.dealsAndDiscounts.lastInvalidCouponErrorCode.onChange(d),u.dealsAndDiscounts.discountOptions.breakfastUpsell.checkbox.onChange(p),u.dealsAndDiscounts.discountOptions.breakfastUpsell.checkbox.get()&&s()}var u=e("LiveState"),c=e("LiveStateFilters"),g=e("SiteCatalystService");r()});
/*! pages/cop/booking-form/deals-and-discounts/deals-and-discounts-controller.js*/
"use strict";dio.di.define("DealsAndDiscountsController",function(e){function t(){var e=dio.getClientData("baseConfig"),t={dealsAndDiscountsData:v,loyaltyRewardsConfig:m,baseConfig:e,signedIn:u.sica.isUserSignedIn.get()};p.render(u.dealsAndDiscounts,t),o()}function o(){var e=0<dio.getClientData("dealsAndDiscounts.loyaltyRewards.maxNumberOfRedeemableNights");v.coupon&&(D.init(),D.reset()),y.init(),v.breakfastUpsell&&C.init(),f.init(),(u.dealsAndDiscounts.getDOM().hasClass(E)||e)&&dio.event.publish("open:Toggle",u.dealsAndDiscounts.toggleWidget.getDOM().selector)}function a(e){var t;[R.couponCodeOption.getDOM(),R.loyaltyRewardsRedeemOption.getDOM()].forEach(function(e){return e&&e.removeClass(h)}),e.element.getDOM().addClass(h)}function n(e){return!e.getDOM().hasClass(M)}function s(e){var t=u.dealsAndDiscounts.removeGiftCardMessage.getDOM(),o=u.bookingSummaryAndDiscountsContainer.getDOM(),a=R.breakfastUpsell.checkbox.getDOM(),n=[R.couponCodeOption.getDOM(),R.loyaltyRewardsRedeemOption.getDOM(),R.breakfastUpsell.getDOM()].filter(Boolean),s=!$.isEmptyObject(e.value),i=!$.isEmptyObject(e.previousValue),l=R.radioButtons.getDOM();l=l?l.add(a):a,s?(n.forEach(function(e){return e.addClass(M)}),l&&(l.each(function(){var e=$(this);e.data("previousValue",e.prop(M)).prop(M,!0)}),t.removeClass(w)),o.addClass(I),D.toggleCouponForm()):i&&(n.forEach(function(e){return e.removeClass(M)}),l&&(l.each(function(){var e=$(this);e.prop(M,e.data("previousValue"))}),t.addClass(w)),o.removeClass(I),D.toggleCouponForm())}function i(){var e=u.dealsAndDiscounts.removeGiftCardMessage.getDOM(),t=R.loyaltyRewardsRedeemOption.radioButton.getDOM();u.giftCard&&!$.isEmptyObject(u.giftCard.applied.get())&&(R.loyaltyRewardsRedeemOption.getDOM().addClass(M),t.data("previousValue",t.prop(M)).prop(M,!0),e.removeClass(w))}function l(){var e=u.sica.selectedFlow.get(),t=dio.cop.sica.selectedFlow.identifiedUser,o=e===t.signIn||e===t.forgottenPassword,a=u.loyaltyRewardsDialUp,n={baseConfig:dio.getClientData("baseConfig"),loyaltyRewardsConfig:dio.getClientData("loyaltyRewardsConfig"),createAccountData:dio.getClientData("createAccount"),loyaltyData:dio.getClientData("user.loyalty")};p.render(a,n),O.registerForm(a),o&&a.createAccount.getDOM().addClass(w)}function d(){u.loyaltyRewardsDialUp.createAccount.getDOM().remove()}function r(e){var t,o=dio.widget.Toggle.instances.filter(function(e){return e.cont.selector===u.dealsAndDiscounts.getDOM().selector}).pop();o&&(u.dealsAndDiscounts.toggleWidget.widgetBody.getDOM().data("widget-toggle-text",e),o.destructor(),o.bindUI())}function g(){var e=u.user.loyalty&&u.user.loyalty.get(),t=0<dio.getObjectByName("loyaltyRewards.maxNumberOfRedeemableNights",e),o=R.couponCodeOption.appliedCouponCode.get();e.loyaltyRewards&&r(dio.i18n("fastbooking.summary.applyDealOrDiscountSignedIn")),(o||t)&&dio.event.publish("open:Toggle",u.dealsAndDiscounts.toggleWidget.getDOM().selector)}function c(){var e=dio.getClientData("loyaltyRewardsConfig.loyaltyDialUpEnabled");R.couponCodeOption.onDOMEvent("click",a,void 0,n),R.loyaltyRewardsRedeemOption.onDOMEvent("click",a,void 0,n),u.sica.isUserSignedIn.onChange(g),t(),u.giftCard&&(u.giftCard.applied.onChange(s),R.loyaltyRewardsRedeemOption.configuration.onChange(i)),e&&!u.user.emailAddress.get()&&(l(),u.user.emailAddress.onChange(d))}var u=e("LiveState"),D=e("CouponCodeController"),p=e("TemplateRenderer"),C=e("BreakfastUpsellController"),y=e("LoyaltyRewardsController"),f=e("DealsAndDiscountsStateHandler"),O=e("CommonFormController"),m=dio.getClientData("loyaltyRewardsConfig"),v=dio.getClientData("dealsAndDiscounts"),R=u.dealsAndDiscounts.discountOptions,A=dio.cop.general.states,M=A.DISABLED,w=A.HIDDEN,b=dio.cop.dealsAndDiscounts.states,h=b.DISCOUNT_OPTION_SELECTED,E=b.NO_DISCOUNTS,I=dio.cop.giftCard.states.GIFT_CARD_APPLIED;c()});
/*! pages/cop/booking-form/deals-and-discounts/deals-and-discounts-request-builder.js*/
"use strict";dio.di.define("DealsAndDiscountsRequestBuilder",function(e,t){function d(e){var t=dio.getClientData("baseConfig.clientToken");e[t.name]=t.value}function i(e){var t;return p.dealsAndDiscounts.discountOptions.loyaltyRewardsRedeemOption.forceCacheUpdate.get()?$.extend({},e,{forceCacheUpdate:"true"}):e}function a(){var e,t={};t[dio.getClientData("dealsAndDiscounts.coupon.couponInputField.name")]=p.dealsAndDiscounts.discountOptions.couponCodeOption.form.couponCodeField.get();var a=c.build(),n=$.extend({},a,t);return d(n),{url:dio.getClientData("dealsAndDiscounts.coupon.couponApplyUrl"),type:"POST",dataType:"JSON",data:n}}function n(){var e=dio.getClientData("dealsAndDiscounts.coupon.couponInputField.name"),t=c.build();return delete t[e],d(t),{url:dio.getClientData("dealsAndDiscounts.coupon.couponRemoveUrl"),type:"POST",dataType:"JSON",data:t,traditional:!0}}function l(e){if(0<e.length)return e[0].getDOM().attr("name")}function s(){var e=p.dealsAndDiscounts.discountOptions.loyaltyRewardsRedeemOption.form.fields.nightCheckboxes.getChildren(),n=l(e),o={};return $.each(e,function(e,t){var a=t.get();a&&(o[n]||(o[n]=[]),o[n].push(a))}),o}function o(){var e=c.build(),t,a={};a[dio.getClientData("loyaltyRewardsConfig.freeNightAppliedFieldName")]=!0;var n=$.extend(a,s());p.dealsAndDiscounts.discountOptions.loyaltyRewardsRedeemOption.request.set(n);var o=$.extend(e,n);return d(o),o=i(o),{url:dio.getClientData("loyaltyRewardsConfig.loyaltyRewardsApplyUrl"),type:"POST",dataType:"JSON",data:o,traditional:!0}}function u(){var e=dio.getClientData("loyaltyRewardsConfig.freeNightAppliedFieldName"),t,a,n=l(p.dealsAndDiscounts.discountOptions.loyaltyRewardsRedeemOption.form.fields.nightCheckboxes.getChildren()),o=c.build();return delete o[e],delete o[n],d(o),o=i(o),{url:dio.getClientData("loyaltyRewardsConfig.loyaltyRewardsRemoveUrl"),type:"POST",dataType:"JSON",data:o,traditional:!0}}function r(e){var t=c.build(),a=e?"dealsAndDiscounts.breakfastUpsell.breakfastUpsellApplyUrl":"dealsAndDiscounts.breakfastUpsell.breakfastUpsellRemoveUrl";return d(t),{url:dio.getClientData(a),type:"POST",dataType:"JSON",data:t,traditional:!0}}var p=e("LiveState"),c=e("BookingRequestBuilder");t.exports={buildCouponCodeApplyRequest:a,buildCouponCodeRemoveRequest:n,buildLoyaltyRewardsApplyRequest:o,buildLoyaltyRewardsRemoveRequest:u,buildBreakfastRequest:r}});
/*! pages/cop/booking-form/deals-and-discounts/deals-and-discounts-response-processor.js*/
"use strict";dio.di.define("DealsAndDiscountsResponseProcessor",function(e,a){function o(e){var a=e.warnings&&e.warnings.priceChangeError;a&&("RISE"===a.priceChangeType&&M.showPriceChangeError("priceIncreaseCoupon",a),"DROP"===a.priceChangeType&&M.showPriceChangeError("priceDecreaseCoupon",a))}function t(e){var a=dio.i18n("error.coupon.serviceError");e.errorMessage.set(a)}function i(){P.checkbox.set(P.previousValue.get())}function r(){t(L),w.turnCouponCodeErrorStateOn(!1)}function n(){t(P),i(),P.getDOM().addClass("has-error")}function s(e){var a=e.data;a&&(L.appliedCouponDetails.set(a),a.errors?p(a.errors):(u(a),L.appliedCouponCode.set(a.discountDetail.appliedCouponCode),w.turnCouponCodeAppliedStateOn(),E.render(L.appliedInfo,{appliedCouponCodeData:dio.getObjectByName("discountDetail.financialDetails.pricingDetails.couponCodeApplied",a),loyaltyData:dio.getObjectByName("discountDetail.loyaltyData",a),isSignedIn:v.sica.isUserSignedIn.get()}),v.bookingSummary.financialDetails.pricingDetails.dealsAndDiscountsApplied.removeButton.rebind()))}function l(){void 0}function d(e){var a=e.data;a&&(u(a),L.appliedCouponCode.set(null),w.turnOffAnyDiscountAppliedState(),E.empty(L.appliedInfo))}function p(e){var a=$.trim(L.form.couponCodeField.get());v.tracking.dealsAndDiscounts.lastInvalidCouponCode.set(a,!0),e.hotelNotAvailableError?c(e.hotelNotAvailableError):e.discountApplyError&&y(e.discountApplyError)}function c(e){M.showHotelNotAvailableError(e)}function y(e){L.errorMessage.set(e.description),e.couponTermsConditionsUrl?(N.getDOM().attr("href",e.couponTermsConditionsUrl),w.turnCouponCodeErrorStateOn(!0)):w.turnCouponCodeErrorStateOn(!1),e.code&&v.tracking.dealsAndDiscounts.lastInvalidCouponErrorCode.set(e.code,!0)}function u(e){var a=e.discountDetail,t={financialDetails:a.financialDetails,loyaltyData:a.loyaltyData};v.bookingSummary.financialDetails.configuration.set(t),v.tracking.prices.discountedTotalPrice.set(a.tracking.prices.discountedTotalPrice),f(a),a.breakfastUpsell&&P.price.set(a.breakfastUpsell.price),g(a),o(e),O.updateHiddenFields(e.hiddenFields),e.paymentConfigurations&&S.updatePaymentConfigurations(e.paymentConfigurations),a.paymentDetails&&b.updatePaymentPanels(a.paymentDetails.availablePayments),e.paymentDetails&&S.updatePaymentDetails(e.paymentDetails),e.partnerLoyaltyDetails&&e.partnerLoyaltyDetails.earnMessage&&v.bookingForm.fields.affiliateField.earnMessage.set(e.partnerLoyaltyDetails.earnMessage)}function g(e){e.loyaltyData&&(v.user.loyalty.set(e.loyaltyData),e.loyaltyData.loyaltyRewards&&U.configuration.set(e.loyaltyData.loyaltyRewards))}function f(e){var a=v.user.emailAddress.get(),t=dio.getClientData("loyaltyRewardsConfig.loyaltyDialUpEnabled"),o=dio.getClientData("identifiedUser"),i=v.sica.selectedFlow.get(),r=i===dio.cop.sica.selectedFlow.identifiedUser.signIn||i===dio.cop.sica.selectedFlow.identifiedUser.forgottenPassword;if(a)h.injectSignedInTemplate({emailAddress:a,loyalty:e.loyaltyData});else{if(t){v.sica.flowSelector.loyaltyCardMainMessage.set(e.loyaltyData.loyaltyCardMainMessage);var n={baseConfig:dio.getClientData("baseConfig"),loyaltyRewardsConfig:dio.getClientData("loyaltyRewardsConfig"),createAccountData:dio.getClientData("createAccount"),loyaltyData:e.loyaltyData,isHidden:r};E.render(v.loyaltyRewardsDialUp,n)}o&&e.identifiedUser&&h.injectIdentifiedUser(e.identifiedUser)}}function C(e){w.turnLoyaltyRewardsErrorStateOn(),e.discountApplyError&&U.errorMessage.set(e.discountApplyError.description),e.hotelNotAvailableError&&c(e.hotelNotAvailableError)}function D(e){var a=e.data,t=dio.getClientData("loyaltyRewardsConfig.freeWording")||"";if(a)if(a.errors)C(a.errors);else{u(a),w.turnLoyaltyRewardsRedeemAppliedStateOn();var o=U.configuration.get(),i=o&&o.isCustomerHcomRewardsCreditCardApproved;E.render(U.loyaltyRewardsRedeemAppliedMessage,{redeemedNightsMessage:dio.i18n("booking.dealsAndDiscounts.loyaltyRewardsRedeem.appliedNights"+t,a.discountDetail.loyaltyData.redeemedNightsCount),sumOfLoyaltyRewardsSaving:a.discountDetail.sumOfLoyaltyRewardsSaving,isRedemptionFeeApplied:a.discountDetail.isRedemptionFeeApplied,redemptionFee:o&&o.redemptionFee,isCustomerHcomRewardsCreditCardApproved:i}),U.freeNightsApplied.set(!0),v.tracking.dealsAndDiscounts.isLoyaltyRewardsApplied.set(!0,!0)}}function m(e){var a=e.data;a&&(a.errors?C(a.errors):(u(a),w.turnOffAnyDiscountAppliedState(),E.empty(U.loyaltyRewardsRedeemAppliedMessage),U.freeNightsApplied.set(!1),v.tracking.dealsAndDiscounts.isLoyaltyRewardsApplied.set(!1)))}function A(e){e.commonErrorMessage&&(i(),M.handleCommonErrorMessage(e.commonErrorMessage))}function R(e){var a=e.data;a&&(a.errors?A(a.errors):(u(a),U.freeNightsApplied.get()&&U.loyaltyRewardsRedeemAppliedMessage.savedValuePlaceholder.set(a.discountDetail.sumOfLoyaltyRewardsSaving)))}var v=e("LiveState"),w=e("DealsAndDiscountsStateHandler"),h=e("TemplateInjector"),E=e("TemplateRenderer"),S=e("PaymentService"),b=e("PaymentDetailsController"),M=e("BookingService"),O=e("UtilityService"),k=v.dealsAndDiscounts.discountOptions,U=k.loyaltyRewardsRedeemOption,P=k.breakfastUpsell,L=k.couponCodeOption,N=L.errorTermsAndConditionLink;a.exports={handleCouponCodeApplyHttpError:r,processCouponCodeApplyResponse:s,handleCouponCodeRemovalHttpError:l,processCouponCodeRemovalResponse:d,processLoyaltyRewardsApplyResponse:D,processLoyaltyRewardsUpdateResponse:m,handleBreakfastUpsellHttpError:n,processBreakfastUpsellResponse:R}});
/*! pages/cop/booking-form/deals-and-discounts/deals-and-discounts-state-handler.js*/
"use strict";dio.di.define("DealsAndDiscountsStateHandler",function(t,e){function s(t){var e=dio.i18n(t?"fastbooking.summary.removeDiscount":"fastbooking.summary.applyingDiscount"),s=C.discountOptions.breakfastUpsell.checkbox.getDOM();C.isInProcessingState.set(!0),D.show(e),s&&s.prop("disabled",!0)}function o(){var t=C.discountOptions.breakfastUpsell.checkbox.getDOM();D.hide(),t&&t.prop("disabled",!1),C.isInProcessingState.set(!1)}function n(){C.getDOM().addClass(S)}function a(){C.getDOM().addClass(R)}function i(){C.getDOM().removeClass(S),C.getDOM().removeClass(R)}function d(t){var e=C.discountOptions.couponCodeOption.getDOM();e.addClass(b),e.addClass(A),t&&e.addClass(E)}function r(){var t=C.discountOptions.couponCodeOption.getDOM();t.removeClass(b),t.removeClass(A),t.removeClass(E)}function l(){var t;C.discountOptions.loyaltyRewardsRedeemOption.getDOM().addClass(I)}function O(){var t;C.discountOptions.loyaltyRewardsRedeemOption.getDOM().removeClass(I)}function u(){var t=!!dio.getClientData("dealsAndDiscounts.couponsEnabled"),e=C.discountOptions.availableOptions.get();C.getDOM().toggleClass(M,1<e),C.getDOM().toggleClass(m,1===e),C.getDOM().toggleClass(P,t&&0===e),C.getDOM().toggleClass(L,!t&&0===e);var s=!C.getDOM().hasClass(L);f.getDOM().toggleClass("has-deals-and-discount-section-displayed",s)}function c(){var t=0;dio.getClientData("dealsAndDiscounts.coupon")&&t++,(dio.getClientData("dealsAndDiscounts.loyaltyRewards")||v.get())&&t++,C.discountOptions.availableOptions.set(t)}function g(){C.discountOptions.availableOptions.onChange(u),v.onChange(c),c()}var p=t("LiveState"),D=t("AsideProgressOverlayService"),C=p.dealsAndDiscounts,f=p.bookingSummaryAndDiscountsContainer,v=C.discountOptions.loyaltyRewardsRedeemOption.configuration,y=dio.cop.dealsAndDiscounts.states,S=y.COUPON_CODE_APPLIED,R=y.LOYALTY_REWARDS_REDEEM_APPLIED,A=y.INVALID_COUPON_CODE,E=y.WITH_T_AND_C,M=y.MULTIPLE_OPTIONS,m=y.SINGLE_OPTION,P=y.NO_DISCOUNTS,_=dio.cop.general.states,b=_.STATE_ERROR,I=_.ERROR,L=_.HIDDEN;e.exports={turnProcessingStateOn:s,turnProcessingStateOff:o,turnCouponCodeAppliedStateOn:n,turnLoyaltyRewardsRedeemAppliedStateOn:a,turnOffAnyDiscountAppliedState:i,turnCouponCodeErrorStateOn:d,turnCouponCodeErrorStateOff:r,turnLoyaltyRewardsErrorStateOn:l,turnLoyaltyRewardsErrorStateOff:O,init:g}});
/*! pages/cop/booking-form/deals-and-discounts/coupon-code-controller.js*/
"use strict";dio.di.define("CouponCodeController",function(e,o){function n(){c.disableSubmitButton(m),D.set("")}function t(){c.disableSubmitButton(m),D.set(""),D.getDOM()&&D.getDOM().prop("disabled",!D.getDOM().prop("disabled"))}function s(){p.turnCouponCodeErrorStateOff(),$.trim(D.get())?c.enableSubmitButton(m):c.disableSubmitButton(m)}function i(){var e=C.multiRoomWarning.getDOM();e&&e.removeClass("hidden")}function r(){var e=C.unitedMilesWarning.getDOM();e&&commonDataBlock.user.pos.match(/^UNITED_/)&&e.removeClass("hidden")}function u(e){var o=f.buildCouponCodeApplyRequest();e.domEvent.preventDefault(),p.turnCouponCodeErrorStateOff(),p.turnProcessingStateOn(!1),m.isInProcessingState.set(!0),dio.event.publish("open:Toggle",l.dealsAndDiscounts.toggleWidget.getDOM().selector),$.ajax(o).always(function(){p.turnProcessingStateOff(),m.isInProcessingState.set(!1)}).done(g.processCouponCodeApplyResponse).fail(g.handleCouponCodeApplyHttpError)}function a(){var e=f.buildCouponCodeRemoveRequest();p.turnProcessingStateOn(!0),m.isInProcessingState.set(!0),$.ajax(e).done(g.processCouponCodeRemovalResponse).done(n).fail(g.handleCouponCodeRemovalHttpError).always(function(){p.turnProcessingStateOff(),m.isInProcessingState.set(!1)})}function d(){var e=l.bookingSummary.financialDetails.pricingDetails.dealsAndDiscountsApplied.removeButton;r(),D.onDOMEvent("focus",i),D.onChange(s),m.onDOMEvent("submit",u),e.onDOMEvent("click",a)}var l=e("LiveState"),c=e("FormService"),p=e("DealsAndDiscountsStateHandler"),f=e("DealsAndDiscountsRequestBuilder"),g=e("DealsAndDiscountsResponseProcessor"),C=l.dealsAndDiscounts.discountOptions.couponCodeOption,m=C.form,D=C.form.couponCodeField;o.exports={init:d,reset:n,toggleCouponForm:t}});
/*! pages/cop/booking-form/deals-and-discounts/breakfast-upsell-controller.js*/
"use strict";dio.di.define("BreakfastUpsellController",function(e,s){function t(e){e.domEvent&&(l.previousValue.set(e.previousValue),o.turnProcessingStateOn(!e.value),l.isInProcessingState.set(!0),l.getDOM().removeClass("has-error").addClass("loading"),$.ajax(r.buildBreakfastRequest(e.value)).always(function(){o.turnProcessingStateOff(),l.getDOM().removeClass("loading"),l.isInProcessingState.set(!1)}).fail(i.handleBreakfastUpsellHttpError).done(i.processBreakfastUpsellResponse))}function a(){l.checkbox.onChange(t)}var n=e("LiveState"),o=e("DealsAndDiscountsStateHandler"),r=e("DealsAndDiscountsRequestBuilder"),i=e("DealsAndDiscountsResponseProcessor"),l=n.dealsAndDiscounts.discountOptions.breakfastUpsell;s.exports={init:a}});
/*! pages/cop/booking-form/deals-and-discounts/loyalty-rewards-controller.js*/
"use strict";dio.di.define("LoyaltyRewardsController",function(e,t){function a(){var e;return T.form.fields.nightCheckboxes.getChildren().reduce(function(e,t){return e+(t.get()?1:0)},0)}function o(e){T.form.fields.nightCheckboxes.getChildren().forEach(e)}function s(e){e.getDOM().prop("disabled",!1)}function n(e){e.set(void 0)}function r(){i(),T.form.getDOM()&&E()}function i(){var e=T.configuration.get();e&&0<e.maxNumberOfRedeemableNights&&dio.event.publish("open:Toggle",_.dealsAndDiscounts.toggleWidget.getDOM().selector)}function E(){var e=T.configuration.get(),t=a(),n=e&&e.maxNumberOfRedeemableNights,o=_.user.loyalty.get().pendingCreditsCount-t,s=-1<o?o:0,r=dio.i18n("booking.dealsAndDiscounts.loyaltyRewardsRedeem.saveAndEarn","",s,"");T.pendingCreditsCountText.set(r),e.redeemableNights&&1!==e.redeemableNights.length&&T.pendingCreditsCountText.getDOM().toggleClass("credits-remained",0<o),e&&t?e.redeemableNights&&1===e.redeemableNights.length?T.form.state.set(p.SINGLE_NIGHT_REDEEM):t<n?T.form.state.set(p.SOME_NIGHTS_SELECTED):t===n?T.form.state.set(p.REDEEM_LIMIT_REACHED):n<t&&T.form.state.set(p.REDEEM_LIMIT_EXCEEDED):T.form.state.set(p.NO_NIGHTS_SELECTED)}function d(){T.errorMessage.set(dio.i18n("error.coupon.serviceError")),O.turnLoyaltyRewardsErrorStateOn()}function l(e){e.domEvent.preventDefault(),T.form.state.get()===p.REDEEM_LIMIT_EXCEEDED?T.form.state.set(p.REDEEM_LIMIT_EXCEEDED_ERROR):T.form.state.get()!==p.REDEEM_LIMIT_EXCEEDED_ERROR&&(O.turnProcessingStateOn(!1),O.turnLoyaltyRewardsErrorStateOff(),M.turnProcessingStateOn(T.form),$.ajax(y.buildLoyaltyRewardsApplyRequest()).fail(d).done(b.processLoyaltyRewardsApplyResponse).always(function(){O.turnProcessingStateOff(),M.turnProcessingStateOff(T.form)}))}function c(){return O.turnProcessingStateOn(!0),O.turnLoyaltyRewardsErrorStateOff(),M.turnProcessingStateOn(T.form),$.ajax(y.buildLoyaltyRewardsRemoveRequest()).fail(d).done(b.processLoyaltyRewardsUpdateResponse).always(function(){M.turnProcessingStateOff(T.form),O.turnProcessingStateOff(),m()||T.form.state.set(p.REMOVE_REDEEMED_NIGHTS)})}function u(e){var t=e.element.get(),n=dio.getClientData("loyaltyRewardsConfig");S.render(T.section,{loyaltyRewardsRedeemData:t,loyaltyRewardsConfig:n,baseConfig:dio.getClientData("baseConfig")}),_.dealsAndDiscounts.discountOptions.loyaltyRewardsRedeemOption.rebind(),_.dealsAndDiscounts.discountOptions.radioButtons.rebind(),I.buildLoyaltyRewardsNightCheckboxes(t.redeemableNights),r()}function f(e){var t=e.element.get(),n=T.form.getDOM();switch(Object.keys(p).forEach(function(e){n.removeClass(p[e])}),t){case p.SINGLE_NIGHT_REDEEM:n.addClass(p.SINGLE_NIGHT_REDEEM),T.form.fields.nightCheckboxes.getChildren()[0].getDOM().attr("disabled",!0),M.enableSubmitButton(T.form);break;case p.REMOVE_REDEEMED_NIGHTS:case p.NO_NIGHTS_SELECTED:n.addClass(p.NO_NIGHTS_SELECTED),M.disableSubmitButton(T.form),o(s);break;case p.SOME_NIGHTS_SELECTED:n.addClass(p.SOME_NIGHTS_SELECTED),M.enableSubmitButton(T.form),o(s);break;case p.REDEEM_LIMIT_REACHED:n.addClass(p.REDEEM_LIMIT_REACHED),M.enableSubmitButton(T.form);break;case p.REDEEM_LIMIT_EXCEEDED:n.addClass(p.REDEEM_LIMIT_EXCEEDED);break;case p.REDEEM_LIMIT_EXCEEDED_ERROR:n.addClass(p.REDEEM_LIMIT_EXCEEDED_ERROR)}}function D(e){T.getDOM().removeClass("discount-option-selected"),T.radioButton.getDOM().attr("checked",!1),e.domEvent.preventDefault(),e.domEvent.stopPropagation()}function g(e){D(e),m()||o(n)}function m(){return T.form.state.get()===p.SINGLE_NIGHT_REDEEM}function R(e){l(e),D(e)}function C(){L.registerForm(T.form),T.form.onDOMEvent("submit",l),T.form.fields.nightCheckboxes.onChange(r,"children"),T.form.state.onChange(f),T.removeButton.onDOMEvent("click",c),T.configuration.onChange(u),r(),T.cancelButton.onDOMEvent("click",g),T.discountOptionNameContainer.onDOMEvent("click",R,null,m),T.removeButton.onDOMEvent("click",g)}var _=e("LiveState"),M=e("FormService"),O=e("DealsAndDiscountsStateHandler"),y=e("DealsAndDiscountsRequestBuilder"),b=e("DealsAndDiscountsResponseProcessor"),S=e("TemplateRenderer"),I=e("LiveStateBuilder"),L=e("CommonFormController"),T=_.dealsAndDiscounts.discountOptions.loyaltyRewardsRedeemOption,p=dio.cop.loyaltyRewards.form.states;t.exports={init:C,removeLoyaltyRewards:c}});
/*! pages/cop/booking-form/home-details/home-details-controller.js*/
"use strict";dio.di.define("HomeDetailsController",function(e){function i(){t.init(o.bookingForm.fields.homeDetails)}var o=e("LiveState"),t=e("AddressController");i()});
/*! pages/cop/booking-form/sica/forgotten-password/forgotten-password-controller.js*/
"use strict";dio.di.define("ForgottenPasswordController",function(e,o){function t(){var e=n.sica.signInForm.fields.email.get();e&&n.sica.signInForm.fields.email.validation.result.get().valid&&d.fields.email.set(e)}function s(e){e.value===dio.cop.sica.selectedFlow.forgottenPassword?(a.resetForm(d),t(),n.sica.getDOM().addClass("sica-forgotten"),a.refreshForm(d)):(n.sica.getDOM().removeClass("sica-forgotten"),l.cleanUpForgottenPasswordError(d))}function i(){n.sica.selectedFlow.set(dio.cop.sica.selectedFlow.signIn)}function r(){n.sica.selectedFlow.onChange(s),d.cancelButton.onDOMEvent("click",i),d.onDOMEvent("submit",l.submitForgottenPassword.bind(null,d)),c.registerForm(d)}var n=e("LiveState"),a=e("FormService"),c=e("CommonFormController"),l=e("ForgottenPasswordService"),d=n.sica.forgottenPasswordForm;o.exports={init:r}});
/*! pages/cop/booking-form/common/tracking/forgotten-password-tracker.js*/
"use strict";dio.di.define("ForgottenPasswordTracker",function(e,t){function o(){s.sendPartialReport({eVar33:"Forgotten Password - Reset email sent"})}function r(){s.sendPartialReport({eVar33:"Forgotten Password - No existing account"})}var s=e("SiteCatalystService");t.exports={sendSuccessfulResettingReport:o,sendNoAccountReport:r}});
/*! pages/cop/booking-form/sica/sign-in/sign-in-controller.js*/
"use strict";dio.di.define("SignInController",function(e,o){function i(e){e.value===dio.cop.sica.selectedFlow.signIn?(e.previousValue!==dio.cop.sica.selectedFlow.forgottenPassword&&d.resetForm(m),e.previousValue!==dio.cop.sica.selectedFlow.identifiedUser.signIn&&e.previousValue!==dio.cop.sica.selectedFlow.identifiedUser.forgottenPassword||f.toggleDialUpContainer(!0),c.sica.getDOM().addClass("sica-signin"),d.refreshForm(m)):(c.sica.getDOM().removeClass("sica-signin"),u.empty(m.notification),f.hideSignInError(m))}function t(){dio.getClientData("loyaltyRewardsConfig.loyaltyDialUpEnabled")?f.toggleDialUpContainer():c.sica.selectedFlow.set(dio.cop.sica.selectedFlow.flowSelector)}function n(){c.sica.selectedFlow.set(dio.cop.sica.selectedFlow.forgottenPassword)}function s(){var e=m.fields.email.tryingAutoComplete.get(),o=m.fields.password.getDOM().val();e&&o&&setTimeout(l,0),m.fields.email.tryingAutoComplete.set(!1)}function l(){m.fields.password.set(m.fields.password.getDOM().val()),m.fields.password.triggerDOMEvent("blur")}function a(e){var o=e.domEventName,i=e.keyCode,t=e.element,n,s;("keydown"===o&&i===p||"dblclick"===o)&&t.tryingAutoComplete.set(!0)}function r(){c.sica.selectedFlow.onChange(i),m.forgottenPasswordLink.onDOMEvent("click",n),m.fields.email.onDOMEvent(["keydown","dblclick"],a),m.fields.email.onChange(s),m.onDOMEvent("submit",function(e){e.domEvent.preventDefault(),f.submitSignIn(m)}),m.cancelButton.onDOMEvent("click",t),g.registerForm(m)}var c=e("LiveState"),d=e("FormService"),g=e("CommonFormController"),f=e("SignInService"),u=e("TemplateRenderer"),m=c.sica.signInForm,p=40;o.exports={init:r}});
/*! pages/cop/booking-form/book-button-area/agree-to-terms-multi-checkbox-controller.js*/
"use strict";dio.di.define("AgreeToTermsMultiCheckboxController",function(e){function o(){var e=t.getDOM().prop("checked");l.set(e),r.set(e),a.set(e)}function c(){var e=l.getDOM().prop("checked")&&r.getDOM().prop("checked")&&a.getDOM().prop("checked");t.set(e)}function i(){k&&(t.onDOMEvent("click",o),l.onDOMEvent("click",c),r.onDOMEvent("click",c),a.onDOMEvent("click",c))}var n=e("LiveState"),t=n.bookingForm.fields.cancellationPolicy.agreeCheckbox,l=n.bookingForm.fields.cancellationPolicy.ageCheckbox,r=n.bookingForm.fields.cancellationPolicy.personalInfoCheckbox,a=n.bookingForm.fields.cancellationPolicy.thirdPartyCheckbox,k=dio.getClientData("isMultiCheckbox");i()});
/*! pages/cop/booking-form/payment-details/payment-service.js*/
"use strict";dio.di.define("PaymentService",function(t,n){function o(t){return t.replace(/[\D]+/g,"")}function i(t,e){var i={hasMatchingLength:!1,hasMatchingPrefix:!1},n=t.knownLengthsAndPrefixes||[],r=e.length;return n.some(function(t){var n=t.length===r;if(n&&(i.hasMatchingLength=n,i.hasMatchingPrefix=a(e,t),i.hasMatchingPrefix))return!0}),i}function r(t,e){var i={hasMatchingPrefix:!1},n;return(t.knownLengthsAndPrefixes||[]).some(function(t){var n=a(e,t);if(n)return i.hasMatchingPrefix=n,!0}),i}function e(t,n){var e,i;return(t.analytics.binRanges||[]).find(function(t){return a(n,t)})}function a(t,n){var e=void 0;return n.prefix?e=s(t,n.prefix):n.minPrefix&&n.maxPrefix&&(e=u(t,n.minPrefix,n.maxPrefix)),e}function s(t,n){var e,i;return parseInt(t.substr(0,n.length),10)===parseInt(n,10)}function u(t,n,e){var i=parseInt(t.substr(0,n.length),10),r=parseInt(t.substr(0,e.length),10),a=parseInt(n,10),o=parseInt(e,10),s,u;return a<=i&&r<=o}function c(t,n){var e;return i(t,o(n))}function f(t,n){var e=o(n),i={hasMatchingLength:!1},r=t.cardNumber&&t.cardNumber.allowedLengths||[],a=e.length;return r.some(function(t){return i.hasMatchingLength=a===t}),i}function d(t,n){var e;return r(t,o(n))}function m(t){t.forEach(function(t){var e=$.extend(!0,{},t),n=M.bookingForm.fields.paymentDetails[e.id],i=n&&n.configuration.get(),r=void 0;n&&n.configuration&&("CREDITCARD"===e.id&&e.creditCards&&(i.creditCards.forEach(function(n,t){r=e.creditCards.filter(function(t){return t.id===n.id}).shift(),i.creditCards[t]=dio.mix({},n,r)}),delete e.creditCards),e.postParameters&&i.postParameters&&(i.postParameters=dio.mix({},i.postParameters,e.postParameters),delete e.postParameters),n.configuration.set(dio.mix({},i,e)))})}function g(t){"string"==typeof t?M.bookingForm.fields.paymentDetails.selectedPayments.set([t]):M.bookingForm.fields.paymentDetails.selectedPayments.set(t)}function l(t){var n;return-1!==M.bookingForm.fields.paymentDetails.selectedPayments.get().indexOf(t)}function p(){var n=M.bookingForm.fields.paymentDetails,e=n.configuration.get().totalPaymentAmount,i=void 0;n.availablePayments.get().forEach(function(t){(i=n[t].configuration.get()).postParameters.paymentAmount.value=e,n[t].configuration.set(i)})}function P(t){var n=M.bookingForm.fields.paymentDetails.configuration;n.set(dio.mix({},n.get(),t))}function h(){var t=M.bookingForm.fields.paymentDetails.configuration.get();return{subtotal:t.subtotalPaymentAmount.split(",")[0],taxesAndFees:t.taxesAndFeesPaymentAmount.split(",")[0],total:t.totalPaymentAmount.split(",")[0],currency:t.totalPaymentAmount.split(",")[1]}}function y(){var t=M.bookingForm.fields.paymentDetails.POINTS,n=t&&t.configuration.get().pointsAndAmountsPairs,e=n&&n.options,i=e&&t.loggedInSection.pointsAndAmountsPairs.option.get(),r;return i&&k.getFirstMatchingConfiguration(e,i,"value")}function C(){var t=y(),n=t&&t.paymentSummary&&t.paymentSummary.amountLeftToPay,e=t&&t.isSplitPayment;return n&&e}function v(){var t=I.configuration.get().id;M.bookingForm.fields.paymentDetails.paymentSelector.set(t)}function x(t){return k.getConfiguration(I.configuration.get().creditCards,t,"id")}function b(e,i){var t=I.configuration.get().creditCards,r=void 0;return t.some(function(t){var n;if(i(t,e).hasMatchingPrefix){if(t.isMainInBrandGroup)return r=t,!0;r||(r=t)}}),r&&r.id}function A(t){return b(t,c)}function D(t){return b(t,d)}function F(t){var n=dio.getClientData("hcc.analytics.bankIdentificationNumbers"),e=!1;return n&&(e=n.includes(t)),e}var M=t("LiveState"),k=t("UtilityService"),I=M.bookingForm.fields.paymentDetails.CREDITCARD;n.exports={isCreditCardNumberMatchingConfiguration:c,isCreditCardNumberMatchingBrandSpecificAllowedLengths:f,isCreditCardPrefixMatchingConfiguration:d,isCardNumberWithinBinRanges:e,updatePaymentConfigurations:m,setSelectedPayments:g,isPaymentSelected:l,resetPaymentAmounts:p,updatePaymentDetails:P,splitPaymentDetails:h,stripCreditCardNumber:o,getPointsSelectedPointsAndAmountsPair:y,isPointsAmountLeftToPay:C,selectCreditCard:v,getCreditCardConfigById:x,getValidCreditCardTypeFromConfig:A,getPartialCreditCardTypeFromConfig:D,isHcomRewardsCreditCard:F}});
/*! pages/cop/booking-form/payment-details/installments-service.js*/
"use strict";dio.di.define("InstallmentsService",function(e,n){function t(){var e=g.configuration.get().installments,n=g.installments.option.get(),t=d.getFirstMatchingConfiguration(e.options,n,"value")||e.options[0],i=dio.getObjectByName("financialDetails.pricingDetails.mandatoryFeesBreakdownForIndividualFees",t);if(1<e.options.length){if(m.taxesAndFees.configuration.set(t.financialDetails.taxesAndFees),m.total.set(t.financialDetails.totalPrice),u.installmentsNoRefundMessage.set(t.noRefundMessage),m.mandatoryFeesBreakdown&&t.financialDetails.pricingDetails&&t.financialDetails.pricingDetails.mandatoryFeesBreakdown&&m.mandatoryFeesBreakdown.configuration.set(t.financialDetails),f.grandTotalPrice&&t.financialDetails.grandTotalPrice){var a={amount:t.financialDetails.grandTotalPrice.amount,isNonBillable:t.financialDetails.grandTotalPrice.isNonBillable};f.grandTotalPrice.configuration.set(a)}m.feesBreakdown&&i&&m.feesBreakdown.configuration.set(i),c.render(g.installments.info,{installments:e,selectedOptionDetails:t})}else u.installmentsNoRefundMessage.set(""),c.render(g.installments.info)}function i(e){var n=g.configuration.get();n.installments.bankName=e.bankName||null,n.installments.options=e.availableInstallmentOptions||e.options||null,g.configuration.set(n,!0)}function a(e){var n=g.configuration.get().installments,t=g.installments.option.get();e===p?(d.setSelectedOptionByValue(n.options,t),c.render(g.installments,{installments:n})):e===D&&c.render(g.installments)}function s(){var e,n=g.configuration.get().installments;if(n.options&&1<n.options.length){if(n.isBinCheckRequired){if(g.selectedSavedCard.get())return o()?p:D;if(g.installments.hasRenderTimeOptions.get())return l()?p:D}return p}return D}function l(){var e=g.selectedCreditCard.get(),n=g.installments.bin.get();return e.installmentsEligibleBins&&-1!==e.installmentsEligibleBins.indexOf(n)}function o(){var e=g.selectedSavedCard.get();return e.acceptable&&!e.isInstallmentsRestricted||e.installments}var r=e("LiveState"),c=e("TemplateRenderer"),d=e("UtilityService"),g=r.bookingForm.fields.paymentDetails.CREDITCARD,f=r.bookingSummary.financialDetails,m=f.pricingDetails,u=r.bookingForm.fields.cancellationPolicy,p="display",D="remove";n.exports={updateInstallmentsRelatedMessagesAndPrices:t,setInstallmentsInConfiguration:i,getInstallmentsOptionsDisplayAction:s,updateInstallmentsOptions:a}});
/*! pages/cop/booking-form/payment-details/installments-request-builder.js*/
"use strict";dio.di.define("InstallmentsRequestBuilder",function(t,n){function e(){return JSON.stringify({bin:l.installments.bin.get(),uuid:dio.getClientData("baseConfig.uuid"),totalGrossPrice:o.configuration.get().totalPaymentAmount,totalNetPrice:o.configuration.get().subtotalPaymentAmount})}function i(){return{url:l.configuration.get().installments.availableInstallmentsUrl,type:"POST",dataType:"json",contentType:"application/json; charset=UTF-8",data:e()}}var a,o=t("LiveState").bookingForm.fields.paymentDetails,l=o.CREDITCARD;n.exports={buildAvailableInstallmentsRequest:i}});
/*! pages/cop/booking-form/payment-details/payment-details-controller.js*/
"use strict";dio.di.define("PaymentDetailsController",function(s,e){function t(e){var t=P[e.previousValue],n=P[e.value];o(),r(),i(),t.tab.getDOM().removeClass(M),t.panel.getDOM().removeClass(M),n.tab.getDOM().addClass(M),n.panel.getDOM().addClass(M),C.refreshForm(y.bookingForm)}function o(){var e=D.getFirstMatchingConfiguration(dio.getClientData("paymentConfigurations"),P.paymentSelector.get(),"id");$.isEmptyObject(e)&&(e=P.CREDITCARD.configuration.get()),P.selectedPaymentConfig.set(e),b.setSelectedPayments(e.id)}function i(){var e=dio.getClientData("baseConfig"),t=y.bookingForm.submitButton.get()||e.bookButtonMessage,n=y.bookingForm.fields.termsOfBooking.privacyAndTermsDetails;S.render(n,{baseConfig:e,customBookButtonMessage:t})}function r(){var e=P.selectedPaymentConfig.get(),t=dio.getClientData("baseConfig.bookButtonMessage"),n=e.bookButtonLabelMessage||t;y.bookingForm.submitButton.set(n)}function n(e){e.forEach(function(e){var t=R[e.id];t&&t.updatePanel&&t.updatePanel(e)})}function a(){var e=P[P.paymentSelector.get()||P.CREDITCARD.configuration.get().id];return e.controllerName&&s(e.controllerName.get())}function c(){return m("prepareForSubmit")}function g(e){return m("prepareForRedirection",e)}function l(){$.each(R,function(e,t){t.prepareForDisplay&&t.prepareForDisplay()})}function u(){return m("prepareForTurningProcessingStateOn")}function p(e){var t=a();t&&t.processBookingSubmissionResponse&&t.processBookingSubmissionResponse(e)}function m(e,t){var n=a(),o=void 0;return o=n&&n[e]?n[e](t):$.Deferred().resolve().promise()}function d(e){var a=[];e.forEach(function(e){var t=P[e.id],n=t.configuration.get(),o=t.controllerName&&t.controllerName.get(),i=void 0,r=void 0;o&&(r=s(o),i=(R[e.id]=r).init&&r.init()||$.Deferred().resolve(),a.push(i),n.preSelected&&i.done(function(){P.paymentSelector.set(n.id)}))}),$.when.apply($,a).always(function(){P.paymentPreselectionPromise.get().resolve()})}function f(){var e=!b.isPaymentSelected("CREDITCARD");k.getDOM().toggleClass("hidden",e)}function v(){var e=dio.getClientData("paymentConfigurations");1<e.length&&P.paymentSelector.onChange(t),o(),k.getDOM()&&(P.selectedPayments.onChange(f),f()),d(e)}var y=s("LiveState"),C=s("FormService"),D=s("UtilityService"),b=s("PaymentService"),S=s("TemplateRenderer"),F=y.bookingForm.fields,P=F.paymentDetails,k=F.paymentProcessingLocationMessage,M="payment-option-selected",R={};e.exports={init:v,updatePaymentPanels:n,prepareForDisplay:l,prepareForSubmit:c,prepareForRedirection:g,prepareForTurningProcessingStateOn:u,processBookingSubmissionResponse:p}});
/*! pages/cop/booking-form/payment-details/payment-initialization-service.js*/
"use strict";dio.di.define("PaymentInitializationService",function(e,t){function n(){var e=dio.i18n("fastbooking.error.generalloginerror"),t=y.selectedPaymentConfig.get(),n=u();return o(!1),a(t)&&g.paymentSubmitDeferred.get().reject(e),n.reject(e)}function i(e){if(e&&e.paymentInitializedResponseType){var t=u();return o(!0),t.resolve()}return n()}function r(){return o(!1),$.ajax(m.buildPaymentSessionRequest()).then(i).catch(n)}function a(e){switch(e.id){case"CREDITCARD":return g.ThreeDSConnector.get();case"GIFTCARD":return g.ThreeDSConnector.get()&&l.giftCard.applied.get().isAmountLeftToPay;case"POINTS":return g.ThreeDSConnector.get()&&f.isPointsAmountLeftToPay();case"GOOGLEPAY":return g.ThreeDSConnector.get();default:return!1}}function o(e){P.isPaymentInitializationSuccessful.set(e)}function s(){return P.isPaymentInitializationSuccessful.get()}function u(){var e="GOOGLEPAY"===y.selectedPaymentConfig.get().id,t=e&&y.GOOGLEPAY;return e?t.prepareForSubmitDeferredObject.get():$.Deferred()}function c(){var e=dio.getClientData("baseConfig.paymentInitializationData"),t=y.selectedPaymentConfig.get(),n=u();if(e&&t.paymentInitializationPostParameters){if(a(t))return g.paymentSubmitDeferred.set(n),n.promise();if(t.isPaymentInitializationFlowEnabled)return r()}return n.resolve()}var l=e("LiveState"),f=e("PaymentService"),m=e("PaymentInitializationRequestBuilder"),y=l.bookingForm.fields.paymentDetails,g=l.egSecurePayment,P=l.paymentInitialization;t.exports={processErrors:n,setPaymentInitializationState:o,isPaymentInitializationSuccessful:s,activateBookingPaymentInitializationFlow:c}});
/*! pages/cop/booking-form/payment-details/payment-initialization-request-builder.js*/
"use strict";var _slicedToArray=function(){function a(e,t){var a=[],n=!0,i=!1,r=void 0;try{for(var o=e[Symbol.iterator](),s;!(n=(s=o.next()).done)&&(a.push(s.value),!t||a.length!==t);n=!0);}catch(e){i=!0,r=e}finally{try{!n&&o.return&&o.return()}finally{if(i)throw r}}return a}return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return a(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();dio.di.define("PaymentInitializationRequestBuilder",function(e,t){function n(){var e=j.companyCode,t=j.countryCode,a={channel:dio.getClientData("requestInfo.channel"),currency_code:dio.getClientData("requestInfo.currency"),locale:j.locale,point_of_sale:j.pointOfSale};return e&&Object.assign(a,{company_code:e}),t&&Object.assign(a,{country_code:t}),a}function i(){var e={amount:P.splitPaymentDetails().total,businessModel:j.businessModel,destinationCountry:j.destinationCountry,noCreditCard:dio.getClientData("baseConfig.paymentModel.isCreditCardNotNeeded")||!1,timeOfConsumption:j.timeOfConsumption},t=j.cancellationPenaltyStartTime;t&&Object.assign(e,{cancellationPenaltyStartTime:t});var a=j.hotelInventoryType;a&&Object.assign(e,{hotelInventoryType:a}),"DirectAgency"===j.businessModel&&Object.assign(e,{supplierId:j.supplierId});var n=j.supplierType;n&&Object.assign(e,{supplierType:n});var i=j.departureDate;return i&&Object.assign(e,{departureDate:i}),e}function r(){var e=h&&h.applied.get();return e&&0<Object.keys(e).length}function a(){var e=D.paymentDetails.POINTS,t=e&&e.configuration.get();return t&&P.isPaymentSelected(t.id)}function o(){return r()&&h.applied.get().isAmountLeftToPay}function s(){return a()&&P.isPointsAmountLeftToPay()}function c(){var e=r()&&!o(),t=a()&&!s();return e||t}function d(){var e={email_address:D.contactDetails.email.get(),phone:{number:D.contactDetails.phone.get()}},t=D.taxId.get(),a;return t&&Object.assign(e,{tax_id:t.toString().toUpperCase()}),I&&P.isPaymentSelected(O.id)?Object.assign(e,{first_name:I.paymentDataResponse.firstName.get(),last_name:I.paymentDataResponse.lastName.get(),address:{postal_code:I.paymentDataResponse.postCode.get(),country_code:I.paymentDataResponse.countryCode.get()}}):(Object.assign(e,{address:{postal_code:D.billingDetails.postCode.get(),country_code:D.billingDetails.country.get()}}),l()||Object.assign(e,{first_name:C.firstName.get(),last_name:C.lastName.get()}),r()&&Object.assign(e,{card_holder_name:D.roomDetails.room0.mainGuest.firstName.get()+" "+D.roomDetails.room0.mainGuest.lastName.get()}),D.billingDetails.hasAddress.get()&&Object.assign(e.address,{city_name:D.billingDetails.city.get(),first_line:D.billingDetails.street.get(),province_name:D.billingDetails.state.get()})),e}function l(){var e=Array.isArray(C.configuration.get().savedCards),t=C.selectedSavedCard.get(),a=e&&!t,n=e&&t&&"EXPIRED"===t.state;return t&&!(a||n)}function u(){var e=v.egSecurePayment.paymentIdentifier,t=C.configuration.get(),a={payment_guid:t.paymentInitializationPostParameters.paymentGuid,payment_info:{}};if(l()){var n=C.selectedSavedCard.get();e.set(n.cardType),Object.assign(a.payment_info,{stored_credit_card:{account_id:t.paymentInitializationPostParameters.accountId,bin:n.bin,sps_id:n.id,verification_value:C.securityCode.get()}})}else e.set(C.creditCardType.get()),Object.assign(a.payment_info,{credit_card:{number:C.creditCardNumber.get(),verification_value:C.securityCode.get(),expiration_month:C.expiryDate.expiryMonth.get(),expiration_year:C.expiryDate.expiryYear.get()}});var i=e.get().split(":"),r=_slicedToArray(i,3),o=r[0],s=r[1],c=r[2];return Object.assign(a,{payment_identifier:{method:o,sub_method:s,brand_name:c}}),a}function p(){var e=D.paymentDetails.GIFTCARD.configuration.get(),t=e&&e.postParameters,a=h.applied.get(),n=dio.getObjectByName("initialGiftCardBalance.unformattedValue",a),i=t.paymentIdentifier.value.split(":"),r=_slicedToArray(i,3),o,s,c,d;return{payment_identifier:{method:r[0],sub_method:r[1],brand_name:r[2]},payment_guid:e.paymentInitializationPostParameters.paymentGuid,payment_info:{gift_card:{number:h.checkBalanceForm.fields.giftCardNumber.get(),pin:h.checkBalanceForm.fields.giftCardPin.get(),initial_giftcard_balance:n}}}}function m(){var e=D.paymentDetails.POINTS.configuration.get(),t,a=(e&&e.postParameters).paymentIdentifier.value.split(":"),n=_slicedToArray(a,3),i,r,o,s;return{payment_identifier:{method:n[0],sub_method:n[1],brand_name:n[2]},payment_guid:e.paymentInitializationPostParameters.paymentGuid,payment_info:{points:{account_id:e.paymentInitializationPostParameters.unitedAccountId}}}}function y(){var e=[],t=I.selectedCard.get(),a=O.paymentInitializationPostParameters,n=t.id.split(":"),i=_slicedToArray(n,3),r,o,s,c={payment_identifier:{method:i[0],sub_method:i[1],brand_name:i[2]},payment_guid:a.paymentGuid,payment_info:{google_pay:{token:I.paymentDataResponse.token.get()}}};return e.push(c),e}function g(){var e;if(I&&P.isPaymentSelected(O.id))return y();var t=[];return c()||t.push(u()),r()&&t.push(p()),a()&&t.push(m()),t}function f(e){function t(){var e=dio.util.responsive.getBreakpoint();return"x-small-screen"===e||"unknown"===e?"01":"02"}var a=Object.assign({},e);return j.deviceIP&&Object.assign(a,{deviceIP:j.deviceIP}),j.browserAcceptHeaders&&Object.assign(a,{browserAcceptHeaders:j.browserAcceptHeaders}),{merchant_url:dio.getObjectByName("location.origin"),preferredChallengeWindowSize:t(),metadata:a}}function _(e){var t={contextRequestType:n(),paymentAvailabilityRequestType:i(),customerInfoRequestType:d(),paymentDetailRequestTypes:g()};if(e){var a=f(e);Object.assign(t,{threeDsSessionRequestType:a})}return t}function b(e){var t=T.bookingFormId,a;return{url:T.paymentInitializationOrchestratorEndpoint,type:"POST",headers:{"Booking-Form-Id":t},dataType:"json",contentType:"application/json; charset=UTF-8",timeout:2e4,data:JSON.stringify(_(e))}}var v=e("LiveState"),P=e("PaymentService"),D=v.bookingForm.fields,h=v.giftCard,C=D.paymentDetails.CREDITCARD,I=D.paymentDetails.GOOGLEPAY,O=I&&I.configuration.get(),T=dio.getClientData("baseConfig.paymentInitializationData"),j=T&&T.paymentInitializationPostParameters;t.exports={buildPaymentSessionRequest:b}});
/*! pages/cop/booking-form/common/tracking/payment-details-tracker.js*/
"use strict";dio.di.define("PaymentDetailsTracker",function(i){function r(){t.sendPartialReport({eVar33:"Valid Card Number Entered"})}function l(){var e=R.selectedSavedCard.get();e&&e.acceptable&&t.sendPartialReport({eVar33:"Valid Saved Card Selected"})}function o(){var e=R.configuration.get().installments.bankName||"Unknown",a,n=t.getPlatform()+" :: Installment Applied :: "+e;t.sendPartialReport({eVar33:n})}function c(){t.sendPartialReport({eVar33:"GC Bal Check"})}function s(){t.sendPartialReport({eVar33:"GC Just Checking"})}function d(){t.sendPartialReport({eVar33:"GC Removed"})}function u(){t.sendPartialReport({eVar33:"GC Change Amount"})}function p(){$.isEmptyObject(V.applied.get())||t.sendPartialReport({eVar33:"GC Applied"})}function m(){t.sendPartialReport({eVar33:"Payment Started :: GW Payment"})}function v(e){null===e.value?t.sendPartialReport({eVar33:"Return from GW :: Unsuccessful"}):t.sendPartialReport({eVar33:"Return from GW :: Successful"})}function f(){t.sendPartialReport({eVar33:"Apple Pay available"})}function C(){var e=t.buildMvtReport(2792);e&&t.sendPartialReport({eVar34:e,list3:"D=v34"})}function P(){var e=t.buildMvtReport(6966);e&&t.sendPartialReport({eVar34:e,list3:"D=v34"})}function e(){var e=i("LiveStateFilters"),a=g.bookingForm.fields.paymentDetails,n=a.GOOGLEWALLET,t=a.APPLEPAY;R.creditCardNumber.validation.result.onChange(r,null,e.isValid),R.selectedSavedCard.onChange(l),R.installments.option.onChange(o),V&&(V.checkBalanceForm.submitButton.onDOMEvent("click",c),V.applyForm.cancelApplyLink.onDOMEvent("click",s),V.summaryForm.cancelApplyLink.onDOMEvent("click",d),V.summaryForm.changeAmountLink.onDOMEvent("click",u),V.applied.onChange(p)),n&&(n.button.onDOMEvent("click",m),n.googleTransactionId.onChange(v)),t&&(t.isAvailable.onChange(f,null,e.isTruthy),t.isAvailable.onChange(C,null,e.isTruthy),t.isAvailable.onChange(P,null,e.isTruthy))}var g=i("LiveState"),t=i("SiteCatalystService"),R=g.bookingForm.fields.paymentDetails.CREDITCARD,V=g.giftCard;e()});
/*! core/third-party/cleave.js*/
!function e(t,r){"object"==typeof exports&&"object"==typeof module?module.exports=r():"function"==typeof define&&define.amd?define([],r):"object"==typeof exports?exports.Cleave=r():t.Cleave=r()}(this,function(){return function(r){function n(e){if(i[e])return i[e].exports;var t=i[e]={exports:{},id:e,loaded:!1};return r[e].call(t.exports,t,t.exports,n),t.loaded=!0,t.exports}var i={};return n.m=r,n.c=i,n.p="",n(0)}([function(t,e,r){(function(e){"use strict";var o=function(e,t){var r=this;if(r.element="string"==typeof e?document.querySelector(e):void 0!==e.length&&0<e.length?e[0]:e,!r.element)throw new Error("[cleave.js] Please check the element");t.initValue=r.element.value,r.properties=o.DefaultProperties.assign({},t),r.init()};o.prototype={init:function(){var e=this,t=e.properties;if(!(t.numeral||t.phone||t.creditCard||t.date||0!==t.blocksLength||t.prefix))return e.onInput(t.initValue),void 0;t.maxLength=o.Util.getMaxLength(t.blocks),e.isAndroid=o.Util.isAndroid(),e.lastInputValue="",e.onChangeListener=e.onChange.bind(e),e.onKeyDownListener=e.onKeyDown.bind(e),e.onCutListener=e.onCut.bind(e),e.onCopyListener=e.onCopy.bind(e),e.element.addEventListener("input",e.onChangeListener),e.element.addEventListener("keydown",e.onKeyDownListener),e.element.addEventListener("cut",e.onCutListener),e.element.addEventListener("copy",e.onCopyListener),e.initPhoneFormatter(),e.initDateFormatter(),e.initNumeralFormatter(),e.onInput(t.initValue)},initNumeralFormatter:function(){var e,t=this.properties;t.numeral&&(t.numeralFormatter=new o.NumeralFormatter(t.numeralDecimalMark,t.numeralIntegerScale,t.numeralDecimalScale,t.numeralThousandsGroupStyle,t.numeralPositiveOnly,t.stripLeadingZeroes,t.delimiter))},initDateFormatter:function(){var e,t=this.properties;t.date&&(t.dateFormatter=new o.DateFormatter(t.datePattern),t.blocks=t.dateFormatter.getBlocks(),t.blocksLength=t.blocks.length,t.maxLength=o.Util.getMaxLength(t.blocks))},initPhoneFormatter:function(){var e,t=this.properties;if(t.phone)try{t.phoneFormatter=new o.PhoneFormatter(new t.root.Cleave.AsYouTypeFormatter(t.phoneRegionCode),t.delimiter)}catch(e){throw new Error("[cleave.js] Please include phone-type-formatter.{country}.js lib")}},onKeyDown:function(e){var t=this,r=t.properties,n=e.which||e.keyCode,i=o.Util,a=t.element.value;if(i.isAndroidBackspaceKeydown(t.lastInputValue,a)&&(n=8),t.lastInputValue=a,8===n&&i.isDelimiter(a.slice(-r.delimiterLength),r.delimiter,r.delimiters))return r.backspace=!0,void 0;r.backspace=!1},onChange:function(){this.onInput(this.element.value)},onCut:function(e){this.copyClipboardData(e),this.onInput("")},onCopy:function(e){this.copyClipboardData(e)},copyClipboardData:function(e){var t=this,r=t.properties,n=o.Util,i=t.element.value,a="";a=r.copyDelimiter?i:n.stripDelimiters(i,r.delimiter,r.delimiters);try{e.clipboardData?e.clipboardData.setData("Text",a):window.clipboardData.setData("Text",a),e.preventDefault()}catch(e){}},onInput:function(e){var t=this,r=t.properties,n=o.Util;return r.numeral||!r.backspace||n.isDelimiter(e.slice(-r.delimiterLength),r.delimiter,r.delimiters)||(e=n.headStr(e,e.length-r.delimiterLength)),r.phone?(r.result=r.phoneFormatter.format(e),t.updateValueState(),void 0):r.numeral?(r.result=r.prefix+r.numeralFormatter.format(e),t.updateValueState(),void 0):(r.date&&(e=r.dateFormatter.getValidatedDate(e)),e=n.stripDelimiters(e,r.delimiter,r.delimiters),e=n.getPrefixStrippedValue(e,r.prefix,r.prefixLength),e=r.numericOnly?n.strip(e,/[^\d]/g):e,e=r.uppercase?e.toUpperCase():e,e=r.lowercase?e.toLowerCase():e,r.prefix&&(e=r.prefix+e,0===r.blocksLength)?r.result=e:(r.creditCard&&t.updateCreditCardPropsByValue(e),e=n.headStr(e,r.maxLength),r.result=n.getFormattedValue(e,r.blocks,r.blocksLength,r.delimiter,r.delimiters)),t.updateValueState(),void 0)},updateCreditCardPropsByValue:function(e){var t=this,r=t.properties,n=o.Util,i;n.headStr(r.result,4)!==n.headStr(e,4)&&(i=o.CreditCardDetector.getInfo(e,r.creditCardStrictMode),r.blocks=i.blocks,r.blocksLength=r.blocks.length,r.maxLength=n.getMaxLength(r.blocks),r.creditCardType!==i.type&&(r.creditCardType=i.type,r.onCreditCardTypeChanged.call(t,r.creditCardType)))},setCurrentSelection:function(e,t){var r=this.element;if(t.length!==e)if(r.createTextRange){var n=r.createTextRange();n.move("character",e),n.select()}else r.setSelectionRange(e,e)},updateValueState:function(){var e=this,t=e.element.selectionEnd,r=e.element.value;if(e.isAndroid)return window.setTimeout(function(){e.element.value=e.properties.result,e.setCurrentSelection(t,r)},1),void 0;e.element.value=e.properties.result,e.setCurrentSelection(t,r)},setPhoneRegionCode:function(e){var t=this,r;t.properties.phoneRegionCode=e,t.initPhoneFormatter(),t.onChange()},setRawValue:function(e){var t=this,r=t.properties;e=null!=e?e.toString():"",r.numeral&&(e=e.replace(".",r.numeralDecimalMark)),t.element.value=e,t.onInput(e)},getRawValue:function(){var e=this,t=e.properties,r=o.Util,n=e.element.value;return t.rawValueTrimPrefix&&(n=r.getPrefixStrippedValue(n,t.prefix,t.prefixLength)),n=t.numeral?t.numeralFormatter.getRawValue(n):r.stripDelimiters(n,t.delimiter,t.delimiters)},getFormattedValue:function(){return this.element.value},destroy:function(){var e=this;e.element.removeEventListener("input",e.onChangeListener),e.element.removeEventListener("keydown",e.onKeyDownListener),e.element.removeEventListener("cut",e.onCutListener),e.element.removeEventListener("copy",e.onCopyListener)},toString:function(){return"[Cleave Object]"}},o.NumeralFormatter=r(1),o.DateFormatter=r(2),o.PhoneFormatter=r(3),o.CreditCardDetector=r(4),o.Util=r(5),o.DefaultProperties=r(6),("object"==typeof e&&e?e:window).Cleave=o,t.exports=o}).call(e,function(){return this}())},function(e,t){"use strict";var s=function(e,t,r,n,i,a,o){var l=this;l.numeralDecimalMark=e||".",l.numeralIntegerScale=0<t?t:0,l.numeralDecimalScale=0<=r?r:2,l.numeralThousandsGroupStyle=n||s.groupStyle.thousand,l.numeralPositiveOnly=!!i,l.stripLeadingZeroes=null==a||a,l.delimiter=o||""===o?o:",",l.delimiterRE=o?new RegExp("\\"+o,"g"):""};s.groupStyle={thousand:"thousand",lakh:"lakh",wan:"wan"},s.prototype={getRawValue:function(e){return e.replace(this.delimiterRE,"").replace(this.numeralDecimalMark,".")},format:function(e){var t=this,r,n,i="";switch(e=e.replace(/[A-Za-z]/g,"").replace(t.numeralDecimalMark,"M").replace(/[^\dM-]/g,"").replace(/^\-/,"N").replace(/\-/g,"").replace("N",t.numeralPositiveOnly?"":"-").replace("M",t.numeralDecimalMark),t.stripLeadingZeroes&&(e=e.replace(/^(-)?0+(?=\d)/,"$1")),0<=(n=e).indexOf(t.numeralDecimalMark)&&(n=(r=e.split(t.numeralDecimalMark))[0],i=t.numeralDecimalMark+r[1].slice(0,t.numeralDecimalScale)),0<t.numeralIntegerScale&&(n=n.slice(0,t.numeralIntegerScale+("-"===e.slice(0,1)?1:0))),t.numeralThousandsGroupStyle){case s.groupStyle.lakh:n=n.replace(/(\d)(?=(\d\d)+\d$)/g,"$1"+t.delimiter);break;case s.groupStyle.wan:n=n.replace(/(\d)(?=(\d{4})+$)/g,"$1"+t.delimiter);break;default:n=n.replace(/(\d)(?=(\d{3})+$)/g,"$1"+t.delimiter)}return n.toString()+(0<t.numeralDecimalScale?i.toString():"")}},e.exports=s},function(e,t){"use strict";var r=function(e){var t=this;t.blocks=[],t.datePattern=e,t.initBlocks()};r.prototype={initBlocks:function(){var t=this;t.datePattern.forEach(function(e){"Y"===e?t.blocks.push(4):t.blocks.push(2)})},getBlocks:function(){return this.blocks},getValidatedDate:function(o){var l=this,s="";return o=o.replace(/[^\d]/g,""),l.blocks.forEach(function(e,t){if(0<o.length){var r=o.slice(0,e),n=r.slice(0,1),i=r.slice(1,2),a=o.slice(e);switch(l.datePattern[t]){case"d":"00"===r?r="01":3<parseInt(n,10)?r="0"+n:31<parseInt(r,10)&&(r="31");break;case"m":"00"===r?r="01":1<parseInt(n,10)?r="0"+n:12<parseInt(r,10)&&(r="0"+n,a=i+a)}s+=r,o=a}}),this.getFixedDateString(s)},getFixedDateString:function(e){var r=this,t=r.datePattern,n=[],i=0,a=0,o=0,l=0,s=0,c=0,u,d,p;return 4===e.length&&"y"!==t[0].toLowerCase()&&"y"!==t[1].toLowerCase()&&(s=2-(l="d"===t[0]?0:2),u=parseInt(e.slice(l,l+2),10),d=parseInt(e.slice(s,s+2),10),n=this.getFixedDate(u,d,0)),8===e.length&&(t.forEach(function(e,t){switch(e){case"d":i=t;break;case"m":a=t;break;default:o=t}}),c=2*o,l=i<=o?2*i:2*i+2,s=a<=o?2*a:2*a+2,u=parseInt(e.slice(l,l+2),10),d=parseInt(e.slice(s,s+2),10),p=parseInt(e.slice(c,c+4),10),n=this.getFixedDate(u,d,p)),0===n.length?e:t.reduce(function(e,t){switch(t){case"d":return e+r.addLeadingZero(n[0]);case"m":return e+r.addLeadingZero(n[1]);default:return e+""+(n[2]||"")}},"")},getFixedDate:function(e,t,r){return e=Math.min(e,31),t=Math.min(t,12),r=parseInt(r||0,10),(t<7&&t%2==0||8<t&&t%2==1)&&(e=Math.min(e,2===t?this.isLeapYear(r)?29:28:30)),[e,t,r]},isLeapYear:function(e){return e%4==0&&e%100!=0||e%400==0},addLeadingZero:function(e){return(e<10?"0":"")+e}},e.exports=r},function(e,t){"use strict";var r=function(e,t){var r=this;r.delimiter=t||""===t?t:" ",r.delimiterRE=t?new RegExp("\\"+t,"g"):"",r.formatter=e};r.prototype={setFormatter:function(e){this.formatter=e},format:function(e){var t=this;t.formatter.clear();for(var r="",n,i=!1,a=0,o=(e=(e=e.replace(/[^\d+]/g,"")).replace(t.delimiterRE,"")).length;a<o;a++)n=t.formatter.inputDigit(e.charAt(a)),/[\s()-]/g.test(n)?(r=n,i=!0):i||(r=n);return r=(r=r.replace(/[()]/g,"")).replace(/[\s-]/g,t.delimiter)}},e.exports=r},function(e,t){"use strict";var i={blocks:{uatp:[4,5,6],amex:[4,6,5],diners:[4,6,4],discover:[4,4,4,4],mastercard:[4,4,4,4],dankort:[4,4,4,4],instapayment:[4,4,4,4],jcb:[4,4,4,4],maestro:[4,4,4,4],visa:[4,4,4,4],general:[4,4,4,4],generalStrict:[4,4,4,7]},re:{uatp:/^(?!1800)1\d{0,14}/,amex:/^3[47]\d{0,13}/,discover:/^(?:6011|65\d{0,2}|64[4-9]\d?)\d{0,12}/,diners:/^3(?:0([0-5]|9)|[689]\d?)\d{0,11}/,mastercard:/^(5[1-5]|2[2-7])\d{0,14}/,dankort:/^(5019|4175|4571)\d{0,12}/,instapayment:/^63[7-9]\d{0,13}/,jcb:/^(?:2131|1800|35\d{0,2})\d{0,12}/,maestro:/^(?:5[0678]\d{0,2}|6304|67\d{0,2})\d{0,12}/,visa:/^4\d{0,15}/},getInfo:function(e,t){var r=i.blocks,n=i.re;return t=!!t,n.amex.test(e)?{type:"amex",blocks:r.amex}:n.uatp.test(e)?{type:"uatp",blocks:r.uatp}:n.diners.test(e)?{type:"diners",blocks:r.diners}:n.discover.test(e)?{type:"discover",blocks:t?r.generalStrict:r.discover}:n.mastercard.test(e)?{type:"mastercard",blocks:r.mastercard}:n.dankort.test(e)?{type:"dankort",blocks:r.dankort}:n.instapayment.test(e)?{type:"instapayment",blocks:r.instapayment}:n.jcb.test(e)?{type:"jcb",blocks:r.jcb}:n.maestro.test(e)?{type:"maestro",blocks:t?r.generalStrict:r.maestro}:n.visa.test(e)?{type:"visa",blocks:t?r.generalStrict:r.visa}:{type:"unknown",blocks:t?r.generalStrict:r.general}}};e.exports=i},function(e,t){"use strict";var r={noop:function(){},strip:function(e,t){return e.replace(t,"")},isDelimiter:function(t,e,r){return 0===r.length?t===e:r.some(function(e){if(t===e)return!0})},getDelimiterREByDelimiter:function(e){return new RegExp(e.replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1"),"g")},stripDelimiters:function(t,e,r){var n=this;if(0===r.length){var i=e?n.getDelimiterREByDelimiter(e):"";return t.replace(i,"")}return r.forEach(function(e){t=t.replace(n.getDelimiterREByDelimiter(e),"")}),t},headStr:function(e,t){return e.slice(0,t)},getMaxLength:function(e){return e.reduce(function(e,t){return e+t},0)},getPrefixStrippedValue:function(e,t,r){if(e.slice(0,r)!==t){var n=this.getFirstDiffIndex(t,e.slice(0,r));e=t+e.slice(n,n+1)+e.slice(r+1)}return e.slice(r)},getFirstDiffIndex:function(e,t){for(var r=0;e.charAt(r)===t.charAt(r);)if(""===e.charAt(r++))return-1;return r},getFormattedValue:function(i,e,a,o,l){var s="",c=0<l.length,u;return 0===a?i:(e.forEach(function(e,t){if(0<i.length){var r=i.slice(0,e),n=i.slice(e);s+=r,u=c?l[t]||u:o,r.length===e&&t<a-1&&(s+=u),i=n}}),s)},isAndroid:function(){return!(!navigator||!/android/i.test(navigator.userAgent))},isAndroidBackspaceKeydown:function(e,t){return!!this.isAndroid()&&t===e.slice(0,-1)}};e.exports=r},function(t,e){(function(r){"use strict";var e={assign:function(e,t){return t=t||{},(e=e||{}).creditCard=!!t.creditCard,e.creditCardStrictMode=!!t.creditCardStrictMode,e.creditCardType="",e.onCreditCardTypeChanged=t.onCreditCardTypeChanged||function(){},e.phone=!!t.phone,e.phoneRegionCode=t.phoneRegionCode||"AU",e.phoneFormatter={},e.date=!!t.date,e.datePattern=t.datePattern||["d","m","Y"],e.dateFormatter={},e.numeral=!!t.numeral,e.numeralIntegerScale=0<t.numeralIntegerScale?t.numeralIntegerScale:0,e.numeralDecimalScale=0<=t.numeralDecimalScale?t.numeralDecimalScale:2,e.numeralDecimalMark=t.numeralDecimalMark||".",e.numeralThousandsGroupStyle=t.numeralThousandsGroupStyle||"thousand",e.numeralPositiveOnly=!!t.numeralPositiveOnly,e.stripLeadingZeroes=null==t.stripLeadingZeroes||t.stripLeadingZeroes,e.numericOnly=e.creditCard||e.date||!!t.numericOnly,e.uppercase=!!t.uppercase,e.lowercase=!!t.lowercase,e.prefix=e.creditCard||e.phone||e.date?"":t.prefix||"",e.prefixLength=e.prefix.length,e.rawValueTrimPrefix=!!t.rawValueTrimPrefix,e.copyDelimiter=!!t.copyDelimiter,e.initValue=void 0!==t.initValue&&null!==t.initValue?t.initValue.toString():"",e.delimiter=t.delimiter||""===t.delimiter?t.delimiter:t.date?"/":t.numeral?",":(t.phone," "),e.delimiterLength=e.delimiter.length,e.delimiters=t.delimiters||[],e.blocks=t.blocks||[],e.blocksLength=e.blocks.length,e.root="object"==typeof r&&r?r:window,e.maxLength=0,e.backspace=!1,e.result="",e}};t.exports=e}).call(e,function(){return this}())}])});
/*! pages/cop/booking-form/common/address-controller.js*/
"use strict";dio.di.define("AddressController",function(e,t){function n(e){var t=dio.getClientData(e.country.configurationPath.get()),n=l.getConfiguration(t,e.country.get(),"configurationName");e.country.selectedCountryConfiguration.set(n)}function o(e){var t=e.country.selectedCountryConfiguration.get();if(t&&e.state.getDOM().selector){var n=e===r.bookingForm.fields.billingDetails?"billingDetails":"homeDetails";d.render(e.state,{id:e.state.field.id.get(),label:t.stateLabelMessage,fieldProperties:{name:e.state.field.name.get(),options:t.stateListOptions||[]},isRequired:!0,maxLength:u[n].state}),e.state.placeholder.getDOM().toggleClass("hidden",!t.hasState)}}function i(e){var t=e.country.selectedCountryConfiguration.get();if(t){var n=e.postCode,o=e.postCode.validation.stateHolder.getDOM();n.validation.isRequired.set(!t.isPostCodeOptional),n.placeholder&&n.placeholder.getDOM().toggleClass("hidden",!t.hasPostCode),o&&o.toggleClass("hidden",!t.hasPostCode),d.render(e.postCode.labelText,{isOptional:t.isPostCodeOptional})}}function a(e){var t=e.country.get(),n=e.postCode,o=n.inputFormatter,i=o.instance.get(),a=function e(){n.set(o.instance.get().getFormattedValue())};i&&(n.removeHandler("blur",a,"self"),i.destroy()),g[t]&&(o.instance.set(new Cleave(n.getDOM(),g[t])),n.onDOMEvent("blur",a,"self"))}function s(e){e.country.onChange(function(){return n(e)}),e.hasAddress.get()&&e.country.selectedCountryConfiguration.onChange(function(){return o(e)}),e.postCode.getDOM()&&(e.country.selectedCountryConfiguration.onChange(function(){return i(e)}),e.country.selectedCountryConfiguration.onChange(function(){return a(e)})),n(e)}var r=e("LiveState"),l=e("UtilityService"),d=e("TemplateRenderer"),u={billingDetails:dio.getClientData("billingDetailsMaxLengthRules"),homeDetails:dio.getClientData("homeDetailsMaxLengthRules")},g={JP:{numericOnly:!0,delimiter:"-",blocks:[3,4]}};t.exports={init:s,POSTCODE_FORMAT_OPTIONS:g}});
/*! pages/cop/booking-form/billing-details/billing-details-controller.js*/
"use strict";dio.di.define("BillingDetailsController",function(e){function a(){var e=m.selectedPaymentConfig.get();return e.billingDetails&&e.billingDetails.isDisplayed}function l(){var e=m.CREDITCARD.selectedCreditCard.get();return e&&e.billingDetails&&e.billingDetails.isDisplayed}function d(){var e=g.bookingForm.fields.billingDetails;return e.hasAddress.get()?e.country.get()&&e.postCode.get()&&e.street.get()&&e.state.get()&&e.city.get():e.country.get()&&e.postCode.get()}function s(){var e=g.giftCard,i=!(!e||!e.applied.value)&&e.applied.value.isAmountLeftToPay,t=m.selectedPaymentConfig.get(),n="CREDITCARD"===t.id,o="GIFTCARD"===t.id&&i,a=f.getPointsSelectedPointsAndAmountsPair(),l="POINTS"===t.id&&a&&a.isSplitPayment;return n||o||l}function n(){var e=a(),i=l(),t=s()?i:e,n,o=!(d()&&g.bookingForm.isBookingFormCollapsed.get())&&t;c.getDOM().toggleClass("hidden",!o)}function o(){var e=m.selectedPaymentConfig.get().isAffiliateFieldHidden;g.bookingForm.fields.affiliateField.container.getDOM().toggleClass("hidden",!!e)}function i(){var e=dio.getClientData("taxId"),i=g.bookingForm.fields.taxId;if(r.init(c),F&&F.destroy(),e&&e.type?"CPF"===e.type&&(F=C.attachCpfFormattingToField(i)):F=C.attachCpfFormattingToField(i),C.showHelperText(i),m.selectedPaymentConfig.onChange(n),m.CREDITCARD.selectedCreditCard.onChange(n),g.bookingForm.isBookingFormCollapsed.onChange(n),dio.getClientData("affiliateField")){var t=g.bookingForm.fields.affiliateField;t.getDOM()&&t.isMasked&&t.isMasked.get()&&C.attachCpfFormattingToField(t),m.selectedPaymentConfig.onChange(o)}m.POINTS&&m.POINTS.loggedInSection.pointsAndAmountsPairs.option.onChange(n)}var g=e("LiveState"),r=e("AddressController"),C=e("FormService"),f=e("PaymentService"),c=g.bookingForm.fields.billingDetails,m=g.bookingForm.fields.paymentDetails,F=void 0;i()});
/*! pages/cop/booking-form/sica/create-account/create-account-controller.js*/
"use strict";dio.di.define("CreateAccountController",function(e,t){function o(e){e.value===dio.cop.sica.selectedFlow.createAccount?(r.sica.getDOM().addClass("sica-create-account"),d.refreshForm(u)):(r.sica.getDOM().removeClass("sica-create-account"),d.resetForm(u))}function c(){r.sica.selectedFlow.set(dio.cop.sica.selectedFlow.flowSelector)}function n(){u.fields.email.tryingAutoComplete.get()&&setTimeout(i,0),u.fields.email.tryingAutoComplete.set(!1)}function i(){u.fields.password.set("")}function l(e){e.element.tryingAutoComplete.set(!0)}function s(e){+e.domEvent.keyCode===f&&e.domEvent.preventDefault()}function a(){r.sica.selectedFlow.onChange(o),u.fields.email.onDOMEvent("keydown",s),u.fields.email.onDOMEvent("dblclick",l),u.fields.email.onChange(n),u.cancelButton.onDOMEvent("click",c),m.registerForm(r.sica.createAccountForm)}var r=e("LiveState"),d=e("FormService"),m=e("CommonFormController"),u=r.sica.createAccountForm,f=40;t.exports={init:a}});
/*! pages/cop/booking-form/common/tracking/sica-tracker.js*/
"use strict";dio.di.define("SicaTracker",function(e){function n(){v("Body|Sign In Expand SICA")}function i(){v("Body|Create Account Expand SICA")}function t(){v("Body|SICA Collapse")}function o(){var e;dio.getClientData("loyaltyRewardsConfig.loyaltyDialUpEnabled")?p.sica.notSignedInDialUpTogglingContainer.isOpened.get()?n():t():n()}function a(){v("Body|Learn More Click")}function r(e){e.value&&v("Body|Sign In Submit")}function s(){S.sendPartialReport({eVar33:"User clicks on forgotten password link"},"","User clicks on forgotten password link",!1,!0)}function c(){S.sendPartialReport({eVar34:S.buildMvtReport(5222),list3:"D=v34"})}function l(){D.isFormValid(p.sica.forgottenPasswordForm)&&c()}function d(){D.isFormValid(p.sica.identifiedUser.forgottenPasswordForm)&&c()}function u(e){e.domEvent.preventDefault();var n=e.element.getDOM().attr("href"),i=v("Body|Sign out Click");i.always(function(){clearTimeout(t),I.redirectTo(window,n)});var t=setTimeout(function(){i.reject("Report has not been sent in 2000 milliseconds.")},2e3)}function g(){var e="Sign In Submit - failure :: profiles.login.failed",n=p.requests.signIn.failed.get(),i=p.requests.userDataUpdate.failed.get();(n||i)&&S.sendPartialReport({pageName:e,eVar33:e})}function f(){var e="Sign In Submit - success",n=p.user.loyalty.get(),i=n&&(n.isSilverLevel||n.isGoldLevel),t=dio.getClientData("isVipHotel"),o={pageName:e,eVar33:e},a=void 0;!0===t?a=i?"BF|VIP Y|SHOWN":"BF|VIP Y|HIDDEN":!1===t&&(a="BF|VIP N|HIDDEN"),a&&(o.prop54=a),S.sendPartialReport(o,"event57")}function v(e){var n=S.getPageName();return S.sendPartialReport({eVar33:n,prop25:n+"|"+e,eVar45:n+"|"+e})}function m(){p.sica.flowSelector.signInButton.onDOMEvent("click",o),p.sica.flowSelector.createAccountButton.onDOMEvent("click",i),p.sica.signInForm.cancelButton.onDOMEvent("click",t),p.sica.createAccountForm.cancelButton.onDOMEvent("click",t),p.sica.flowSelector.learnMoreLink.onDOMEvent("click",a),p.sica.createAccountForm.learnMoreLink.onDOMEvent("click",a),p.requests.signIn.failed.onChange(g),p.requests.userDataUpdate.failed.onChange(g),p.sica.isUserSignedIn.onChange(f),p.sica.signInForm.isInProcessingState.onChange(r),p.sica.signedIn.signOutLink.onDOMEvent("click",u),p.sica.signInForm.forgottenPasswordLink.onDOMEvent("click",s),p.sica.identifiedUser.signInForm.forgottenPasswordLink.onDOMEvent("click",s),p.sica.forgottenPasswordForm.onDOMEvent("submit",l),p.sica.identifiedUser.forgottenPasswordForm.onDOMEvent("submit",d)}var p=e("LiveState"),S=e("SiteCatalystService"),D=e("FormService"),I=e("UtilityService");m()});
/*! pages/cop/booking-form/sica/sign-in/sign-in-service.js*/
"use strict";dio.di.define("SignInService",function(e,n){function t(e,n){var r=D.processUserDataResponse(n);r.serverError?(l.requests.userDataUpdate.failed.set(!0,!0),i(r.serverError,e)):r.user&&l.sica.isUserSignedIn.set(!0)}function i(e,n){f.render(n.errorPlaceholder,S.createGeneralErrorData({message:e}))}function o(e){f.empty(e.errorPlaceholder)}function s(e){i(dio.i18n("fastbooking.error.generalloginerror"),e)}function a(){l.sica.selectedFlow.set(dio.cop.sica.selectedFlow.signIn)}function r(e,n){var r=D.processSignInResponse(n),t=r.protectionData&&r.protectionData.protectionWidgetData.captchaPresent;if(r.serverError?(l.requests.signIn.failed.set(!0,!0),i(r.serverError,t?l.sica.signInForm:e)):o(e),r.protectionData&&e.getDOM().selector.includes("identified-user"))return a(),void 0;r.protectionData&&(f.render(e.protectionWidgetContainer,r.protectionData),t&&a()),r.success&&c(e)}function c(n){g.turnProcessingStateOn(n);var e=$.ajax(p.buildUserDataRequest()).done(function(e){return t(n,e)}).fail(function(){return s(n)}),r=dio.getClientData("sica.signIn.getValueAddPromotionsUrl")&&$.ajax(p.buildValueAddPromotionRequest()).done(D.processValueAddPromotionResponse);$.when(e,r).always(function(){return g.turnProcessingStateOff(n)})}function d(n){g.isFormValid(n)&&(g.turnProcessingStateOn(n),$.ajax(p.buildSignInRequest(n)).always(function(){g.turnProcessingStateOff(n)}).done(function(e){return r(n,e)}).fail(function(e){if([400,401,429].includes(e.status))return r(n,e.responseJSON),void 0;s(n)}))}function u(e){var n=l.sica.notSignedInDialUpTogglingContainer,r=n.isOpened,t=n.collapsibleArea,i=l.sica.flowSelector.signInButton.getDOM(),o=230;if(e)r.set(!0),t.getDOM().slideDown(o),i.attr("aria-expanded",!0),i.addClass(v);else{var s=r.get();r.set(!s),s?t.getDOM().slideUp(o):t.getDOM().slideDown(o),i.attr("aria-expanded",!s),i.toggleClass(v,!s)}}var l=e("LiveState"),g=e("FormService"),f=e("TemplateRenderer"),p=e("SignInRequestBuilder"),D=e("SignInResponseProcessor"),S=e("GeneralErrorDataBuilder"),v=dio.cop.general.states.OPEN;n.exports={submitSignIn:d,hideSignInError:o,updateBookingFormAfterSuccessfulSignIn:c,toggleDialUpContainer:u}});
/*! pages/cop/booking-form/sica/sign-in/sign-in-request-builder.js*/
"use strict";dio.di.define("SignInRequestBuilder",function(o,e){function i(e){var i={},t=dio.getClientData("sica.signIn.emailAddressField.name"),a=dio.getClientData("sica.signIn.passwordField.name"),n=dio.getClientData("sica.signIn.rememberMeField.name"),s=dio.getClientData("baseConfig.clientToken");i[t]=e.fields.email.get().trim(),i[a]=e.fields.password.get(),i[n]=e.fields.rememberMe.get()||!1,i[s.name]=s.value,i.ajax=!0;var d=dio.getClientData("protectionData"),r=d&&d.atoshieldWidget;if(r&&(r.instantsignin||r.identifieduserinstantsignin))g.serializeDOM(e,i);else if(d){var l=o("LiveState");g.serializeDOM(l.sica.signInForm.protectionWidgetContainer,i)}return{url:dio.getClientData("sica.signIn.signInURL"),type:"POST",dataType:"JSON",data:i}}function t(){return{url:dio.getClientData("sica.signIn.userDataUpdateUrl"),type:"POST",dataType:"JSON",data:n.build()}}function a(){return{url:dio.getClientData("sica.signIn.getValueAddPromotionsUrl"),type:"POST",dataType:"JSON",data:n.build()}}var n=o("BookingRequestBuilder"),g=o("FormService");e.exports={buildSignInRequest:i,buildUserDataRequest:t,buildValueAddPromotionRequest:a}});
/*! pages/cop/booking-form/sica/sign-in/sign-in-response-processor.js*/
"use strict";dio.di.define("SignInResponseProcessor",function(e,t){function s(e){var t=dio.getClientData("protectionData"),s=e["globale-errors"]||[],a=e["field-errors"]||[],o=s.concat(a)[0],r={};return r.serverError=e.error||o&&o.value,t&&e.captcha&&e.captcha.nudetectContent&&(r.protectionData={actions:dio.getClientData("protectionData.actions"),protectionWidgetData:{captchaPresent:e.captcha.showCaptcha,protectionWidget:e.captcha.nudetectContent}}),r.serverError||e.captcha&&(!e.captcha||e.captcha.showCaptcha)||(r.success=!0),r}function a(e){var t=e.data,s=C.getServerOrFieldError(t),a=m.bookingForm.fields,o=a.contactDetails.newsletter,r=a.paymentDetails.paymentSelector,i=a.paymentDetails.CREDITCARD.configuration,n={},l=void 0;return s?n.serverError=s:((l=t.additionalFormElements)&&l.updateBillingDetailsField&&d(l.updateBillingDetailsField),t.user&&(c(t.user),p.injectSignedInTemplate({emailAddress:t.user.emailAddress,loyalty:t.user.loyalty}),t.callCenterModule&&p.injectCallCenterModule({callCenterModuleData:t.callCenterModule}),m.user.emailAddress.set(t.user.emailAddress),m.user.phone.set(t.user.phone),m.user.firstName.set(t.user.firstName),m.user.lastName.set(t.user.lastName),m.user.accountId.set(t.user.accountId),m.user.postCode.set(t.user.postCode),m.user.countryCode.set(t.user.countryCode),m.user.smsCountryCode.set(t.user.smsCountryCode),t.user.loyalty&&m.user.loyalty.set(t.user.loyalty),t.user.segments&&m.user.segments.set(t.user.segments),t.user.loyalty.loyaltyRewards&&m.dealsAndDiscounts.discountOptions.loyaltyRewardsRedeemOption.configuration.set(t.user.loyalty.loyaltyRewards),u(t.user),t.user.accountId&&i.get().paymentInitializationPostParameters&&Object.assign(i.get().paymentInitializationPostParameters,{accountId:t.user.accountId}),t.user.savedCards&&i.set($.extend({},i.get(),{savedCards:t.user.savedCards})),n.user=!0),t.isBookingFormCollapsed&&m.bookingForm.isBookingFormCollapsed.set(!0),t.hideNewsletterField&&o.getDOM()&&o.getDOM().addClass("hidden"),t.hcomRewardsCreditCard&&t.hcomRewardsCreditCard.showCTA?m.hcomRewardsCreditCard.sdkConfig.set(t.hcomRewardsCreditCard):m.hcomRewardsCreditCard.sdkConfig.set({showCTA:!1}),t.preselectedPaymentMethod&&r.set(t.preselectedPaymentMethod)),n}function d(e){var t=m.bookingForm.fields.contactDetails.updateBillingDetails;i.render(t,{updateBillingDetailsData:e})}function c(e){if(dio.getClientData("baseConfig.lockMainGuestName")){var t=m.bookingForm.fields.roomDetails.room0.mainGuest;e.firstName=t.firstName.value,e.lastName=t.lastName.value}}function u(e){var t=m.bookingForm.fields,s=t.contactDetails,a=t.billingDetails;o(t.roomDetails.room0.mainGuest.firstName,e.firstName),o(t.roomDetails.room0.mainGuest.lastName,e.lastName),e.emailAddress&&o(s.email,e.emailAddress),e.phone&&o(s.phone,e.phone),e.countryCode&&o(a.country,e.countryCode),e.postCode&&o(a.postCode,e.postCode),n.putToCache("initialValues",[m.bookingForm.fields.billingDetails.country,m.bookingForm.fields.billingDetails.postCode,m.bookingForm.fields.paymentDetails.CREDITCARD.creditCardType])}function o(e,t){var s=e.getDOM();s&&(e.set(t),s.is(":visible")&&e.triggerDOMEvent("blur"))}function r(e){var t=m.bookingSummary.vipvap,s={valueAddPromotions:e.data.valueAddPromotions,containerClasses:"mv-base mh-med mh-none--xs"};i.render(t,s)}var m=e("LiveState"),p=e("TemplateInjector"),i=e("TemplateRenderer"),n=e("UtilityService"),C=e("ServerErrorProcessor");t.exports={processSignInResponse:s,processUserDataResponse:a,processValueAddPromotionResponse:r}});
/*! pages/cop/booking-form/sica/forgotten-password/forgotten-password-request-builder.js*/
"use strict";function _defineProperty(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}dio.di.define("ForgottenPasswordRequestBuilder",function(e,t){function r(e){var t=dio.getClientData("sica.forgottenPassword.emailAddressField.name");return{url:dio.getClientData("sica.forgottenPassword.resetPasswordURL"),type:"POST",dataType:"json",data:_defineProperty({},t,e.fields.email.get().trim())}}t.exports={buildForgottenPasswordRequest:r}});
/*! pages/cop/booking-form/sica/forgotten-password/forgotten-password-redesigned-request-builder.js*/
"use strict";function _defineProperty(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}dio.di.define("ForgottenPasswordRedesignedRequestBuilder",function(e,t){function i(e){var t,i=dio.getClientData("sica.forgottenPassword.emailAddressField.name"),r=dio.getClientData("sica.forgottenPassword.initialBookingFormGetUrlParameterName");return{url:dio.getClientData("sica.forgottenPassword.resetPasswordURL"),type:"POST",dataType:"json",contentType:"application/json; charset=UTF-8",data:JSON.stringify((t={},_defineProperty(t,i,e.fields.email.get().trim()),_defineProperty(t,r,dio.getClientData("baseConfig.initialBookingFormGetUrl")),t))}}t.exports={buildForgottenPasswordRequest:i}});
/*! pages/cop/booking-form/sica/forgotten-password/forgotten-password-response-processor.js*/
"use strict";dio.di.define("ForgottenPasswordResponseProcessor",function(e,r){function t(e){var r=e.fields.email.get(),o={type:"assurance",title:dio.i18n("profiles.forgottenpassword.title.thanks"),iconSize:"medium",iconName:"tick",additionalClasses:"mb-mouse fs-mouse",isEmphasised:!0,content:dio.i18n("account.account_details.passwordreset.confirmation",r)};i.render(a.sica.signInForm.notification,o)}function o(e,r){var o=r.data,s=c.getServerOrFieldError(o),i=dio.getClientData("sica.forgottenPassword.emailAddressField.name");s?n(s,e):o&&o[i]&&o[i].error?n(o[i].error,e):(a.sica.selectedFlow.set(dio.cop.sica.selectedFlow.signIn),t(e),d.sendSuccessfulResettingReport())}function n(e,r){var o=l.createGeneralErrorData({message:e});i.render(r.errorMessage,o)}function s(e){n(dio.i18n("fastbooking.error.generalloginerror"),e)}var a=e("LiveState"),i=e("TemplateRenderer"),c=e("ServerErrorProcessor"),d=e("ForgottenPasswordTracker"),l=e("GeneralErrorDataBuilder");r.exports={processSuccessResponse:o,processErrorResponse:s}});
/*! pages/cop/booking-form/sica/forgotten-password/forgotten-password-redesigned-response-processor.js*/
"use strict";dio.di.define("ForgottenPasswordRedesignedResponseProcessor",function(e,s){function r(e){var s=e.fields.email.get();n.sica.selectedFlow.set(dio.cop.sica.selectedFlow.signIn),t.render(n.sica.forgottenPasswordForm.confirmationMessage,{email:s}),a.sendSuccessfulResettingReport()}function o(e,s){var r=e.fields.email.get(),o=dio.getClientData("baseConfig.brandName");404===s.status?(a.sendNoAccountReport(),t.render(e.redesignedErrorMessage,{showNoAccountError:!0,email:r,brandName:o})):t.render(e.redesignedErrorMessage,{})}var n=e("LiveState"),t=e("TemplateRenderer"),a=e("ForgottenPasswordTracker");s.exports={processSuccessResponse:r,processErrorResponse:o}});
/*! pages/cop/booking-form/sica/forgotten-password/forgotten-password-service.js*/
"use strict";dio.di.define("ForgottenPasswordService",function(e,s){function o(e,s){var o;s.domEvent.preventDefault(),a.isFormValid(e)&&(a.turnProcessingStateOn(e),(o=dio.getClientData("sica.forgottenPassword.useRedesignedFlow")?$.ajax(t.buildForgottenPasswordRequest(e)).done(i.processSuccessResponse.bind(null,e)).fail(i.processErrorResponse.bind(null,e)):$.ajax(n.buildForgottenPasswordRequest(e)).done(d.processSuccessResponse.bind(null,e)).fail(d.processErrorResponse.bind(null,e))).always(function(){a.turnProcessingStateOff(e)}))}function r(e){u.empty(e.errorMessage)}var n=e("ForgottenPasswordRequestBuilder"),t=e("ForgottenPasswordRedesignedRequestBuilder"),d=e("ForgottenPasswordResponseProcessor"),i=e("ForgottenPasswordRedesignedResponseProcessor"),a=e("FormService"),u=e("TemplateRenderer");s.exports={submitForgottenPassword:o,cleanUpForgottenPasswordError:r}});
/*! pages/cop/booking-form/sica/sica-controller.js*/
"use strict";dio.di.define("SicaController",function(i){function e(){var e=r.sica.accountBenefit.getDOM();r.sica.getDOM().addClass("sica-signed-in"),e&&e.addClass("hidden")}function t(){var e=dio.getClientData("identifiedUser"),t={baseConfig:dio.getClientData("baseConfig"),sicaData:dio.getClientData("sica"),protectionData:dio.getClientData("protectionData"),loyaltyRewardsConfig:dio.getClientData("loyaltyRewardsConfig"),loyaltyData:dio.getClientData("user.loyalty"),identifiedUser:e};g.injectNotSignedInTemplates(t),e&&c.init(),s.init(),l.init(),t.sicaData.createAccount&&i("CreateAccountController").init(),d.init()}function n(){r.sica.getDOM().filter(":not(:visible)").empty()}function a(){var e=r.sica.getDOM().filter(":visible"),t=r.sica.getDOM().filter(":not(:empty)");e.is(":empty")&&(e.append(t.children()),r.sica.rebind(),r.externalLinks.rebind())}function o(){dio.util.responsive.createListener(),dio.event.subscribe("viewportChanged",a),r.user.emailAddress.get()?n():(t(),r.user.emailAddress.onChange(e))}var r=i("LiveState"),s=i("SicaFlowSelectorController"),l=i("SignInController"),d=i("ForgottenPasswordController"),c=i("IdentifiedUserController"),g=i("TemplateInjector");o()});
/*! pages/cop/booking-form/sica/identified-user/identified-user-controller.js*/
"use strict";dio.di.define("IdentifiedUserController",function(e,o){function i(e){var o=a.loyaltyRewardsDialUp.createAccount.getDOM(),i=a.sica.getDOM();e.value===dio.cop.sica.selectedFlow.identifiedUser.signIn?(i.removeClass("identified-user-forgotten-password").addClass("identified-user-sign-in"),u.cleanUpForgottenPasswordError(w.forgottenPasswordForm),o&&o.addClass("hidden")):e.value===dio.cop.sica.selectedFlow.identifiedUser.forgottenPassword?(c.resetForm(w.forgottenPasswordForm),i.removeClass("identified-user-sign-in").addClass("identified-user-forgotten-password"),c.refreshForm(w.forgottenPasswordForm),o&&o.addClass("hidden")):(i.removeClass("identified-user-sign-in identified-user-forgotten-password"),o&&o.removeClass("hidden"))}function s(){F.empty(a.bookingSummary.vipvap)}function n(){$.ajax({url:dio.getClientData("identifiedUser.clearIdentityUrl"),type:"GET",dataType:"JSON"}),dio.getClientData("sica.signIn.getValueAddPromotionsUrl")&&$.ajax(g.buildValueAddPromotionRequest()).done(m.processValueAddPromotionResponse).fail(s),a.sica.selectedFlow.set(dio.cop.sica.selectedFlow.flowSelector)}function t(){a.sica.selectedFlow.set(dio.cop.sica.selectedFlow.identifiedUser.forgottenPassword)}function r(){a.sica.selectedFlow.set(dio.cop.sica.selectedFlow.identifiedUser.signIn)}function d(){a.sica.selectedFlow.set(dio.cop.sica.selectedFlow.identifiedUser.signIn),a.sica.selectedFlow.onChange(i),w.signInForm.cancelButton.onDOMEvent("click",n),w.signInForm.forgottenPasswordLink.onDOMEvent("click",t),w.forgottenPasswordForm.cancelButton.onDOMEvent("click",r),w.signInForm.onDOMEvent("submit",function(e){e.domEvent.preventDefault(),f.submitSignIn(w.signInForm)}),w.forgottenPasswordForm.onDOMEvent("submit",u.submitForgottenPassword.bind(null,w.forgottenPasswordForm)),l.registerForm(a.sica.identifiedUser.signInForm),l.registerForm(a.sica.identifiedUser.forgottenPasswordForm)}var a=e("LiveState"),c=e("FormService"),l=e("CommonFormController"),f=e("SignInService"),g=e("SignInRequestBuilder"),m=e("SignInResponseProcessor"),u=e("ForgottenPasswordService"),F=e("TemplateRenderer"),w=a.sica.identifiedUser;o.exports={init:d}});
/*! pages/cop/booking-form/sica/sica-flow-selector/sica-flow-selector-controller.js*/
"use strict";dio.di.define("SicaFlowSelectorController",function(e,t){function i(e){e.value===dio.cop.sica.selectedFlow.flowSelector?n.sica.getDOM().addClass("sica-flow-selector"):n.sica.getDOM().removeClass("sica-flow-selector")}function o(){dio.getClientData("sica.isNativeAuthSupported")?l.redirectTo(window,dio.getClientData("sica.signIn.signInURL")):(dio.getClientData("loyaltyRewardsConfig.loyaltyDialUpEnabled")&&n.sica.notSignedInDialUpTogglingContainer.isOpened.get()||n.sica.selectedFlow.set(dio.cop.sica.selectedFlow.signIn),dio.getClientData("loyaltyRewardsConfig.loyaltyDialUpEnabled")&&s.toggleDialUpContainer())}function c(){dio.getClientData("sica.isNativeAuthSupported")?l.redirectTo(window,dio.getClientData("sica.createAccount.createAccountURL")):n.sica.selectedFlow.set(dio.cop.sica.selectedFlow.createAccount)}function a(){n.sica.selectedFlow.onChange(i),n.sica.flowSelector.createAccountButton.onDOMEvent("click",c),n.sica.flowSelector.signInButton.onDOMEvent("click",o)}var n=e("LiveState"),l=e("UtilityService"),s=e("SignInService");t.exports={init:a}});
/*! pages/common/common-tracking.js*/
dio.setValueByName("dio.common.tracking",function(){"use strict";function e(){for(var e=/akacd_pr_(\d+)=[^;]*~rv=(\d+)~/g,r=document.cookie,a,t=0,i,o,s="",n="",d=dio.sitecatalyst;null!==(a=e.exec(r));)t+=1,i=parseInt(a[1],10),o=parseInt(a[2],10),s=(1<t?",":"")+"H3664:"+("00"+i).slice(-3)+".00",isNaN(o)||(s+=0<o&&o<51?"1":50<o&&o<101?"0":"2"),n+=s;if(0<n.length){var l=window.s&&window.s.eVar34&&null!==window.s.eVar34?window.s.eVar34+","+n:n;d.setFullPropertiesS(),d.storeProperties({eVar34:l}),d.setFullPropertiesS(),d.sendPartialReport({eVar34:l},"","akacd and rv value")}}return{setAkamaiCookie:e}}());
/*! pages/cop/common/akamai-tracking.js*/
"use strict";$(function(){var i=dio.getObjectByName("dio.common.tracking.setAkamaiCookie");i&&i()});
/*! glassbox-alternative.js*/
"use strict";$(function(){if(-1===navigator.userAgent.indexOf("SamsungBrowser/7")){var e=document.createElement("script");e.id="_cls_detector",e.setAttribute("data-clsconfig","reportURI="+dio.getClientData("glassboxReportUrl")+"/cls_report;valueMaskingMode=whitelist;maskWhitelistValueByClass=replay-reveal;domMaskingMode=blacklist;domBlacklistMaskContentByClass=replay-conceal;recordScrolls=true;recordMouseMoves=true;ccAutoMask=true;ccAutoMaskKeepLastDigits=4"),e.src=dio.getClientData("glassboxSrcUrl"),document.getElementsByTagName("head")[0].appendChild(e),dio.uiLogging&&(dio.uiLogging.logUrlTime({log:{name:"cmd",type:"duration"},url:dio.getClientData("glassboxSrcUrl")}),dio.uiLogging.countByUrl({log:{name:"cmn"},count:0,url:"glassboxcloud.com"}))}});
/*! pages/hwa/common/atoshield-captcha.js*/
"use strict";$(function(){document.addEventListener("CaptchaNotShown",function(){dio.event.publish("atoShieldCaptchaNotShown"),dio.sitecatalyst.sendPartialReport({eVar33:"ATOShield Captcha Suppressed"},"","ATOShield Captcha Suppressed")}),document.addEventListener("CaptchaShown",function(){dio.event.publish("atoShieldCaptchaShown"),dio.sitecatalyst.sendPartialReport({eVar33:"ATOShield Captcha Shown to User"},"","ATOShield Captcha Shown to User")}),document.addEventListener("CaptchaWidgetReady",function(){dio.event.publish("atoShieldCaptchaReady"),dio.sitecatalyst.sendPartialReport({eVar33:"ATOShield Captcha Ready"},"","ATOShield Captcha Ready")}),document.addEventListener("CaptchaSolved",function(){dio.event.publish("atoShieldCaptchaSolved"),dio.sitecatalyst.sendPartialReport({eVar33:"ATOShield Captcha Solved"},"","ATOShield Captcha Solved")})});
/*! pages/cop/booking-form/payment-details/credit-card-controller.js*/
"use strict";dio.di.define("CreditCardController",function(t,e){function l(){var e=O.creditCardType.get(),t=M.getConfiguration(O.configuration.get().creditCards,e,"id");O.selectedCreditCard.set(t)}function r(){var e=O.selectedCreditCard.get(),t=O.selectedSavedCard.get(),r=e.cardTypeAdditionalMessage;t||(r?T.render(O.cardTypeAdditionalMessage,{type:"neutral",isEmphasised:!0,content:r,additionalClasses:"mt-mouse"}):T.empty(O.cardTypeAdditionalMessage))}function s(){var e=O.selectedCreditCard.get(),t=O.selectedSavedCard.get(),r=e.secondaryCurrencyWarningMessage;(!t||t&&t.acceptable)&&(r?T.render(O.secondaryCurrencyMessage,{type:"warning",isEmphasised:!0,content:r,additionalClasses:"mt-mouse"}):T.empty(O.secondaryCurrencyMessage))}function a(e){var t=O.creditCardTypeDetectorEnabled.get(),r=O.creditCardNumber.get(),a=O.selectedCreditCard.get(),i=N.isCreditCardNumberMatchingConfiguration(a,r),n=O.creditCardType.get(),o=M.getConfiguration(O.configuration.get().creditCards,n,"id"),d=N.isCreditCardNumberMatchingConfiguration(o,r);t&&i.hasMatchingPrefix&&!d.hasMatchingPrefix?V(e.previousValue):(l(),s())}function i(){var e=O.creditCardTypeDetectorEnabled.get(),t=O.creditCardNumber.get(),r=O.selectedCreditCard.get(),a=N.isCreditCardNumberMatchingConfiguration(r,t);e&&!a.hasMatchingPrefix&&D.getValidCreditCardType(t).done(function(e){return e&&O.creditCardType.set(e)}).fail(function(){var e=N.getValidCreditCardTypeFromConfig(t);e&&O.creditCardType.set(e)}).always(function(){return E.validateFieldAndShowResult(P,O.creditCardNumber)})}function n(e){var t=e.value,r=dio.cop.payments,a=r.CVV_DEFAULT_PLACEHOLDER,i=r.CVV_AMEX_PLACEHOLDER,n=r.AMERICAN_EXPRESS,o=t.brand===n?i:a;O.securityCode.getDOM().attr("placeholder",o)}function o(){var e=O.creditCardNumber.get(),t=D.getCreditCardBin(e,6);O.installments.bin.set(t)}function d(){var e=!!O.securityCode.validation.stateIndicator.get();O.getDOM().toggleClass("cvv-has-error",e)}function C(e){return!b.validation.validators.get().invalidCharsInventory(e).valid}function c(e){var t;dio.getClientData("validationConfig.isUnicodeCharacterAllowed")&&C(R[e].get())||(E.copyIntoEmptyField(R[e],O[e]),E.showAllValidationResults(P))}function u(){return c("firstName")}function g(){return c("lastName")}function m(){E.copyIntoEmptyField(O.firstName,R.firstName),E.showAllValidationResults(P)}function f(){E.copyIntoEmptyField(O.lastName,R.lastName),E.showAllValidationResults(P)}function y(){A.init();var e=dio.getClientData("baseConfig.egSecurePayment");t("SecurePaymentController").init(),e&&t("EgSecurePaymentController").init(),O.configuration.get().installments&&F.init(),s()}function v(){return I.activateBookingPaymentInitializationFlow()}function p(){var e=O.selectedCreditCard.get().isCreditCardStorable;O.saveCardCheckbox.parentContainer.getDOM().toggleClass(w,!e),O.savedCardNickname.parentContainer.getDOM().toggleClass(w,!e)}function h(){O.configuration.onChange(l),O.configuration.onChange(s),O.creditCardType.onChange(a),O.selectedCreditCard.onChange(r),O.selectedCreditCard.onChange(n),O.selectedCreditCard.onChange(p),O.creditCardNumber.onDOMEvent("blur",i),O.creditCardNumber.validation.result.onChange(o,null,S.isValid),O.securityCode.validation.stateIndicator.onChange(d),O.firstName.onDOMEvent("blur",m),O.lastName.onDOMEvent("blur",f),R.firstName.onDOMEvent("blur",u),R.lastName.onDOMEvent("blur",g),t("CardNumberFormatController").init(),t("ExpiryDateController").init(),t("CardTypeLogoController").init(),l()}var b=t("LiveState"),E=t("FormService"),D=t("CardBinService"),M=t("UtilityService"),N=t("PaymentService"),S=t("LiveStateFilters"),T=t("TemplateRenderer"),A=t("SavedCardController"),F=t("InstallmentsController"),I=t("PaymentInitializationService"),P=b.bookingForm,O=P.fields.paymentDetails.CREDITCARD,R=P.fields.roomDetails.room0.mainGuest,V=dio.debounce(function(e){return O.creditCardType.set(e)},100),w=dio.cop.general.states.HIDDEN;h(),e.exports={prepareForDisplay:y,prepareForSubmit:v}});
/*! pages/cop/booking-form/payment-details/card-bin-service.js*/
"use strict";dio.di.define("CardBinService",function(e,n){function v(e){var n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:6,i;return j.stripCreditCardNumber(e).substr(0,n)}function i(e){var n=D.binService.configuration.get();return e.length>=n.minLengthThreshold}function r(e){var n=D.configuration.get().binService,i=n.endPointUrl,r=n.additionalUrlParams,t={url:""+i+e,type:"GET",dataType:"json",contentType:"application/json; charset=UTF-8",timeout:1e3};return r&&(t.data=r),t}function f(e){var n=D.binService.binServiceAjaxRequests.get();return n.length&&(n.forEach(function(e){return e.abort()}),n.length=0),e}function t(e){var n=e.paymentIdentifier,i=e.cardDetails.type,r=e.isEgSecurePaymentAvailable,t=j.getCreditCardConfigById(n);return D.binService.cardLiability.set(i),D.binService.isEgSecurePaymentAvailable.set(r),t.id===n?n:null}function a(e){var n=D.binService.binServiceAjaxRequests.get(),i=$.ajax(r(e));return n.push(i),i.then(t)}function c(e){return i(e)?a(e):f($.Deferred().reject())}function o(e){var n,i,r,t=v(e.value,D.binService.configuration.get().binMaxLength);D.binService.bin.set(t)}function u(e){var n=e.value&&e.value.bin||"";D.binService.bin.set(n)}function d(e){var n=e.value,i=D.creditCardNumber.get();b(n).done(function(e){D.binService.paymentIdentifier.set(e)}).fail(function(){D.binService.paymentIdentifier.set(j.getPartialCreditCardTypeFromConfig(i))})}function b(e){var n=D.binService.configuration.get(),i=$.Deferred();if(n){var r,t=v(e,n.binMaxLength),a=$.Deferred();c(t).done(function(e){return a.resolve(),e?i.resolve(e):i.reject()}).fail(function(){i.reject(),a.reject(),D.binService.isEgSecurePaymentAvailable.set(!1)}),i.fail(function(){return D.binService.cardLiability.set(!1)}),D.binService.binResponseDeferredObj.set(a)}else i.reject();return i.promise()}function g(e){var n,i,r=v(e,D.binService.configuration.get().binMaxLength),t=D.binService.bin.get(),a=D.binService.paymentIdentifier.get(),c=D.binService.binResponseDeferredObj.get(),o=c&&"pending"===c.state(),u;return a&&r===t&&!o?f($.Deferred().resolve(a).promise()):(f(),b(e))}function s(){var e=$.Deferred(),n=D.binService.paymentIdentifier.get();return n?e.resolve(n):e.reject(),e.promise()}function l(e){var n;return D.binService.configuration.get()?g(e):s()}function S(){var e,n=D.binService.configuration.get().binMaxLength,i=D.binService.bin.get(),r=i&&i.length===n,t=!D.binService.paymentIdentifier.get();return r&&t}function C(e){D.binService.paymentIdentifier.set(j.getPartialCreditCardTypeFromConfig(e.value))}function m(e){D.binService.configuration.set(e)}function p(){D.creditCardNumber.onChange(C,null,S),D.creditCardNumber.onChange(o),D.binService.bin.onChange(d)}function y(){var e=D.configuration.get().binService;e?(m(e),p()):D.creditCardNumber.onChange(d),D.selectedSavedCard.onChange(u)}var h=e("LiveState"),j=e("PaymentService"),D=h.bookingForm.fields.paymentDetails.CREDITCARD;y(),n.exports={getCreditCardBin:v,getValidCreditCardType:l}});
/*! pages/cop/booking-form/payment-details/card-type-logo-controller.js*/
"use strict";dio.di.define("CardTypeLogoController",function(e,o){function n(e){var o=e.value,n=r.getCreditCardConfigById(o);g.cardTypeLogo.paymentLogo.set(n&&n.paymentLogo)}function t(e){var o=e.value?{paymentLogo:e.value}:null;d.render(g.cardTypeLogo,o)}function a(){g.binService.paymentIdentifier.onChange(n),g.cardTypeLogo.paymentLogo.onChange(t)}var i=e("LiveState"),r=e("PaymentService"),d=e("TemplateRenderer"),g=i.bookingForm.fields.paymentDetails.CREDITCARD;o.exports={init:a}});
/*! pages/cop/booking-form/payment-details/cvv-hint-controller.js*/
"use strict";dio.di.define("CvvHintController",function(e){function t(e){var t;e.domEvent.preventDefault(),o.show({anim:0,escToClose:!0,clickMaskToClose:!0,data:{type:"cvvHintOverlay",id:"cvv-hint-overlay"}}),v.closeIcon.rebind()}function i(){c.onDOMEvent(["click","touchstart"],t)}var n=e("LiveState"),o=e("OverlayService"),v=n.bookingForm.fields.paymentDetails.CREDITCARD.securityCode.cvvHint,c=v.triggerItem;i()});
/*! pages/cop/booking-form/payment-details/saved-card-controller.js*/
"use strict";dio.di.define("SavedCardController",function(e,t){function a(){var e=F.configuration.get().savedCards;return $.isArray(e)}function r(){var e=F.configuration.get().savedCards;return a()&&0<e.length}function d(){var e=F.configuration.get(),t=r();F.getDOM().toggleClass("saved-card-exists",t),t&&h.injectSavedCards(e.savedCards)}function s(){var e=F.savedCardSelector.get(),t,a=void 0;e!==(F.selectedSavedCard.get()?F.selectedSavedCard.get().id:"")&&r()&&((a=b.getFirstMatchingConfiguration(F.configuration.get().savedCards,e,"id"))&&!a.id&&(a=void 0),F.selectedSavedCard.set(a))}function o(){var e=F.selectedSavedCard.get();e?(F.getDOM().toggleClass("not-acceptable-saved-card",!e.acceptable),F.getDOM().toggleClass("no-cvv-saved-card",!!e.bookingAllowedWithNoCvv)):(F.getDOM().removeClass("not-acceptable-saved-card"),F.getDOM().removeClass("no-cvv-saved-card"))}function i(){var e=r(),t=!F.selectedSavedCard.get()&&a();F.getDOM().toggleClass("new-card",t),e&&t&&b.restoreFromCache("initialValues")}function n(e){var t=dio.getClientData("cop.mvt6544.saveCardCheckboxLogicReversed")?!e.value:!!e.value;F.getDOM().toggleClass("save-card",t)}function c(){var e=F.selectedSavedCard.get();e&&e.statusMessage?y.render(F.savedCardStatusMessage,{message:e.statusMessage,isWarned:!e.acceptable}):y.render(F.savedCardStatusMessage)}function l(){var e=F.selectedSavedCard.get();e&&e.country?x.country.set(e.country):b.restoreFromCache("initialValues",[x.country]),e&&e.postCode?x.postCode.set(e.postCode):b.restoreFromCache("initialValues",[x.postCode])}function v(){F.creditCardTypeDetectorEnabled.set(!F.selectedSavedCard.get())}function C(){var e=F.selectedSavedCard.get();e&&F.creditCardType.set(e.cardType)}function g(){M.resetField(F.creditCardType),M.resetField(F.creditCardNumber),M.resetField(F.securityCode),M.resetField(F.expiryDate.expiryYear),M.resetField(F.expiryDate.expiryMonth)}function u(){F.installments.bin.set(null)}function f(e){e.domEvent&&(g(),u(),s())}function p(){i(),l(),c(),o(),v(),C()}function S(){d(),s(),i(),F.savedCardSelector.set(F.savedCardSelector.get(),!0)}function m(){F.configuration.onChange(S),F.saveCardCheckbox.onChange(n),F.savedCardSelector.onChange(f),F.selectedSavedCard.onChange(p),dio.getClientData("cop.mvt6544.defaultSaveCard")&&F.saveCardCheckbox.set(!dio.getClientData("cop.mvt6544.saveCardCheckboxLogicReversed")),dio.getClientData("cop.mvt6544.defaultSaveCardTrack")&&e("Mvt6544reportingPatch").init(),S()}var D=e("LiveState"),h=e("TemplateInjector"),y=e("TemplateRenderer"),b=e("UtilityService"),M=e("FormService"),F=D.bookingForm.fields.paymentDetails.CREDITCARD,x=D.bookingForm.fields.billingDetails;t.exports={init:m}});
/*! pages/cop/booking-form/payment-details/installments-controller.js*/
"use strict";dio.di.define("InstallmentsController",function(n,e){function t(){var n=o.getInstallmentsOptionsDisplayAction();o.updateInstallmentsOptions(n)}function s(){var n=r.selectedSavedCard.get(),e=n&&n.installments||{};o.setInstallmentsInConfiguration(e)}function a(){var n,e=void 0;r.configuration.get().installments.availableInstallmentsUrl&&r.installments.bin.get()&&(e=d.buildAvailableInstallmentsRequest(),$.ajax(e).fail(function(){o.setInstallmentsInConfiguration({})}).done(function(n){o.setInstallmentsInConfiguration(n)}))}function i(){var n=r.configuration.get().installments,e=!!n.options;r.configuration.onChange(t),n.isBinCheckRequired?(r.installments.hasRenderTimeOptions.set(e),e?(t(),r.installments.bin.onChange(t),r.selectedSavedCard.onChange(t)):(s(),r.installments.bin.onChange(a),r.selectedSavedCard.onChange(s))):(o.updateInstallmentsRelatedMessagesAndPrices(),r.configuration.onChange(o.updateInstallmentsRelatedMessagesAndPrices),r.installments.option.onChange(o.updateInstallmentsRelatedMessagesAndPrices))}var l=n("LiveState"),o=n("InstallmentsService"),d=n("InstallmentsRequestBuilder"),r=l.bookingForm.fields.paymentDetails.CREDITCARD;e.exports={init:i}});
/*! pages/cop/booking-form/payment-details/card-number-format-controller.js*/
"use strict";dio.di.define("CardNumberFormatController",function(e,r){function t(){v&&v.destroy(),f.attr("placeholder",C.placeholder)}function a(){return!!m.cardNumberFormat.get()}function n(){var e=v.getFormattedValue();m.creditCardNumber.set(e)}function d(e){v&&v.destroy(),v=new Cleave(f,{numericOnly:!0,blocks:e.pattern,delimiter:e.separator}),f.attr("placeholder",e.placeholder)}function i(e){var r=e.value;r?d(r):t()}function o(e){var r=e.value||e,t,a=void 0;r.id!==C.id&&(a=r.cardNumber&&r.cardNumber.format),m.cardNumberFormat.set(a,!0)}function c(){m.selectedCreditCard.onChange(o),m.binService.paymentIdentifier.onChange(function(e){var r=e.value,t;o(l.getCreditCardConfigById(r))}),m.cardNumberFormat.onChange(i),m.creditCardNumber.onDOMEvent("blur",n,"self",a),f.attr("maxlength",23)}var u=e("LiveState"),l=e("PaymentService"),m=u.bookingForm.fields.paymentDetails.CREDITCARD,C=l.getCreditCardConfigById("default"),f=m.creditCardNumber.getDOM(),v=void 0;r.exports={init:c}});
/*! pages/cop/booking-form/payment-details/expiry-date-controller.js*/
"use strict";dio.di.define("ExpiryDateController",function(e,t){function n(){var e=d.get().replace(/[^\d]/g,"");d.set(e)}function i(){var e=l.get().replace(/[^\d]/g,""),t=parseInt(e,10);e.length<2&&1<t&&t<10&&(e="0"+e),12<t&&(e="12"),l.set(e)}function r(){"0"!==l.get()&&"00"!==l.get()||l.set("01"),"1"===l.get()&&l.set("0"+l.get())}function o(){s.resetField(d),s.resetField(l)}function a(){d.onChange(n),l.onChange(i),l.onDOMEvent("blur",r),c.selectedSavedCard.onChange(o)}var g=e("LiveState"),s=e("FormService"),c=g.bookingForm.fields.paymentDetails.CREDITCARD,d=c.expiryDate.expiryYear,l=c.expiryDate.expiryMonth;t.exports={init:a}});
/*! pages/cop/booking-form/common/tracking/secure-payment-tracker.js*/
"use strict";dio.di.define("SecurePaymentTracker",function(e,t){function i(){c.sendPartialReport({eVar33:"3DS Displayed"})}function a(){n.securePayment.active.onChange(i,null,r.isTruthy)}var n=e("LiveState"),r=e("LiveStateFilters"),c=e("SiteCatalystService");t.exports={init:a}});
/*! pages/cop/booking-form/payment-details/secure-payment-controller.js*/
"use strict";dio.di.define("SecurePaymentController",function(e,r){function t(e){return-1===e.get().indexOf(h)}function i(){l.bookingForm.commonErrorMessage.messageObject.set({description:dio.i18n("fastbooking.cc.auth.3ds.overlay.refresh.error")}),s()}function n(e){var r=v.iframe,t=r.config.get(),n=t.refreshData.maxNumberOfRefreshes,o=v.iframe.refreshCount.get();if(e&&e.domEvent.preventDefault(),n<=o)return i(),void 0;r.getDOM().attr("src",t.url),o++,v.iframe.refreshCount.set(o)}function o(){g.render(v,{locale:dio.getClientData("common.locale"),brandName:dio.getClientData("brandName")})}function a(){v.active.set(!0),v.occured.set(!0),v.iframe.refreshCount.set(-1),l.environment.hash.set(h),o(),(C=new dio.widget.ModalOverlay({overlay:v.getDOM(),anim:0,manipulateHistory:!1,escToClose:!1,clickMaskToClose:!1})).subscribe("close",s),n(),C.show(),v.iframe.getDOM().focus()}function s(){v.active.get()&&(v.active.set(!1),l.environment.hash.set(""),C&&(C.hide(),C.destroy(),v.isChallengeAbandoned.set(!0)),v.getDOM().remove())}function c(e){e.errorMessage&&(l.bookingForm.commonErrorMessage.messageObject.set({description:e.errorMessage}),l.tracking.bookingForm.errors.set({errorType:"securePaymentError"}),s()),e.redirectionUrl&&f.redirectTo(window,e.redirectionUrl)}function m(){var e=u.selectedCreditCard.get();u.getDOM().toggleClass("secure-payment-enabled",e.isSecurePaymentAvailable)}function d(){e("SecurePaymentTracker").init(),v.iframe.config.onChange(a),l.environment.hash.onChange(s,"self",t),v.iframe.refreshButton.onDOMEvent("click",n),u.selectedCreditCard.onChange(m),m()}var l=e("LiveState"),f=e("UtilityService"),g=e("TemplateRenderer"),u=l.bookingForm.fields.paymentDetails.CREDITCARD,v=l.securePayment,h="securepayment",C=void 0;r.exports={processServerResponse:c,init:d}});
/*! mvt6544-reporting-patch.js*/
"use strict";dio.di.define("Mvt6544reportingPatch",function(e,t){function n(){var e=c.buildMvtReport(6544);e&&c.sendPartialReport({eVar34:e,list3:"D=v34"}),u.selectedSavedCard.removeHandler("change",n),v.selectedPayments.removeHandler("change",a)}function i(){u.selectedSavedCard.onChange(n,null,d.isFalsy)}function a(){var e;l.isPaymentSelected(u.configuration.get().id)?n():v.selectedPayments.onChange(a)}function r(){var e;u.configuration.get().savedCards&&u.configuration.get().savedCards.length?i():a()}function s(){g?r():o.sica.isUserSignedIn.onChange(r)}var o=e("LiveState"),d=e("LiveStateFilters"),c=e("SiteCatalystService"),l=e("PaymentService"),g=dio.getClientData("sica.isUserSignedIn"),v=o.bookingForm.fields.paymentDetails,u=v.CREDITCARD;t.exports={init:s}});
/*! pages/cop/common/payment/common-eg-secure-payment-service.js*/
"use strict";dio.di.define("CommonEgSecurePaymentService",function(e,n){function t(t,r){return i.render(t,{iframeSrc:r.egIframeFullUrl,locale:dio.getClientData("common.locale"),brandName:dio.getClientData("brandName")}).then(function(){t.overlay.set(new dio.widget.Overlay({overlay:t.getDOM(),anim:0,manipulateHistory:!1,overlayContentShared:!0,escToClose:!1}));var e=r.payThreeDsConnectorUrl||r.payThreeDSConnectorUrl;return dio.require(e)}).then(function(){var e=t.overlay.iframe.getDOM().attr("id"),n=r.egIframeOriginUrl;return t.ThreeDSConnector.set(new window.PayThreeDSConnector.ThreeDSConnector(e,n))})}function r(e,n,t){function r(){return m&&m("FAILED"),a.ThreeDSConnector.set(!1),a.paymentSubmitDeferred.get().resolve(),$.Deferred().reject()}function o(e){m&&m();var n=u(e);return s.isPaymentInitializationSuccessful.set(!1),$.ajax(n)}function i(e){var n=e.createSessionResponseType,t=n&&n.paymentSessionId&&n.encodedInitConfig,r=$.Deferred().reject();if(s.isPaymentInitializationSuccessful.set(!0),a.paymentSubmitDeferred.get().resolve(),t){var o=n.paymentSessionId,i=n.encodedInitConfig;a.paymentSessionId.set(o),r=y.promiseToDeferred(a.ThreeDSConnector.get().initSession({paymentSessionId:o,encodedInitConfig:i}))}return r}var a=e.egSecurePaymentLiveStateNode,s=e.paymentInitializationLiveStateNode,c=n||{},u=c.paymentSessionRequestBuilderFunction,d=c.paymentSessionErrorResponseHandler,l=t||{},m=l.setupStatusTrackingFunction,S=l.initSessionStatusTrackingFunction,g,f={referenceId:dio.getObjectByName("commonDataBlock.user.guid")};return y.promiseToDeferred(a.ThreeDSConnector.get().setup(f)).then(o,r).then(i,d).done(function(e){S&&S(e.statusCode)})}function o(e,n,t){var r=t||{},o=r.modalDisplayTrackingFunction,i=r.paymentChallengeTrackingFunction,a,s,c={paymentSessionId:n.paymentSessionId.get(),encodedChallengeConfig:e.value.encodedChallengeConfig};return o&&o(),n.isCancellationRequested.set(!1),n.overlay.get().show(),n.overlay.iframe.getDOM().focus(),n.ThreeDSConnector.get().challenge(c).then(function(e){i&&i(e)})}var i=e("TemplateRenderer"),y=e("UtilityService");n.exports={configureThreeDSOverlayAndConnector:t,setupThreeDSConnector:r,showThreeDSChallenge:o}});
/*! pages/cop/booking-form/common/tracking/eg-secure-payment-tracker.js*/
"use strict";dio.di.define("EgSecurePaymentTracker",function(t,e){function n(t){var e;return["3DSv2",t,1<arguments.length&&void 0!==arguments[1]?arguments[1]:"SUCCESS"].join("::")}function r(t,e){i.sendPartialReport({eVar33:n(t,e)})}function a(){i.sendPartialReport({eVar33:"3DS v2 Displayed"})}var i=t("SiteCatalystService"),u=function t(e){return r("initSession",e)},c=function t(e){return r("challenge",e)},o=function t(e){return r("setup",e)};e.exports={trackEgSecurePaymentModalDisplayed:a,trackInitSessionStatus:u,trackChallengeStatus:c,trackSetupStatus:o}});
/*! pages/cop/booking-form/payment-details/eg-secure-payment-controller.js*/
"use strict";var _slicedToArray=function(){function t(e,n){var t=[],r=!0,a=!1,i=void 0;try{for(var o=e[Symbol.iterator](),s;!(r=(s=o.next()).done)&&(t.push(s.value),!n||t.length!==n);r=!0);}catch(e){a=!0,i=e}finally{try{!r&&o.return&&o.return()}finally{if(a)throw i}}return t}return function(e,n){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();dio.di.define("EgSecurePaymentController",function(e,n){function t(){var e={paymentSessionRequestBuilderFunction:h.buildPaymentSessionRequest,paymentSessionErrorResponseHandler:C.processErrors},n={setupStatusTrackingFunction:f.trackSetupStatus,initSessionStatusTrackingFunction:f.trackInitSessionStatus},t={egSecurePaymentLiveStateNode:R,paymentInitializationLiveStateNode:O};b.setupThreeDSConnector(t,e,n)}function r(){function e(){var e=T&&D.binService.binResponseDeferredObj,n;return e&&"resolved"===e.get().state()?D.binService.isEgSecurePaymentAvailable.get():o&&o.isEgSecurePaymentAvailable}var n=D.configuration.get(),t=D.selectedSavedCard.get(),r=t?t.cardType:D.binService.paymentIdentifier.get(),a=n.creditCards.filter(function(e){return e.id===r}),i,o=_slicedToArray(a,1)[0],s=!!e()&&o,c=s.egSecurePaymentLogo,u=s.egSecurePaymentLabel,l=!(!t||!t.securePaymentMessagingDisabled),g=R.secureCardNotice;u&&c&&!l?(S.render(g,{egSecurePaymentLogo:c,egSecurePaymentLabel:u,isLargeScreen:!0},g.placeholder.$object),S.render(g,{egSecurePaymentLogo:c,egSecurePaymentLabel:u,isLargeScreen:!1},g.placeHolderSmallDevices.$object),P.getDOM().toggleClass("eg-secure-payment-enabled",!0)):d()}function d(){var e=R.secureCardNotice;P.getDOM().toggleClass("eg-secure-payment-enabled",!1),S.empty(e.placeHolderSmallDevices),S.empty(e.placeholder)}function i(e){p.process(e)}function o(){C.setPaymentInitializationState(!1),p.showResumeOrderErrorMessage()}function a(e){var n,t,r={resumeOrderUrl:R.threeDSChallenge.get().resumeOrderUrl};e&&Object.assign(r,e);var a=v.buildResumeOrderRequest(r);$.ajax(a).done(i).fail(o).always(g)}function s(){var e;c(),l(),R.isCancellationRequested.set(!0),a({isAbandonRequested:R.isCancellationRequested.get()})}function c(){R.overlay.get().hide()}function u(){if(c(),l(),R.isCancellationRequested.get())return g(),void 0;a()}function l(){y.bookingForm.isInProcessingState.set(!0)}function g(){y.bookingForm.isInProcessingState.set(!1)}function m(){var e=dio.getClientData("baseConfig.egSecurePayment");b.configureThreeDSOverlayAndConnector(R,e).then(function(){R.overlay.get().subscribe("close",s)}),R.paymentSubmitDeferred.onChange(t),R.threeDSChallenge.onChange(function(e){var n={modalDisplayTrackingFunction:f.trackEgSecurePaymentModalDisplayed,paymentChallengeTrackingFunction:f.trackChallengeStatus};b.showThreeDSChallenge(e,R,n).finally(u)}),R.overlay.securePaymentMessageClose.onDOMEvent("click",s),D.binService.paymentIdentifier.onChange(d),D.selectedSavedCard.onChange(r),D.creditCardNumber.onDOMEvent("blur",r)}var y=e("LiveState"),S=e("TemplateRenderer"),f=e("EgSecurePaymentTracker"),v=e("ResumeOrderRequestBuilder"),b=e("CommonEgSecurePaymentService"),p=e("ResumeOrderResponseProcessor"),C=e("PaymentInitializationService"),h=e("PaymentInitializationRequestBuilder"),P=y.bookingForm.fields.paymentDetails,D=P.CREDITCARD,R=y.egSecurePayment,O=y.paymentInitialization,T=D.binService.configuration.get();n.exports={init:m}});
/*! pages/cop/booking-form/contact-details/contact-details-controller.js*/
"use strict";dio.di.define("ContactDetailsController",function(e){function a(){var e=d.bookingForm.fields.paymentDetails.selectedPaymentConfig.get(),t=e.contactDetails&&e.contactDetails.isDisplayed;return void 0===t||t}function n(){return v.getChildren().every(function(e){return!e.container||!e.container.getDOM()||e.container.getDOM().hasClass("hidden")})}function o(){var e=d.sica.createAccountForm.fields.email.validation.result.get(),t=e&&e.valid,i=!v.email.get();t&&i&&v.email.set(d.sica.createAccountForm.fields.email.get())}function l(e,t){var i=e.container;m.toggleElementVisibility(i,t)}function r(){var e=a();if(l(v.email,e),l(v.phone,e),l(v.updateBillingDetails,e),1===dio.getClientData("numberOfRooms")){var t=v.guestNameFieldsSeparatorLine;m.toggleElementVisibility(t,e),v.newsletter.visibilityStatus.get()&&m.toggleElementVisibility(v.newsletter,e)}else{var i=n();v.isVisible.set(!i),m.toggleElementVisibility(v,!i)}u.refreshForm(d.bookingForm)}function s(){var e=d.sica.isUserSignedIn.get(),t=dio.getClientData("identifiedUser"),i=dio.getClientData("baseConfig.hideNewsletterField"),n=d.bookingForm.isBookingFormCollapsed.get(),o=!!(e||t||i)&&!n;d.bookingForm.fields.contactDetails.newsletter.visibilityStatus.set(!o),m.toggleElementVisibility(d.bookingForm.fields.contactDetails.newsletter,!o&&a())}function i(){var e=C.getSelectedItem(),t=e&&e.label.replace(/[\D]+/g,"");v.phoneCountryCode.selectedCountryCodeNumber.set(t)}function c(e){var t=e.domEvent.target.value;v.phoneCountryCode.set(t)}function g(){var e=v.phoneCountryCode,t=e.getDOM();v.phone.validation.rules.value.push({name:"phoneNumberContainsValidCharactersOnly",analyticsId:"F_B_13_2"}),C=new dio.widget.CustomDropdown({selector:t.selector,cont:t,iconToRight:!0}),i(),e.onDOMEvent("change",c),e.onChange(i),e.parentContainer.getDOM().addClass("js-ready")}function t(){var e=v.email,t=v.phone,i=v.newsletter;e.isDirty=!!e.get(),t.isDirty=!!t.get(),v.phoneCountryCode.getDOM()&&g(),d.sica.createAccountForm.fields.email.onDOMEvent("blur",o),i.getDOM()&&v.newsletter.visibilityStatusTrigger.onChange(s),d.bookingForm.fields.paymentDetails.selectedPayments.onChange(r)}var d=e("LiveState"),u=e("FormService"),m=e("UtilityService"),v=d.bookingForm.fields.contactDetails,C=void 0;t()});
/*! pages/cop/booking-form/page.booking.js*/
"use strict";!function(){function i(){function r(){return location.hash.replace(/^#/,"")}function e(i){window.location.href=window.location.href.replace(/#(.*)$/,"")+"#"+i}$(window).on("resize",function(){o.environment.screenWidth.set($(this).width())}),window.onhashchange=function(){o.environment.hash.set(r())},o.environment.hash.onChange(function(i){r()!==i.value&&e(i.value)})}var o=dio.di.require("LiveState"),r=$('script[data-template][data-deferred-src][data-loaded!="true"]:first').data("template");dio.template.call(r).done(function(){dio.di.require("BookingFormStepIndicatorsController"),dio.di.require("InterstitialController"),dio.di.require("SicaController"),dio.di.require("GeneralTracker"),dio.di.require("SicaTracker"),dio.di.require("TrustWidgetController"),dio.di.require("DealsAndDiscountsTracker"),dio.di.require("HeroImageTracker"),dio.di.require("BillingDetailsController"),dio.di.require("BookingFormController"),dio.di.require("BookingFormTracker"),dio.di.require("InputTrackerController"),dio.di.require("PaymentDetailsTracker"),dio.di.require("FinancialDetailsController"),dio.di.require("ContactDetailsController"),dio.di.require("DealsAndDiscountsController"),dio.di.require("BookButtonTooltipController"),dio.di.require("BookingRequestPollingService"),dio.di.require("KickboxEmailValidatorController"),dio.di.require("KickboxTracker"),dio.di.require("BookingFormCollapsedController"),dio.di.require("BookingFormCollapsedTracker"),dio.di.require("RoomDetailsTracker"),dio.di.require("RoomDetailsToggleButtonTracker"),dio.di.require("SingMessageController"),dio.di.require("HomeDetailsController"),dio.di.require("HcomRewardsCreditCardController"),dio.di.require("InsuranceController").init(),dio.di.require("CvvHintController"),dio.di.require("CvvRequiredOverlayController"),dio.di.require("MultipleImagesCarouselController"),dio.di.require("CancellationAccordionController"),dio.di.require("Mvt10025FamilyFriendlyBadgeTrackingController"),dio.di.require("AgreeToTermsMultiCheckboxController")}),dio.di.require("LiveStateFilters"),dio.di.require("LiveStateBuilder").build(hcomClientData),dio.di.require("CommonValidators"),dio.di.require("CharacterValidators"),dio.di.require("ChecksumValidators"),dio.di.require("EmailValidator"),dio.di.require("PaymentValidators"),dio.di.require("LiveStateValidators"),dio.di.require("BookingVisitorIdCookieCloner"),dio.di.require("GeneralErrorDataBuilder"),dio.di.require("BookingFormHomeAwayIovationController"),dio.di.require("ModuleController"),dio.di.require("UisPrimeController"),dio.di.require("TraderInformationController"),i()}();